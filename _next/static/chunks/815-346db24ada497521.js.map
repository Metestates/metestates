{"version":3,"file":"static/chunks/815-346db24ada497521.js","mappings":"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,EAAO,0BAA0Bjc,OAAO+mC,EAAE7K,UAAY,IAAI,KAAe,IAEzJ,MADA+nE,EAAWA,WAAal9D,EAClBk9D,EAEV,OAAOD,GCXAE,EAAmB,SAAUr+D,EAAU9zB,EAAQmqB,GACtD,IAAIlG,EAAQ,IAAIv5B,MAAMy/B,GAKtB,MAJAlG,EAAMnhC,KAAO,cACbmhC,EAAM6P,SAAWA,EACjB7P,EAAMooB,WAAavY,EAAS3P,OAC5BF,EAAMjkB,OAASA,EACTikB,GCLN,EAAiBl5B,OAAO+P,UAAUC,eCA/B,I,UCOP,MAAMq3F,EAAgB,gCAEtB,SAASC,EAAgB/uF,GACvB,OAAOgvF,EAAgBhvF,EAAIG,WAAW,IAGxC,MAAM6uF,EAAkB,CACtB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,MACA,MACA,MACA,UACA,MACA,MACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,GACA,GACA,MACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,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","sources":["webpack://_N_E/./node_modules/@chakra-ui/css-reset/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/portal/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/react-env/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/provider/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/anatomy/dist/index.esm.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/util.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/conversion.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/format-input.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/index.js","webpack://_N_E/./node_modules/@ctrl/tinycolor/dist/module/random.js","webpack://_N_E/./node_modules/@chakra-ui/theme-tools/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/theme/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/alert/dist/index.esm.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-force-update.mjs","webpack://_N_E/./node_modules/@chakra-ui/toast/dist/index.esm.js","webpack://_N_E/./node_modules/@chakra-ui/react/dist/index.esm.js","webpack://_N_E/./node_modules/@metamask/detect-provider/dist/index.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/config/reducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/config/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/blockNumber/context.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/common/reducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/hooks/useDebounce.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/common/subscribeToNewBlock.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/window/context.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/blockNumber/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/blockNumbers/context.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/helpers/fromEntries.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/devtools.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/callsReducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/chainStateReducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/common.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall2/constants.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall2/encoder.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall/constants.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall/encoder.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/multicall.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall/decoder.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/multicall2.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/abi/multicall2/decoder.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/multiChainStates/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/hooks/useBlockNumbers.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/hooks/useDebouncePair.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/performMulticall.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/chainState/common/useDevtoolsReporting.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/notifications/reducer.js","webpack://_N_E/./node_modules/nanoid/index.browser.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/notifications/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/hooks/useBlockNumber.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/hooks/useLocalStorage.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/transactions/model.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/transactions/context.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/transactions/reducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/transactions/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/LocalMulticallProvider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/helpers/contract.js","webpack://_N_E/./node_modules/@ethersproject/networks/lib.esm/_version.js","webpack://_N_E/./node_modules/@ethersproject/networks/lib.esm/index.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/_version.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/formatter.js","webpack://_N_E/./node_modules/@ethersproject/constants/lib.esm/addresses.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/base-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/ws.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/websocket-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/url-json-rpc-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/alchemy-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/ankr-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/cloudflare-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/etherscan-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/fallback-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/ipc-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/infura-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/json-rpc-batch-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/nodesmith-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/pocket-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/web3-provider.js","webpack://_N_E/./node_modules/@ethersproject/providers/lib.esm/index.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/network/readonlyNetworks/reducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/helpers/isWebSocketProvider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/network/readonlyNetworks/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/network/network/reducer.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/helpers/injectedProvider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/network/network/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/helpers/eip1193.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/blockNumber/blockNumbers/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/window/provider.js","webpack://_N_E/./node_modules/@usedapp/core/dist/esm/src/providers/DAppProvider.js","webpack://_N_E/./node_modules/@wry/context/lib/context.esm.js","webpack://_N_E/./node_modules/@wry/equality/lib/equality.esm.js","webpack://_N_E/./node_modules/@wry/trie/lib/trie.esm.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/Log.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/Cache.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/Storage.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/Persistor.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/onCacheWrite.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/Trigger.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/onAppBackground.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/CachePersistor.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/persistCache.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/persistCacheSync.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/LocalForageWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/AsyncStorageWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/IonicStorageWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/LocalStorageWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/MMKVStorageWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/MMKVWrapper.js","webpack://_N_E/./node_modules/apollo3-cache-persist/lib/storageWrappers/SessionStorageWrapper.js","webpack://_N_E/./node_modules/bech32/index.js","webpack://_N_E/./node_modules/localforage/dist/localforage.js","webpack://_N_E/./node_modules/lodash.merge/index.js","webpack://_N_E/./node_modules/lodash.pickby/index.js","webpack://_N_E/./node_modules/next/head.js","webpack://_N_E/./node_modules/optimism/lib/bundle.esm.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/helpers.js","webpack://_N_E/./node_modules/@apollo/client/cache/core/cache.js","webpack://_N_E/./node_modules/@apollo/client/cache/core/types/common.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/maybeDeepFreeze.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/entityStore.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/readFromStore.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/key-extractor.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/policies.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/stringifyForDisplay.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/writeToStore.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/object-canon.js","webpack://_N_E/./node_modules/@apollo/client/cache/inmemory/reactiveVars.js","webpack://_N_E/./node_modules/zen-observable-ts/module.js","webpack://_N_E/./node_modules/@apollo/client/link/core/ApolloLink.js","webpack://_N_E/./node_modules/@apollo/client/link/utils/createOperation.js","webpack://_N_E/./node_modules/@apollo/client/link/utils/transformOperation.js","webpack://_N_E/./node_modules/@apollo/client/link/utils/validateOperation.js","webpack://_N_E/./node_modules/@apollo/client/link/core/execute.js","webpack://_N_E/./node_modules/@apollo/client/link/http/serializeFetchParameter.js","webpack://_N_E/./node_modules/@apollo/client/link/utils/throwServerError.js","webpack://_N_E/./node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","webpack://_N_E/./node_modules/@apollo/client/link/http/checkFetcher.js","webpack://_N_E/./node_modules/graphql/language/printString.mjs","webpack://_N_E/./node_modules/graphql/language/printer.mjs","webpack://_N_E/./node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","webpack://_N_E/./node_modules/@apollo/client/link/utils/fromError.js","webpack://_N_E/./node_modules/@apollo/client/link/http/createHttpLink.js","webpack://_N_E/./node_modules/@apollo/client/link/http/selectURI.js","webpack://_N_E/./node_modules/@apollo/client/link/http/createSignalIfSupported.js","webpack://_N_E/./node_modules/@apollo/client/link/http/rewriteURIForGET.js","webpack://_N_E/./node_modules/@apollo/client/link/http/HttpLink.js","webpack://_N_E/./node_modules/@apollo/client/utilities/observables/asyncMap.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/errorHandling.js","webpack://_N_E/./node_modules/@apollo/client/utilities/observables/iteration.js","webpack://_N_E/./node_modules/@apollo/client/utilities/observables/subclassing.js","webpack://_N_E/./node_modules/@apollo/client/utilities/observables/Concast.js","webpack://_N_E/./node_modules/@apollo/client/errors/index.js","webpack://_N_E/./node_modules/@apollo/client/core/networkStatus.js","webpack://_N_E/./node_modules/@apollo/client/core/ObservableQuery.js","webpack://_N_E/./node_modules/@apollo/client/core/LocalState.js","webpack://_N_E/./node_modules/@apollo/client/core/QueryInfo.js","webpack://_N_E/./node_modules/@apollo/client/core/QueryManager.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/mergeOptions.js","webpack://_N_E/./node_modules/@apollo/client/core/ApolloClient.js","webpack://_N_E/./node_modules/@apollo/client/version.js","webpack://_N_E/./node_modules/@apollo/client/react/context/ApolloProvider.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/arrays.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/cloneDeep.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/compact.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/makeUniqueId.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/mergeDeep.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/objects.js","webpack://_N_E/./node_modules/@apollo/client/utilities/graphql/directives.js","webpack://_N_E/./node_modules/@apollo/client/utilities/graphql/fragments.js","webpack://_N_E/./node_modules/@apollo/client/utilities/graphql/getFromAST.js","webpack://_N_E/./node_modules/@apollo/client/utilities/graphql/storeUtils.js","webpack://_N_E/./node_modules/@apollo/client/utilities/common/filterInPlace.js","webpack://_N_E/./node_modules/@apollo/client/utilities/graphql/transform.js","webpack://_N_E/./node_modules/@swc/helpers/src/_async_to_generator.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_define_property.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_object_spread.mjs","webpack://_N_E/./node_modules/graphql/language/visitor.mjs"],"sourcesContent":["// ../../react-shim.js\nimport React from \"react\";\n\n// src/css-reset.tsx\nimport { Global } from \"@emotion/react\";\nvar CSSReset = () => /* @__PURE__ */ React.createElement(Global, {\n  styles: `\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: 'kern';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type=\"button\"]::-moz-focus-inner,\n      [type=\"reset\"]::-moz-focus-inner,\n      [type=\"submit\"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type=\"checkbox\"],\n      [type=\"radio\"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type=\"number\"]::-webkit-inner-spin-button,\n      [type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      [type=\"search\"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type=\"search\"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role=\"button\"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    `\n});\nvar css_reset_default = CSSReset;\nexport {\n  CSSReset,\n  css_reset_default as default\n};\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/portal-manager.tsx\nimport { __DEV__ } from \"@chakra-ui/utils\";\nimport { createContext } from \"@chakra-ui/react-utils\";\nvar [PortalManagerContextProvider, usePortalManager] = createContext({\n  strict: false,\n  name: \"PortalManagerContext\"\n});\nfunction PortalManager(props) {\n  const { children, zIndex } = props;\n  return /* @__PURE__ */ React.createElement(PortalManagerContextProvider, {\n    value: { zIndex }\n  }, children);\n}\nif (__DEV__) {\n  PortalManager.displayName = \"PortalManager\";\n}\n\n// src/portal.tsx\nimport { useForceUpdate, useSafeLayoutEffect } from \"@chakra-ui/hooks\";\nimport { isBrowser, __DEV__ as __DEV__2 } from \"@chakra-ui/utils\";\nimport { createContext as createContext2 } from \"@chakra-ui/react-utils\";\nimport { createPortal } from \"react-dom\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nvar [PortalContextProvider, usePortalContext] = createContext2({\n  strict: false,\n  name: \"PortalContext\"\n});\nvar PORTAL_CLASSNAME = \"chakra-portal\";\nvar PORTAL_SELECTOR = `.chakra-portal`;\nvar Container = (props) => /* @__PURE__ */ React.createElement(\"div\", {\n  className: \"chakra-portal-zIndex\",\n  style: {\n    position: \"absolute\",\n    zIndex: props.zIndex,\n    top: 0,\n    left: 0,\n    right: 0\n  }\n}, props.children);\nvar DefaultPortal = (props) => {\n  const { appendToParentPortal, children } = props;\n  const [tempNode, setTempNode] = useState(null);\n  const portal = useRef(null);\n  const forceUpdate = useForceUpdate();\n  useEffect(forceUpdate, []);\n  const parentPortal = usePortalContext();\n  const manager = usePortalManager();\n  useSafeLayoutEffect(() => {\n    if (!tempNode)\n      return;\n    const doc = tempNode.ownerDocument;\n    const host = appendToParentPortal ? parentPortal ?? doc.body : doc.body;\n    if (!host)\n      return;\n    portal.current = doc.createElement(\"div\");\n    portal.current.className = PORTAL_CLASSNAME;\n    host.appendChild(portal.current);\n    forceUpdate();\n    const portalNode = portal.current;\n    return () => {\n      if (host.contains(portalNode)) {\n        host.removeChild(portalNode);\n      }\n    };\n  }, [tempNode]);\n  const _children = (manager == null ? void 0 : manager.zIndex) ? /* @__PURE__ */ React.createElement(Container, {\n    zIndex: manager == null ? void 0 : manager.zIndex\n  }, children) : children;\n  return portal.current ? createPortal(/* @__PURE__ */ React.createElement(PortalContextProvider, {\n    value: portal.current\n  }, _children), portal.current) : /* @__PURE__ */ React.createElement(\"span\", {\n    ref: (el) => {\n      if (el)\n        setTempNode(el);\n    }\n  });\n};\nvar ContainerPortal = (props) => {\n  const { children, containerRef, appendToParentPortal } = props;\n  const containerEl = containerRef.current;\n  const host = containerEl ?? (isBrowser ? document.body : void 0);\n  const portal = useMemo(() => {\n    const node = containerEl == null ? void 0 : containerEl.ownerDocument.createElement(\"div\");\n    if (node)\n      node.className = PORTAL_CLASSNAME;\n    return node;\n  }, [containerEl]);\n  const forceUpdate = useForceUpdate();\n  useSafeLayoutEffect(() => {\n    forceUpdate();\n  }, []);\n  useSafeLayoutEffect(() => {\n    if (!portal || !host)\n      return;\n    host.appendChild(portal);\n    return () => {\n      host.removeChild(portal);\n    };\n  }, [portal, host]);\n  if (host && portal) {\n    return createPortal(/* @__PURE__ */ React.createElement(PortalContextProvider, {\n      value: appendToParentPortal ? portal : null\n    }, children), portal);\n  }\n  return null;\n};\nfunction Portal(props) {\n  const { containerRef, ...rest } = props;\n  return containerRef ? /* @__PURE__ */ React.createElement(ContainerPortal, {\n    containerRef,\n    ...rest\n  }) : /* @__PURE__ */ React.createElement(DefaultPortal, {\n    ...rest\n  });\n}\nPortal.defaultProps = {\n  appendToParentPortal: true\n};\nPortal.className = PORTAL_CLASSNAME;\nPortal.selector = PORTAL_SELECTOR;\nif (__DEV__2) {\n  Portal.displayName = \"Portal\";\n}\nexport {\n  Portal,\n  PortalManager,\n  usePortalManager\n};\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/env.tsx\nimport { isBrowser, __DEV__ } from \"@chakra-ui/utils\";\nimport {\n  createContext,\n  startTransition,\n  useContext,\n  useMemo,\n  useState,\n  useEffect\n} from \"react\";\n\n// src/mock-document.ts\nvar doc = {\n  body: {\n    classList: {\n      add() {\n      },\n      remove() {\n      }\n    }\n  },\n  addEventListener() {\n  },\n  removeEventListener() {\n  },\n  activeElement: {\n    blur() {\n    },\n    nodeName: \"\"\n  },\n  querySelector() {\n    return null;\n  },\n  querySelectorAll() {\n    return [];\n  },\n  getElementById() {\n    return null;\n  },\n  createEvent() {\n    return {\n      initEvent() {\n      }\n    };\n  },\n  createElement() {\n    return {\n      children: [],\n      childNodes: [],\n      style: {},\n      setAttribute() {\n      },\n      getElementsByTagName() {\n        return [];\n      }\n    };\n  }\n};\nvar ssrDocument = doc;\n\n// src/mock-window.ts\nvar noop = () => {\n};\nvar win = {\n  document: ssrDocument,\n  navigator: {\n    userAgent: \"\"\n  },\n  CustomEvent: function CustomEvent() {\n    return this;\n  },\n  addEventListener: noop,\n  removeEventListener: noop,\n  getComputedStyle() {\n    return {\n      getPropertyValue() {\n        return \"\";\n      }\n    };\n  },\n  matchMedia() {\n    return {\n      matches: false,\n      addListener: noop,\n      removeListener: noop\n    };\n  },\n  requestAnimationFrame(callback) {\n    if (typeof setTimeout === \"undefined\") {\n      callback();\n      return null;\n    }\n    return setTimeout(callback, 0);\n  },\n  cancelAnimationFrame(id) {\n    if (typeof setTimeout === \"undefined\")\n      return;\n    clearTimeout(id);\n  },\n  setTimeout: () => 0,\n  clearTimeout: noop,\n  setInterval: () => 0,\n  clearInterval: noop\n};\nvar ssrWindow = win;\n\n// src/env.tsx\nvar mockEnv = {\n  window: ssrWindow,\n  document: ssrDocument\n};\nvar defaultEnv = isBrowser ? { window, document } : mockEnv;\nvar EnvironmentContext = createContext(defaultEnv);\nif (__DEV__) {\n  EnvironmentContext.displayName = \"EnvironmentContext\";\n}\nfunction useEnvironment() {\n  return useContext(EnvironmentContext);\n}\nfunction EnvironmentProvider(props) {\n  const { children, environment: environmentProp } = props;\n  const [node, setNode] = useState(null);\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => setMounted(true), []);\n  const context = useMemo(() => {\n    const doc2 = node == null ? void 0 : node.ownerDocument;\n    const win2 = node == null ? void 0 : node.ownerDocument.defaultView;\n    const nodeEnv = doc2 ? { document: doc2, window: win2 } : void 0;\n    const env = environmentProp ?? nodeEnv ?? defaultEnv;\n    return env;\n  }, [node, environmentProp]);\n  return /* @__PURE__ */ React.createElement(EnvironmentContext.Provider, {\n    value: context\n  }, children, mounted && /* @__PURE__ */ React.createElement(\"span\", {\n    ref: (el) => {\n      startTransition(() => {\n        if (el)\n          setNode(el);\n      });\n    }\n  }));\n}\nif (__DEV__) {\n  EnvironmentProvider.displayName = \"EnvironmentProvider\";\n}\nexport {\n  EnvironmentProvider,\n  useEnvironment\n};\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/chakra-provider.tsx\nimport CSSReset from \"@chakra-ui/css-reset\";\nimport { PortalManager } from \"@chakra-ui/portal\";\nimport {\n  ColorModeProvider,\n  GlobalStyle,\n  ThemeProvider\n} from \"@chakra-ui/system\";\nimport {\n  EnvironmentProvider\n} from \"@chakra-ui/react-env\";\nvar ChakraProvider = (props) => {\n  const {\n    children,\n    colorModeManager,\n    portalZIndex,\n    resetCSS = true,\n    theme = {},\n    environment,\n    cssVarsRoot\n  } = props;\n  const _children = /* @__PURE__ */ React.createElement(EnvironmentProvider, {\n    environment\n  }, children);\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme,\n    cssVarsRoot\n  }, /* @__PURE__ */ React.createElement(ColorModeProvider, {\n    colorModeManager,\n    options: theme.config\n  }, resetCSS && /* @__PURE__ */ React.createElement(CSSReset, null), /* @__PURE__ */ React.createElement(GlobalStyle, null), portalZIndex ? /* @__PURE__ */ React.createElement(PortalManager, {\n    zIndex: portalZIndex\n  }, _children) : _children));\n};\nexport {\n  ChakraProvider\n};\n","// src/anatomy.ts\nfunction anatomy(name, map = {}) {\n  let called = false;\n  function assert() {\n    if (!called) {\n      called = true;\n      return;\n    }\n    throw new Error(\"[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?\");\n  }\n  function parts(...values) {\n    assert();\n    for (const part of values) {\n      ;\n      map[part] = toPart(part);\n    }\n    return anatomy(name, map);\n  }\n  function extend(...parts2) {\n    for (const part of parts2) {\n      if (part in map)\n        continue;\n      map[part] = toPart(part);\n    }\n    return anatomy(name, map);\n  }\n  function selectors() {\n    const value = Object.fromEntries(Object.entries(map).map(([key, part]) => [key, part.selector]));\n    return value;\n  }\n  function classnames() {\n    const value = Object.fromEntries(Object.entries(map).map(([key, part]) => [key, part.className]));\n    return value;\n  }\n  function toPart(part) {\n    const el = [\"container\", \"root\"].includes(part ?? \"\") ? [name] : [name, part];\n    const attr = el.filter(Boolean).join(\"__\");\n    const className = `chakra-${attr}`;\n    const partObj = {\n      className,\n      selector: `.${className}`,\n      toString: () => part\n    };\n    return partObj;\n  }\n  const __type = {};\n  return {\n    parts,\n    toPart,\n    extend,\n    selectors,\n    classnames,\n    get keys() {\n      return Object.keys(map);\n    },\n    __type\n  };\n}\n\n// src/components.ts\nvar accordionAnatomy = anatomy(\"accordion\").parts(\"root\", \"container\", \"button\", \"panel\").extend(\"icon\");\nvar alertAnatomy = anatomy(\"alert\").parts(\"title\", \"description\", \"container\").extend(\"icon\", \"spinner\");\nvar avatarAnatomy = anatomy(\"avatar\").parts(\"label\", \"badge\", \"container\").extend(\"excessLabel\", \"group\");\nvar breadcrumbAnatomy = anatomy(\"breadcrumb\").parts(\"link\", \"item\", \"container\").extend(\"separator\");\nvar buttonAnatomy = anatomy(\"button\").parts();\nvar checkboxAnatomy = anatomy(\"checkbox\").parts(\"control\", \"icon\", \"container\").extend(\"label\");\nvar circularProgressAnatomy = anatomy(\"progress\").parts(\"track\", \"filledTrack\").extend(\"label\");\nvar drawerAnatomy = anatomy(\"drawer\").parts(\"overlay\", \"dialogContainer\", \"dialog\").extend(\"header\", \"closeButton\", \"body\", \"footer\");\nvar editableAnatomy = anatomy(\"editable\").parts(\"preview\", \"input\", \"textarea\");\nvar formAnatomy = anatomy(\"form\").parts(\"container\", \"requiredIndicator\", \"helperText\");\nvar formErrorAnatomy = anatomy(\"formError\").parts(\"text\", \"icon\");\nvar inputAnatomy = anatomy(\"input\").parts(\"addon\", \"field\", \"element\");\nvar listAnatomy = anatomy(\"list\").parts(\"container\", \"item\", \"icon\");\nvar menuAnatomy = anatomy(\"menu\").parts(\"button\", \"list\", \"item\").extend(\"groupTitle\", \"command\", \"divider\");\nvar modalAnatomy = anatomy(\"modal\").parts(\"overlay\", \"dialogContainer\", \"dialog\").extend(\"header\", \"closeButton\", \"body\", \"footer\");\nvar numberInputAnatomy = anatomy(\"numberinput\").parts(\"root\", \"field\", \"stepperGroup\", \"stepper\");\nvar pinInputAnatomy = anatomy(\"pininput\").parts(\"field\");\nvar popoverAnatomy = anatomy(\"popover\").parts(\"content\", \"header\", \"body\", \"footer\").extend(\"popper\", \"arrow\", \"closeButton\");\nvar progressAnatomy = anatomy(\"progress\").parts(\"label\", \"filledTrack\", \"track\");\nvar radioAnatomy = anatomy(\"radio\").parts(\"container\", \"control\", \"label\");\nvar selectAnatomy = anatomy(\"select\").parts(\"field\", \"icon\");\nvar sliderAnatomy = anatomy(\"slider\").parts(\"container\", \"track\", \"thumb\", \"filledTrack\");\nvar statAnatomy = anatomy(\"stat\").parts(\"container\", \"label\", \"helpText\", \"number\", \"icon\");\nvar switchAnatomy = anatomy(\"switch\").parts(\"container\", \"track\", \"thumb\");\nvar tableAnatomy = anatomy(\"table\").parts(\"table\", \"thead\", \"tbody\", \"tr\", \"th\", \"td\", \"tfoot\", \"caption\");\nvar tabsAnatomy = anatomy(\"tabs\").parts(\"root\", \"tab\", \"tablist\", \"tabpanel\", \"tabpanels\", \"indicator\");\nvar tagAnatomy = anatomy(\"tag\").parts(\"container\", \"label\", \"closeButton\");\nexport {\n  accordionAnatomy,\n  alertAnatomy,\n  anatomy,\n  avatarAnatomy,\n  breadcrumbAnatomy,\n  buttonAnatomy,\n  checkboxAnatomy,\n  circularProgressAnatomy,\n  drawerAnatomy,\n  editableAnatomy,\n  formAnatomy,\n  formErrorAnatomy,\n  inputAnatomy,\n  listAnatomy,\n  menuAnatomy,\n  modalAnatomy,\n  numberInputAnatomy,\n  pinInputAnatomy,\n  popoverAnatomy,\n  progressAnatomy,\n  radioAnatomy,\n  selectAnatomy,\n  sliderAnatomy,\n  statAnatomy,\n  switchAnatomy,\n  tableAnatomy,\n  tabsAnatomy,\n  tagAnatomy\n};\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return \"\".concat(Number(n) * 100, \"%\");\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\".concat(CSS_NUMBER, \")|(?:\").concat(CSS_INTEGER, \")\");\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%)\") : \"hsva(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\") : \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\") : \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return \"\".concat(Math.round(bound01(x, 255) * 100), \"%\"); };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%)\")\n            : \"rgba(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        return new TinyColor({\n            r: bg.r + (fg.r - bg.r) * fg.a,\n            g: bg.g + (fg.g - bg.g) * fg.a,\n            b: bg.b + (fg.b - bg.b) * fg.a,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\nimport { TinyColor } from './index';\nexport function random(options) {\n    if (options === void 0) { options = {}; }\n    // Check if we need to generate multiple colors\n    if (options.count !== undefined &&\n        options.count !== null) {\n        var totalColors = options.count;\n        var colors = [];\n        options.count = undefined;\n        while (totalColors > colors.length) {\n            // Since we're generating multiple colors,\n            // incremement the seed. Otherwise we'd just\n            // generate the same color each time...\n            options.count = null;\n            if (options.seed) {\n                options.seed += 1;\n            }\n            colors.push(random(options));\n        }\n        options.count = totalColors;\n        return colors;\n    }\n    // First we pick a hue (H)\n    var h = pickHue(options.hue, options.seed);\n    // Then use H to determine saturation (S)\n    var s = pickSaturation(h, options);\n    // Then use S and H to determine brightness (B).\n    var v = pickBrightness(h, s, options);\n    var res = { h: h, s: s, v: v };\n    if (options.alpha !== undefined) {\n        res.a = options.alpha;\n    }\n    // Then we return the HSB color in the desired format\n    return new TinyColor(res);\n}\nfunction pickHue(hue, seed) {\n    var hueRange = getHueRange(hue);\n    var res = randomWithin(hueRange, seed);\n    // Instead of storing red as two seperate ranges,\n    // we group them, using negative numbers\n    if (res < 0) {\n        res = 360 + res;\n    }\n    return res;\n}\nfunction pickSaturation(hue, options) {\n    if (options.hue === 'monochrome') {\n        return 0;\n    }\n    if (options.luminosity === 'random') {\n        return randomWithin([0, 100], options.seed);\n    }\n    var saturationRange = getColorInfo(hue).saturationRange;\n    var sMin = saturationRange[0];\n    var sMax = saturationRange[1];\n    switch (options.luminosity) {\n        case 'bright':\n            sMin = 55;\n            break;\n        case 'dark':\n            sMin = sMax - 10;\n            break;\n        case 'light':\n            sMax = 55;\n            break;\n        default:\n            break;\n    }\n    return randomWithin([sMin, sMax], options.seed);\n}\nfunction pickBrightness(H, S, options) {\n    var bMin = getMinimumBrightness(H, S);\n    var bMax = 100;\n    switch (options.luminosity) {\n        case 'dark':\n            bMax = bMin + 20;\n            break;\n        case 'light':\n            bMin = (bMax + bMin) / 2;\n            break;\n        case 'random':\n            bMin = 0;\n            bMax = 100;\n            break;\n        default:\n            break;\n    }\n    return randomWithin([bMin, bMax], options.seed);\n}\nfunction getMinimumBrightness(H, S) {\n    var lowerBounds = getColorInfo(H).lowerBounds;\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n        var s1 = lowerBounds[i][0];\n        var v1 = lowerBounds[i][1];\n        var s2 = lowerBounds[i + 1][0];\n        var v2 = lowerBounds[i + 1][1];\n        if (S >= s1 && S <= s2) {\n            var m = (v2 - v1) / (s2 - s1);\n            var b = v1 - m * s1;\n            return m * S + b;\n        }\n    }\n    return 0;\n}\nfunction getHueRange(colorInput) {\n    var num = parseInt(colorInput, 10);\n    if (!Number.isNaN(num) && num < 360 && num > 0) {\n        return [num, num];\n    }\n    if (typeof colorInput === 'string') {\n        var namedColor = bounds.find(function (n) { return n.name === colorInput; });\n        if (namedColor) {\n            var color = defineColor(namedColor);\n            if (color.hueRange) {\n                return color.hueRange;\n            }\n        }\n        var parsed = new TinyColor(colorInput);\n        if (parsed.isValid) {\n            var hue = parsed.toHsv().h;\n            return [hue, hue];\n        }\n    }\n    return [0, 360];\n}\nfunction getColorInfo(hue) {\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n        hue -= 360;\n    }\n    for (var _i = 0, bounds_1 = bounds; _i < bounds_1.length; _i++) {\n        var bound = bounds_1[_i];\n        var color = defineColor(bound);\n        if (color.hueRange && hue >= color.hueRange[0] && hue <= color.hueRange[1]) {\n            return color;\n        }\n    }\n    throw Error('Color not found');\n}\nfunction randomWithin(range, seed) {\n    if (seed === undefined) {\n        return Math.floor(range[0] + Math.random() * (range[1] + 1 - range[0]));\n    }\n    // Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n    var max = range[1] || 1;\n    var min = range[0] || 0;\n    seed = (seed * 9301 + 49297) % 233280;\n    var rnd = seed / 233280.0;\n    return Math.floor(min + rnd * (max - min));\n}\nfunction defineColor(bound) {\n    var sMin = bound.lowerBounds[0][0];\n    var sMax = bound.lowerBounds[bound.lowerBounds.length - 1][0];\n    var bMin = bound.lowerBounds[bound.lowerBounds.length - 1][1];\n    var bMax = bound.lowerBounds[0][1];\n    return {\n        name: bound.name,\n        hueRange: bound.hueRange,\n        lowerBounds: bound.lowerBounds,\n        saturationRange: [sMin, sMax],\n        brightnessRange: [bMin, bMax],\n    };\n}\n/**\n * @hidden\n */\nexport var bounds = [\n    {\n        name: 'monochrome',\n        hueRange: null,\n        lowerBounds: [\n            [0, 0],\n            [100, 0],\n        ],\n    },\n    {\n        name: 'red',\n        hueRange: [-26, 18],\n        lowerBounds: [\n            [20, 100],\n            [30, 92],\n            [40, 89],\n            [50, 85],\n            [60, 78],\n            [70, 70],\n            [80, 60],\n            [90, 55],\n            [100, 50],\n        ],\n    },\n    {\n        name: 'orange',\n        hueRange: [19, 46],\n        lowerBounds: [\n            [20, 100],\n            [30, 93],\n            [40, 88],\n            [50, 86],\n            [60, 85],\n            [70, 70],\n            [100, 70],\n        ],\n    },\n    {\n        name: 'yellow',\n        hueRange: [47, 62],\n        lowerBounds: [\n            [25, 100],\n            [40, 94],\n            [50, 89],\n            [60, 86],\n            [70, 84],\n            [80, 82],\n            [90, 80],\n            [100, 75],\n        ],\n    },\n    {\n        name: 'green',\n        hueRange: [63, 178],\n        lowerBounds: [\n            [30, 100],\n            [40, 90],\n            [50, 85],\n            [60, 81],\n            [70, 74],\n            [80, 64],\n            [90, 50],\n            [100, 40],\n        ],\n    },\n    {\n        name: 'blue',\n        hueRange: [179, 257],\n        lowerBounds: [\n            [20, 100],\n            [30, 86],\n            [40, 80],\n            [50, 74],\n            [60, 60],\n            [70, 52],\n            [80, 44],\n            [90, 39],\n            [100, 35],\n        ],\n    },\n    {\n        name: 'purple',\n        hueRange: [258, 282],\n        lowerBounds: [\n            [20, 100],\n            [30, 87],\n            [40, 79],\n            [50, 70],\n            [60, 65],\n            [70, 59],\n            [80, 52],\n            [90, 45],\n            [100, 42],\n        ],\n    },\n    {\n        name: 'pink',\n        hueRange: [283, 334],\n        lowerBounds: [\n            [20, 100],\n            [30, 90],\n            [40, 86],\n            [60, 84],\n            [80, 80],\n            [90, 75],\n            [100, 73],\n        ],\n    },\n];\n","// src/color.ts\nimport {\n  TinyColor,\n  readability,\n  isReadable,\n  random\n} from \"@ctrl/tinycolor\";\nimport { memoizedGet as get, isEmptyObject } from \"@chakra-ui/utils\";\nvar getColor = (theme, color, fallback) => {\n  const hex = get(theme, `colors.${color}`, color);\n  const { isValid } = new TinyColor(hex);\n  return isValid ? hex : fallback;\n};\nvar tone = (color) => (theme) => {\n  const hex = getColor(theme, color);\n  const isDark2 = new TinyColor(hex).isDark();\n  return isDark2 ? \"dark\" : \"light\";\n};\nvar isDark = (color) => (theme) => tone(color)(theme) === \"dark\";\nvar isLight = (color) => (theme) => tone(color)(theme) === \"light\";\nvar transparentize = (color, opacity) => (theme) => {\n  const raw = getColor(theme, color);\n  return new TinyColor(raw).setAlpha(opacity).toRgbString();\n};\nvar whiten = (color, amount) => (theme) => {\n  const raw = getColor(theme, color);\n  return new TinyColor(raw).mix(\"#fff\", amount).toHexString();\n};\nvar blacken = (color, amount) => (theme) => {\n  const raw = getColor(theme, color);\n  return new TinyColor(raw).mix(\"#000\", amount).toHexString();\n};\nvar darken = (color, amount) => (theme) => {\n  const raw = getColor(theme, color);\n  return new TinyColor(raw).darken(amount).toHexString();\n};\nvar lighten = (color, amount) => (theme) => new TinyColor(getColor(theme, color)).lighten(amount).toHexString();\nvar contrast = (fg, bg) => (theme) => readability(getColor(theme, bg), getColor(theme, fg));\nvar isAccessible = (textColor, bgColor, options) => (theme) => isReadable(getColor(theme, bgColor), getColor(theme, textColor), options);\nvar complementary = (color) => (theme) => new TinyColor(getColor(theme, color)).complement().toHexString();\nfunction generateStripe(size = \"1rem\", color = \"rgba(255, 255, 255, 0.15)\") {\n  return {\n    backgroundImage: `linear-gradient(\n    45deg,\n    ${color} 25%,\n    transparent 25%,\n    transparent 50%,\n    ${color} 50%,\n    ${color} 75%,\n    transparent 75%,\n    transparent\n  )`,\n    backgroundSize: `${size} ${size}`\n  };\n}\nfunction randomColor(opts) {\n  const fallback = random().toHexString();\n  if (!opts || isEmptyObject(opts)) {\n    return fallback;\n  }\n  if (opts.string && opts.colors) {\n    return randomColorFromList(opts.string, opts.colors);\n  }\n  if (opts.string && !opts.colors) {\n    return randomColorFromString(opts.string);\n  }\n  if (opts.colors && !opts.string) {\n    return randomFromList(opts.colors);\n  }\n  return fallback;\n}\nfunction randomColorFromString(str) {\n  let hash = 0;\n  if (str.length === 0)\n    return hash.toString();\n  for (let i = 0; i < str.length; i += 1) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    hash = hash & hash;\n  }\n  let color = \"#\";\n  for (let j = 0; j < 3; j += 1) {\n    const value = hash >> j * 8 & 255;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\nfunction randomColorFromList(str, list) {\n  let index = 0;\n  if (str.length === 0)\n    return list[0];\n  for (let i = 0; i < str.length; i += 1) {\n    index = str.charCodeAt(i) + ((index << 5) - index);\n    index = index & index;\n  }\n  index = (index % list.length + list.length) % list.length;\n  return list[index];\n}\nfunction randomFromList(list) {\n  return list[Math.floor(Math.random() * list.length)];\n}\n\n// src/component.ts\nfunction mode(light, dark) {\n  return (props) => props.colorMode === \"dark\" ? dark : light;\n}\nfunction orient(options) {\n  const { orientation, vertical, horizontal } = options;\n  if (!orientation)\n    return {};\n  return orientation === \"vertical\" ? vertical : horizontal;\n}\n\n// src/create-breakpoints.ts\nimport { warn } from \"@chakra-ui/utils\";\nvar createBreakpoints = (config) => {\n  warn({\n    condition: true,\n    message: [\n      `[chakra-ui]: createBreakpoints(...) will be deprecated pretty soon`,\n      `simply pass the breakpoints as an object. Remove the createBreakpoints(..) call`\n    ].join(\"\")\n  });\n  return { base: \"0em\", ...config };\n};\n\n// src/index.ts\nimport { anatomy } from \"@chakra-ui/anatomy\";\n\n// src/css-calc.ts\nimport { isObject } from \"@chakra-ui/utils\";\nfunction toRef(operand) {\n  if (isObject(operand) && operand.reference) {\n    return operand.reference;\n  }\n  return String(operand);\n}\nvar toExpr = (operator, ...operands) => operands.map(toRef).join(` ${operator} `).replace(/calc/g, \"\");\nvar add = (...operands) => `calc(${toExpr(\"+\", ...operands)})`;\nvar subtract = (...operands) => `calc(${toExpr(\"-\", ...operands)})`;\nvar multiply = (...operands) => `calc(${toExpr(\"*\", ...operands)})`;\nvar divide = (...operands) => `calc(${toExpr(\"/\", ...operands)})`;\nvar negate = (x) => {\n  const value = toRef(x);\n  if (value != null && !Number.isNaN(parseFloat(value))) {\n    return String(value).startsWith(\"-\") ? String(value).slice(1) : `-${value}`;\n  }\n  return multiply(value, -1);\n};\nvar calc = Object.assign((x) => ({\n  add: (...operands) => calc(add(x, ...operands)),\n  subtract: (...operands) => calc(subtract(x, ...operands)),\n  multiply: (...operands) => calc(multiply(x, ...operands)),\n  divide: (...operands) => calc(divide(x, ...operands)),\n  negate: () => calc(negate(x)),\n  toString: () => x.toString()\n}), {\n  add,\n  subtract,\n  multiply,\n  divide,\n  negate\n});\n\n// src/css-var.ts\nfunction isDecimal(value) {\n  return !Number.isInteger(parseFloat(value.toString()));\n}\nfunction replaceWhiteSpace(value, replaceValue = \"-\") {\n  return value.replace(/\\s+/g, replaceValue);\n}\nfunction escape(value) {\n  const valueStr = replaceWhiteSpace(value.toString());\n  if (valueStr.includes(\"\\\\.\"))\n    return value;\n  return isDecimal(value) ? valueStr.replace(\".\", `\\\\.`) : value;\n}\nfunction addPrefix(value, prefix = \"\") {\n  return [prefix, escape(value)].filter(Boolean).join(\"-\");\n}\nfunction toVarRef(name, fallback) {\n  return `var(${escape(name)}${fallback ? `, ${fallback}` : \"\"})`;\n}\nfunction toVar(value, prefix = \"\") {\n  return `--${addPrefix(value, prefix)}`;\n}\nfunction cssVar(name, options) {\n  const cssVariable = toVar(name, options == null ? void 0 : options.prefix);\n  return {\n    variable: cssVariable,\n    reference: toVarRef(cssVariable, getFallback(options == null ? void 0 : options.fallback))\n  };\n}\nfunction getFallback(fallback) {\n  if (typeof fallback === \"string\")\n    return fallback;\n  return fallback == null ? void 0 : fallback.reference;\n}\nexport {\n  addPrefix,\n  anatomy,\n  blacken,\n  calc,\n  complementary,\n  contrast,\n  createBreakpoints,\n  cssVar,\n  darken,\n  generateStripe,\n  getColor,\n  isAccessible,\n  isDark,\n  isDecimal,\n  isLight,\n  lighten,\n  mode,\n  orient,\n  randomColor,\n  toVar,\n  toVarRef,\n  tone,\n  transparentize,\n  whiten\n};\n","// src/components/accordion.ts\nimport { accordionAnatomy as parts } from \"@chakra-ui/anatomy\";\nvar baseStyleContainer = {\n  borderTopWidth: \"1px\",\n  borderColor: \"inherit\",\n  _last: {\n    borderBottomWidth: \"1px\"\n  }\n};\nvar baseStyleButton = {\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  fontSize: \"1rem\",\n  _focusVisible: {\n    boxShadow: \"outline\"\n  },\n  _hover: {\n    bg: \"blackAlpha.50\"\n  },\n  _disabled: {\n    opacity: 0.4,\n    cursor: \"not-allowed\"\n  },\n  px: 4,\n  py: 2\n};\nvar baseStylePanel = {\n  pt: 2,\n  px: 4,\n  pb: 5\n};\nvar baseStyleIcon = {\n  fontSize: \"1.25em\"\n};\nvar baseStyle = {\n  root: {},\n  container: baseStyleContainer,\n  button: baseStyleButton,\n  panel: baseStylePanel,\n  icon: baseStyleIcon\n};\nvar accordion_default = {\n  parts: parts.keys,\n  baseStyle\n};\n\n// src/components/alert.ts\nimport { alertAnatomy as parts2 } from \"@chakra-ui/anatomy\";\nimport { getColor, mode, transparentize } from \"@chakra-ui/theme-tools\";\nvar baseStyle2 = {\n  container: {\n    px: 4,\n    py: 3\n  },\n  title: {\n    fontWeight: \"bold\",\n    lineHeight: 6,\n    marginEnd: 2\n  },\n  description: {\n    lineHeight: 6\n  },\n  icon: {\n    flexShrink: 0,\n    marginEnd: 3,\n    w: 5,\n    h: 6\n  },\n  spinner: {\n    flexShrink: 0,\n    marginEnd: 3,\n    w: 5,\n    h: 5\n  }\n};\nfunction getBg(props) {\n  const { theme: theme2, colorScheme: c } = props;\n  const lightBg = getColor(theme2, `${c}.100`, c);\n  const darkBg = transparentize(`${c}.200`, 0.16)(theme2);\n  return mode(lightBg, darkBg)(props);\n}\nvar variantSubtle = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    container: { bg: getBg(props) },\n    icon: { color: mode(`${c}.500`, `${c}.200`)(props) },\n    spinner: {\n      color: mode(`${c}.500`, `${c}.200`)(props)\n    }\n  };\n};\nvar variantLeftAccent = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    container: {\n      paddingStart: 3,\n      borderStartWidth: \"4px\",\n      borderStartColor: mode(`${c}.500`, `${c}.200`)(props),\n      bg: getBg(props)\n    },\n    icon: {\n      color: mode(`${c}.500`, `${c}.200`)(props)\n    },\n    spinner: {\n      color: mode(`${c}.500`, `${c}.200`)(props)\n    }\n  };\n};\nvar variantTopAccent = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    container: {\n      pt: 2,\n      borderTopWidth: \"4px\",\n      borderTopColor: mode(`${c}.500`, `${c}.200`)(props),\n      bg: getBg(props)\n    },\n    icon: {\n      color: mode(`${c}.500`, `${c}.200`)(props)\n    },\n    spinner: {\n      color: mode(`${c}.500`, `${c}.200`)(props)\n    }\n  };\n};\nvar variantSolid = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    container: {\n      bg: mode(`${c}.500`, `${c}.200`)(props),\n      color: mode(`white`, `gray.900`)(props)\n    }\n  };\n};\nvar variants = {\n  subtle: variantSubtle,\n  \"left-accent\": variantLeftAccent,\n  \"top-accent\": variantTopAccent,\n  solid: variantSolid\n};\nvar defaultProps = {\n  variant: \"subtle\",\n  colorScheme: \"blue\"\n};\nvar alert_default = {\n  parts: parts2.keys,\n  baseStyle: baseStyle2,\n  variants,\n  defaultProps\n};\n\n// src/components/avatar.ts\nimport { avatarAnatomy as parts3 } from \"@chakra-ui/anatomy\";\nimport { isDark, mode as mode2, randomColor } from \"@chakra-ui/theme-tools\";\n\n// src/foundations/spacing.ts\nvar spacing = {\n  px: \"1px\",\n  0.5: \"0.125rem\",\n  1: \"0.25rem\",\n  1.5: \"0.375rem\",\n  2: \"0.5rem\",\n  2.5: \"0.625rem\",\n  3: \"0.75rem\",\n  3.5: \"0.875rem\",\n  4: \"1rem\",\n  5: \"1.25rem\",\n  6: \"1.5rem\",\n  7: \"1.75rem\",\n  8: \"2rem\",\n  9: \"2.25rem\",\n  10: \"2.5rem\",\n  12: \"3rem\",\n  14: \"3.5rem\",\n  16: \"4rem\",\n  20: \"5rem\",\n  24: \"6rem\",\n  28: \"7rem\",\n  32: \"8rem\",\n  36: \"9rem\",\n  40: \"10rem\",\n  44: \"11rem\",\n  48: \"12rem\",\n  52: \"13rem\",\n  56: \"14rem\",\n  60: \"15rem\",\n  64: \"16rem\",\n  72: \"18rem\",\n  80: \"20rem\",\n  96: \"24rem\"\n};\n\n// src/foundations/sizes.ts\nvar largeSizes = {\n  max: \"max-content\",\n  min: \"min-content\",\n  full: \"100%\",\n  \"3xs\": \"14rem\",\n  \"2xs\": \"16rem\",\n  xs: \"20rem\",\n  sm: \"24rem\",\n  md: \"28rem\",\n  lg: \"32rem\",\n  xl: \"36rem\",\n  \"2xl\": \"42rem\",\n  \"3xl\": \"48rem\",\n  \"4xl\": \"56rem\",\n  \"5xl\": \"64rem\",\n  \"6xl\": \"72rem\",\n  \"7xl\": \"80rem\",\n  \"8xl\": \"90rem\"\n};\nvar container = {\n  sm: \"640px\",\n  md: \"768px\",\n  lg: \"1024px\",\n  xl: \"1280px\"\n};\nvar sizes = {\n  ...spacing,\n  ...largeSizes,\n  container\n};\nvar sizes_default = sizes;\n\n// src/components/avatar.ts\nvar baseStyleBadge = (props) => {\n  return {\n    transform: \"translate(25%, 25%)\",\n    borderRadius: \"full\",\n    border: \"0.2em solid\",\n    borderColor: mode2(\"white\", \"gray.800\")(props)\n  };\n};\nvar baseStyleExcessLabel = (props) => {\n  return {\n    bg: mode2(\"gray.200\", \"whiteAlpha.400\")(props)\n  };\n};\nvar baseStyleContainer2 = (props) => {\n  const { name, theme: theme2 } = props;\n  const bg = name ? randomColor({ string: name }) : \"gray.400\";\n  const isBgDark = isDark(bg)(theme2);\n  let color = \"white\";\n  if (!isBgDark)\n    color = \"gray.800\";\n  const borderColor = mode2(\"white\", \"gray.800\")(props);\n  return {\n    bg,\n    color,\n    borderColor,\n    verticalAlign: \"top\"\n  };\n};\nvar baseStyle3 = (props) => ({\n  badge: baseStyleBadge(props),\n  excessLabel: baseStyleExcessLabel(props),\n  container: baseStyleContainer2(props)\n});\nfunction getSize(size2) {\n  const themeSize = size2 !== \"100%\" ? sizes_default[size2] : void 0;\n  return {\n    container: {\n      width: size2,\n      height: size2,\n      fontSize: `calc(${themeSize ?? size2} / 2.5)`\n    },\n    excessLabel: {\n      width: size2,\n      height: size2\n    },\n    label: {\n      fontSize: `calc(${themeSize ?? size2} / 2.5)`,\n      lineHeight: size2 !== \"100%\" ? themeSize ?? size2 : void 0\n    }\n  };\n}\nvar sizes2 = {\n  \"2xs\": getSize(4),\n  xs: getSize(6),\n  sm: getSize(8),\n  md: getSize(12),\n  lg: getSize(16),\n  xl: getSize(24),\n  \"2xl\": getSize(32),\n  full: getSize(\"100%\")\n};\nvar defaultProps2 = {\n  size: \"md\"\n};\nvar avatar_default = {\n  parts: parts3.keys,\n  baseStyle: baseStyle3,\n  sizes: sizes2,\n  defaultProps: defaultProps2\n};\n\n// src/components/badge.ts\nimport { getColor as getColor2, mode as mode3, transparentize as transparentize2 } from \"@chakra-ui/theme-tools\";\nvar baseStyle4 = {\n  px: 1,\n  textTransform: \"uppercase\",\n  fontSize: \"xs\",\n  borderRadius: \"sm\",\n  fontWeight: \"bold\"\n};\nvar variantSolid2 = (props) => {\n  const { colorScheme: c, theme: theme2 } = props;\n  const dark = transparentize2(`${c}.500`, 0.6)(theme2);\n  return {\n    bg: mode3(`${c}.500`, dark)(props),\n    color: mode3(`white`, `whiteAlpha.800`)(props)\n  };\n};\nvar variantSubtle2 = (props) => {\n  const { colorScheme: c, theme: theme2 } = props;\n  const darkBg = transparentize2(`${c}.200`, 0.16)(theme2);\n  return {\n    bg: mode3(`${c}.100`, darkBg)(props),\n    color: mode3(`${c}.800`, `${c}.200`)(props)\n  };\n};\nvar variantOutline = (props) => {\n  const { colorScheme: c, theme: theme2 } = props;\n  const darkColor = transparentize2(`${c}.200`, 0.8)(theme2);\n  const lightColor = getColor2(theme2, `${c}.500`);\n  const color = mode3(lightColor, darkColor)(props);\n  return {\n    color,\n    boxShadow: `inset 0 0 0px 1px ${color}`\n  };\n};\nvar variants2 = {\n  solid: variantSolid2,\n  subtle: variantSubtle2,\n  outline: variantOutline\n};\nvar defaultProps3 = {\n  variant: \"subtle\",\n  colorScheme: \"gray\"\n};\nvar badge_default = {\n  baseStyle: baseStyle4,\n  variants: variants2,\n  defaultProps: defaultProps3\n};\n\n// src/components/breadcrumb.ts\nimport { breadcrumbAnatomy as parts4 } from \"@chakra-ui/anatomy\";\nvar baseStyleLink = {\n  transitionProperty: \"common\",\n  transitionDuration: \"fast\",\n  transitionTimingFunction: \"ease-out\",\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n  outline: \"none\",\n  color: \"inherit\",\n  _hover: {\n    textDecoration: \"underline\"\n  },\n  _focusVisible: {\n    boxShadow: \"outline\"\n  }\n};\nvar baseStyle5 = {\n  link: baseStyleLink\n};\nvar breadcrumb_default = {\n  parts: parts4.keys,\n  baseStyle: baseStyle5\n};\n\n// src/components/button.ts\nimport { mode as mode4, transparentize as transparentize3 } from \"@chakra-ui/theme-tools\";\nvar baseStyle6 = {\n  lineHeight: \"1.2\",\n  borderRadius: \"md\",\n  fontWeight: \"semibold\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  _focusVisible: {\n    boxShadow: \"outline\"\n  },\n  _disabled: {\n    opacity: 0.4,\n    cursor: \"not-allowed\",\n    boxShadow: \"none\"\n  },\n  _hover: {\n    _disabled: {\n      bg: \"initial\"\n    }\n  }\n};\nvar variantGhost = (props) => {\n  const { colorScheme: c, theme: theme2 } = props;\n  if (c === \"gray\") {\n    return {\n      color: mode4(`inherit`, `whiteAlpha.900`)(props),\n      _hover: {\n        bg: mode4(`gray.100`, `whiteAlpha.200`)(props)\n      },\n      _active: { bg: mode4(`gray.200`, `whiteAlpha.300`)(props) }\n    };\n  }\n  const darkHoverBg = transparentize3(`${c}.200`, 0.12)(theme2);\n  const darkActiveBg = transparentize3(`${c}.200`, 0.24)(theme2);\n  return {\n    color: mode4(`${c}.600`, `${c}.200`)(props),\n    bg: \"transparent\",\n    _hover: {\n      bg: mode4(`${c}.50`, darkHoverBg)(props)\n    },\n    _active: {\n      bg: mode4(`${c}.100`, darkActiveBg)(props)\n    }\n  };\n};\nvar variantOutline2 = (props) => {\n  const { colorScheme: c } = props;\n  const borderColor = mode4(`gray.200`, `whiteAlpha.300`)(props);\n  return {\n    border: \"1px solid\",\n    borderColor: c === \"gray\" ? borderColor : \"currentColor\",\n    \".chakra-button__group[data-attached] > &:not(:last-of-type)\": {\n      marginEnd: \"-1px\"\n    },\n    ...variantGhost(props)\n  };\n};\nvar accessibleColorMap = {\n  yellow: {\n    bg: \"yellow.400\",\n    color: \"black\",\n    hoverBg: \"yellow.500\",\n    activeBg: \"yellow.600\"\n  },\n  cyan: {\n    bg: \"cyan.400\",\n    color: \"black\",\n    hoverBg: \"cyan.500\",\n    activeBg: \"cyan.600\"\n  }\n};\nvar variantSolid3 = (props) => {\n  const { colorScheme: c } = props;\n  if (c === \"gray\") {\n    const bg2 = mode4(`gray.100`, `whiteAlpha.200`)(props);\n    return {\n      bg: bg2,\n      _hover: {\n        bg: mode4(`gray.200`, `whiteAlpha.300`)(props),\n        _disabled: {\n          bg: bg2\n        }\n      },\n      _active: { bg: mode4(`gray.300`, `whiteAlpha.400`)(props) }\n    };\n  }\n  const {\n    bg = `${c}.500`,\n    color = \"white\",\n    hoverBg = `${c}.600`,\n    activeBg = `${c}.700`\n  } = accessibleColorMap[c] ?? {};\n  const background = mode4(bg, `${c}.200`)(props);\n  return {\n    bg: background,\n    color: mode4(color, `gray.800`)(props),\n    _hover: {\n      bg: mode4(hoverBg, `${c}.300`)(props),\n      _disabled: {\n        bg: background\n      }\n    },\n    _active: { bg: mode4(activeBg, `${c}.400`)(props) }\n  };\n};\nvar variantLink = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    padding: 0,\n    height: \"auto\",\n    lineHeight: \"normal\",\n    verticalAlign: \"baseline\",\n    color: mode4(`${c}.500`, `${c}.200`)(props),\n    _hover: {\n      textDecoration: \"underline\",\n      _disabled: {\n        textDecoration: \"none\"\n      }\n    },\n    _active: {\n      color: mode4(`${c}.700`, `${c}.500`)(props)\n    }\n  };\n};\nvar variantUnstyled = {\n  bg: \"none\",\n  color: \"inherit\",\n  display: \"inline\",\n  lineHeight: \"inherit\",\n  m: 0,\n  p: 0\n};\nvar variants3 = {\n  ghost: variantGhost,\n  outline: variantOutline2,\n  solid: variantSolid3,\n  link: variantLink,\n  unstyled: variantUnstyled\n};\nvar sizes3 = {\n  lg: {\n    h: 12,\n    minW: 12,\n    fontSize: \"lg\",\n    px: 6\n  },\n  md: {\n    h: 10,\n    minW: 10,\n    fontSize: \"md\",\n    px: 4\n  },\n  sm: {\n    h: 8,\n    minW: 8,\n    fontSize: \"sm\",\n    px: 3\n  },\n  xs: {\n    h: 6,\n    minW: 6,\n    fontSize: \"xs\",\n    px: 2\n  }\n};\nvar defaultProps4 = {\n  variant: \"solid\",\n  size: \"md\",\n  colorScheme: \"gray\"\n};\nvar button_default = {\n  baseStyle: baseStyle6,\n  variants: variants3,\n  sizes: sizes3,\n  defaultProps: defaultProps4\n};\n\n// src/components/checkbox.ts\nimport { checkboxAnatomy as parts5 } from \"@chakra-ui/anatomy\";\nimport { mode as mode5 } from \"@chakra-ui/theme-tools\";\nvar baseStyleControl = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    w: \"100%\",\n    transitionProperty: \"box-shadow\",\n    transitionDuration: \"normal\",\n    border: \"2px solid\",\n    borderRadius: \"sm\",\n    borderColor: \"inherit\",\n    color: \"white\",\n    _checked: {\n      bg: mode5(`${c}.500`, `${c}.200`)(props),\n      borderColor: mode5(`${c}.500`, `${c}.200`)(props),\n      color: mode5(\"white\", \"gray.900\")(props),\n      _hover: {\n        bg: mode5(`${c}.600`, `${c}.300`)(props),\n        borderColor: mode5(`${c}.600`, `${c}.300`)(props)\n      },\n      _disabled: {\n        borderColor: mode5(\"gray.200\", \"transparent\")(props),\n        bg: mode5(\"gray.200\", \"whiteAlpha.300\")(props),\n        color: mode5(\"gray.500\", \"whiteAlpha.500\")(props)\n      }\n    },\n    _indeterminate: {\n      bg: mode5(`${c}.500`, `${c}.200`)(props),\n      borderColor: mode5(`${c}.500`, `${c}.200`)(props),\n      color: mode5(\"white\", \"gray.900\")(props)\n    },\n    _disabled: {\n      bg: mode5(\"gray.100\", \"whiteAlpha.100\")(props),\n      borderColor: mode5(\"gray.100\", \"transparent\")(props)\n    },\n    _focusVisible: {\n      boxShadow: \"outline\"\n    },\n    _invalid: {\n      borderColor: mode5(\"red.500\", \"red.300\")(props)\n    }\n  };\n};\nvar baseStyleContainer3 = {\n  _disabled: { cursor: \"not-allowed\" }\n};\nvar baseStyleLabel = {\n  userSelect: \"none\",\n  _disabled: { opacity: 0.4 }\n};\nvar baseStyleIcon2 = {\n  transitionProperty: \"transform\",\n  transitionDuration: \"normal\"\n};\nvar baseStyle7 = (props) => ({\n  icon: baseStyleIcon2,\n  container: baseStyleContainer3,\n  control: baseStyleControl(props),\n  label: baseStyleLabel\n});\nvar sizes4 = {\n  sm: {\n    control: { h: 3, w: 3 },\n    label: { fontSize: \"sm\" },\n    icon: { fontSize: \"0.45rem\" }\n  },\n  md: {\n    control: { w: 4, h: 4 },\n    label: { fontSize: \"md\" },\n    icon: { fontSize: \"0.625rem\" }\n  },\n  lg: {\n    control: { w: 5, h: 5 },\n    label: { fontSize: \"lg\" },\n    icon: { fontSize: \"0.625rem\" }\n  }\n};\nvar defaultProps5 = {\n  size: \"md\",\n  colorScheme: \"blue\"\n};\nvar checkbox_default = {\n  parts: parts5.keys,\n  baseStyle: baseStyle7,\n  sizes: sizes4,\n  defaultProps: defaultProps5\n};\n\n// src/components/close-button.ts\nimport { cssVar, mode as mode6 } from \"@chakra-ui/theme-tools\";\nvar $size = cssVar(\"close-button-size\");\nvar baseStyle8 = (props) => {\n  const hoverBg = mode6(`blackAlpha.100`, `whiteAlpha.100`)(props);\n  const activeBg = mode6(`blackAlpha.200`, `whiteAlpha.200`)(props);\n  return {\n    w: [$size.reference],\n    h: [$size.reference],\n    borderRadius: \"md\",\n    transitionProperty: \"common\",\n    transitionDuration: \"normal\",\n    _disabled: {\n      opacity: 0.4,\n      cursor: \"not-allowed\",\n      boxShadow: \"none\"\n    },\n    _hover: { bg: hoverBg },\n    _active: { bg: activeBg },\n    _focusVisible: {\n      boxShadow: \"outline\"\n    }\n  };\n};\nvar sizes5 = {\n  lg: {\n    [$size.variable]: \"40px\",\n    fontSize: \"16px\"\n  },\n  md: {\n    [$size.variable]: \"32px\",\n    fontSize: \"12px\"\n  },\n  sm: {\n    [$size.variable]: \"24px\",\n    fontSize: \"10px\"\n  }\n};\nvar defaultProps6 = {\n  size: \"md\"\n};\nvar close_button_default = {\n  baseStyle: baseStyle8,\n  sizes: sizes5,\n  defaultProps: defaultProps6\n};\n\n// src/components/code.ts\nvar { variants: variants4, defaultProps: defaultProps7 } = badge_default;\nvar baseStyle9 = {\n  fontFamily: \"mono\",\n  fontSize: \"sm\",\n  px: \"0.2em\",\n  borderRadius: \"sm\"\n};\nvar code_default = {\n  baseStyle: baseStyle9,\n  variants: variants4,\n  defaultProps: defaultProps7\n};\n\n// src/components/container.ts\nvar baseStyle10 = {\n  w: \"100%\",\n  mx: \"auto\",\n  maxW: \"60ch\",\n  px: \"1rem\"\n};\nvar container_default = {\n  baseStyle: baseStyle10\n};\n\n// src/components/divider.ts\nvar baseStyle11 = {\n  opacity: 0.6,\n  borderColor: \"inherit\"\n};\nvar variantSolid4 = {\n  borderStyle: \"solid\"\n};\nvar variantDashed = {\n  borderStyle: \"dashed\"\n};\nvar variants5 = {\n  solid: variantSolid4,\n  dashed: variantDashed\n};\nvar defaultProps8 = {\n  variant: \"solid\"\n};\nvar divider_default = {\n  baseStyle: baseStyle11,\n  variants: variants5,\n  defaultProps: defaultProps8\n};\n\n// src/components/drawer.ts\nimport { drawerAnatomy as parts6 } from \"@chakra-ui/anatomy\";\nimport { mode as mode7 } from \"@chakra-ui/theme-tools\";\nfunction getSize2(value) {\n  if (value === \"full\") {\n    return {\n      dialog: { maxW: \"100vw\", h: \"100vh\" }\n    };\n  }\n  return {\n    dialog: { maxW: value }\n  };\n}\nvar baseStyleOverlay = {\n  bg: \"blackAlpha.600\",\n  zIndex: \"overlay\"\n};\nvar baseStyleDialogContainer = {\n  display: \"flex\",\n  zIndex: \"modal\",\n  justifyContent: \"center\"\n};\nvar baseStyleDialog = (props) => {\n  const { isFullHeight } = props;\n  return {\n    ...isFullHeight && { height: \"100vh\" },\n    zIndex: \"modal\",\n    maxH: \"100vh\",\n    bg: mode7(\"white\", \"gray.700\")(props),\n    color: \"inherit\",\n    boxShadow: mode7(\"lg\", \"dark-lg\")(props)\n  };\n};\nvar baseStyleHeader = {\n  px: 6,\n  py: 4,\n  fontSize: \"xl\",\n  fontWeight: \"semibold\"\n};\nvar baseStyleCloseButton = {\n  position: \"absolute\",\n  top: 2,\n  insetEnd: 3\n};\nvar baseStyleBody = {\n  px: 6,\n  py: 2,\n  flex: 1,\n  overflow: \"auto\"\n};\nvar baseStyleFooter = {\n  px: 6,\n  py: 4\n};\nvar baseStyle12 = (props) => ({\n  overlay: baseStyleOverlay,\n  dialogContainer: baseStyleDialogContainer,\n  dialog: baseStyleDialog(props),\n  header: baseStyleHeader,\n  closeButton: baseStyleCloseButton,\n  body: baseStyleBody,\n  footer: baseStyleFooter\n});\nvar sizes6 = {\n  xs: getSize2(\"xs\"),\n  sm: getSize2(\"md\"),\n  md: getSize2(\"lg\"),\n  lg: getSize2(\"2xl\"),\n  xl: getSize2(\"4xl\"),\n  full: getSize2(\"full\")\n};\nvar defaultProps9 = {\n  size: \"xs\"\n};\nvar drawer_default = {\n  parts: parts6.keys,\n  baseStyle: baseStyle12,\n  sizes: sizes6,\n  defaultProps: defaultProps9\n};\n\n// src/components/editable.ts\nimport { editableAnatomy as parts7 } from \"@chakra-ui/anatomy\";\nvar baseStylePreview = {\n  borderRadius: \"md\",\n  py: \"3px\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\"\n};\nvar baseStyleInput = {\n  borderRadius: \"md\",\n  py: \"3px\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  width: \"full\",\n  _focusVisible: { boxShadow: \"outline\" },\n  _placeholder: { opacity: 0.6 }\n};\nvar baseStyleTextarea = {\n  borderRadius: \"md\",\n  py: \"3px\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  width: \"full\",\n  _focusVisible: { boxShadow: \"outline\" },\n  _placeholder: { opacity: 0.6 }\n};\nvar baseStyle13 = {\n  preview: baseStylePreview,\n  input: baseStyleInput,\n  textarea: baseStyleTextarea\n};\nvar editable_default = {\n  parts: parts7.keys,\n  baseStyle: baseStyle13\n};\n\n// src/components/form.ts\nimport { formAnatomy as parts8 } from \"@chakra-ui/anatomy\";\nimport { mode as mode8 } from \"@chakra-ui/theme-tools\";\nvar baseStyleRequiredIndicator = (props) => {\n  return {\n    marginStart: 1,\n    color: mode8(\"red.500\", \"red.300\")(props)\n  };\n};\nvar baseStyleHelperText = (props) => {\n  return {\n    mt: 2,\n    color: mode8(\"gray.500\", \"whiteAlpha.600\")(props),\n    lineHeight: \"normal\",\n    fontSize: \"sm\"\n  };\n};\nvar baseStyle14 = (props) => ({\n  container: { width: \"100%\", position: \"relative\" },\n  requiredIndicator: baseStyleRequiredIndicator(props),\n  helperText: baseStyleHelperText(props)\n});\nvar form_default = {\n  parts: parts8.keys,\n  baseStyle: baseStyle14\n};\n\n// src/components/form-error.ts\nimport { formErrorAnatomy as parts9 } from \"@chakra-ui/anatomy\";\nimport { mode as mode9 } from \"@chakra-ui/theme-tools\";\nvar baseStyleText = (props) => {\n  return {\n    color: mode9(\"red.500\", \"red.300\")(props),\n    mt: 2,\n    fontSize: \"sm\",\n    lineHeight: \"normal\"\n  };\n};\nvar baseStyleIcon3 = (props) => {\n  return {\n    marginEnd: \"0.5em\",\n    color: mode9(\"red.500\", \"red.300\")(props)\n  };\n};\nvar baseStyle15 = (props) => ({\n  text: baseStyleText(props),\n  icon: baseStyleIcon3(props)\n});\nvar form_error_default = {\n  parts: parts9.keys,\n  baseStyle: baseStyle15\n};\n\n// src/components/form-label.ts\nvar baseStyle16 = {\n  fontSize: \"md\",\n  marginEnd: 3,\n  mb: 2,\n  fontWeight: \"medium\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  opacity: 1,\n  _disabled: {\n    opacity: 0.4\n  }\n};\nvar form_label_default = {\n  baseStyle: baseStyle16\n};\n\n// src/components/heading.ts\nvar baseStyle17 = {\n  fontFamily: \"heading\",\n  fontWeight: \"bold\"\n};\nvar sizes7 = {\n  \"4xl\": {\n    fontSize: [\"6xl\", null, \"7xl\"],\n    lineHeight: 1\n  },\n  \"3xl\": {\n    fontSize: [\"5xl\", null, \"6xl\"],\n    lineHeight: 1\n  },\n  \"2xl\": {\n    fontSize: [\"4xl\", null, \"5xl\"],\n    lineHeight: [1.2, null, 1]\n  },\n  xl: {\n    fontSize: [\"3xl\", null, \"4xl\"],\n    lineHeight: [1.33, null, 1.2]\n  },\n  lg: {\n    fontSize: [\"2xl\", null, \"3xl\"],\n    lineHeight: [1.33, null, 1.2]\n  },\n  md: { fontSize: \"xl\", lineHeight: 1.2 },\n  sm: { fontSize: \"md\", lineHeight: 1.2 },\n  xs: { fontSize: \"sm\", lineHeight: 1.2 }\n};\nvar defaultProps10 = {\n  size: \"xl\"\n};\nvar heading_default = {\n  baseStyle: baseStyle17,\n  sizes: sizes7,\n  defaultProps: defaultProps10\n};\n\n// src/components/input.ts\nimport { inputAnatomy as parts10 } from \"@chakra-ui/anatomy\";\nimport { getColor as getColor3, mode as mode10 } from \"@chakra-ui/theme-tools\";\nvar baseStyle18 = {\n  field: {\n    width: \"100%\",\n    minWidth: 0,\n    outline: 0,\n    position: \"relative\",\n    appearance: \"none\",\n    transitionProperty: \"common\",\n    transitionDuration: \"normal\"\n  }\n};\nvar size = {\n  lg: {\n    fontSize: \"lg\",\n    px: 4,\n    h: 12,\n    borderRadius: \"md\"\n  },\n  md: {\n    fontSize: \"md\",\n    px: 4,\n    h: 10,\n    borderRadius: \"md\"\n  },\n  sm: {\n    fontSize: \"sm\",\n    px: 3,\n    h: 8,\n    borderRadius: \"sm\"\n  },\n  xs: {\n    fontSize: \"xs\",\n    px: 2,\n    h: 6,\n    borderRadius: \"sm\"\n  }\n};\nvar sizes8 = {\n  lg: {\n    field: size.lg,\n    addon: size.lg\n  },\n  md: {\n    field: size.md,\n    addon: size.md\n  },\n  sm: {\n    field: size.sm,\n    addon: size.sm\n  },\n  xs: {\n    field: size.xs,\n    addon: size.xs\n  }\n};\nfunction getDefaults(props) {\n  const { focusBorderColor: fc, errorBorderColor: ec } = props;\n  return {\n    focusBorderColor: fc || mode10(\"blue.500\", \"blue.300\")(props),\n    errorBorderColor: ec || mode10(\"red.500\", \"red.300\")(props)\n  };\n}\nvar variantOutline3 = (props) => {\n  const { theme: theme2 } = props;\n  const { focusBorderColor: fc, errorBorderColor: ec } = getDefaults(props);\n  return {\n    field: {\n      border: \"1px solid\",\n      borderColor: \"inherit\",\n      bg: \"inherit\",\n      _hover: {\n        borderColor: mode10(\"gray.300\", \"whiteAlpha.400\")(props)\n      },\n      _readOnly: {\n        boxShadow: \"none !important\",\n        userSelect: \"all\"\n      },\n      _disabled: {\n        opacity: 0.4,\n        cursor: \"not-allowed\"\n      },\n      _invalid: {\n        borderColor: getColor3(theme2, ec),\n        boxShadow: `0 0 0 1px ${getColor3(theme2, ec)}`\n      },\n      _focusVisible: {\n        zIndex: 1,\n        borderColor: getColor3(theme2, fc),\n        boxShadow: `0 0 0 1px ${getColor3(theme2, fc)}`\n      }\n    },\n    addon: {\n      border: \"1px solid\",\n      borderColor: mode10(\"inherit\", \"whiteAlpha.50\")(props),\n      bg: mode10(\"gray.100\", \"whiteAlpha.300\")(props)\n    }\n  };\n};\nvar variantFilled = (props) => {\n  const { theme: theme2 } = props;\n  const { focusBorderColor: fc, errorBorderColor: ec } = getDefaults(props);\n  return {\n    field: {\n      border: \"2px solid\",\n      borderColor: \"transparent\",\n      bg: mode10(\"gray.100\", \"whiteAlpha.50\")(props),\n      _hover: {\n        bg: mode10(\"gray.200\", \"whiteAlpha.100\")(props)\n      },\n      _readOnly: {\n        boxShadow: \"none !important\",\n        userSelect: \"all\"\n      },\n      _disabled: {\n        opacity: 0.4,\n        cursor: \"not-allowed\"\n      },\n      _invalid: {\n        borderColor: getColor3(theme2, ec)\n      },\n      _focusVisible: {\n        bg: \"transparent\",\n        borderColor: getColor3(theme2, fc)\n      }\n    },\n    addon: {\n      border: \"2px solid\",\n      borderColor: \"transparent\",\n      bg: mode10(\"gray.100\", \"whiteAlpha.50\")(props)\n    }\n  };\n};\nvar variantFlushed = (props) => {\n  const { theme: theme2 } = props;\n  const { focusBorderColor: fc, errorBorderColor: ec } = getDefaults(props);\n  return {\n    field: {\n      borderBottom: \"1px solid\",\n      borderColor: \"inherit\",\n      borderRadius: 0,\n      px: 0,\n      bg: \"transparent\",\n      _readOnly: {\n        boxShadow: \"none !important\",\n        userSelect: \"all\"\n      },\n      _invalid: {\n        borderColor: getColor3(theme2, ec),\n        boxShadow: `0px 1px 0px 0px ${getColor3(theme2, ec)}`\n      },\n      _focusVisible: {\n        borderColor: getColor3(theme2, fc),\n        boxShadow: `0px 1px 0px 0px ${getColor3(theme2, fc)}`\n      }\n    },\n    addon: {\n      borderBottom: \"2px solid\",\n      borderColor: \"inherit\",\n      borderRadius: 0,\n      px: 0,\n      bg: \"transparent\"\n    }\n  };\n};\nvar variantUnstyled2 = {\n  field: {\n    bg: \"transparent\",\n    px: 0,\n    height: \"auto\"\n  },\n  addon: {\n    bg: \"transparent\",\n    px: 0,\n    height: \"auto\"\n  }\n};\nvar variants6 = {\n  outline: variantOutline3,\n  filled: variantFilled,\n  flushed: variantFlushed,\n  unstyled: variantUnstyled2\n};\nvar defaultProps11 = {\n  size: \"md\",\n  variant: \"outline\"\n};\nvar input_default = {\n  parts: parts10.keys,\n  baseStyle: baseStyle18,\n  sizes: sizes8,\n  variants: variants6,\n  defaultProps: defaultProps11\n};\n\n// src/components/kbd.ts\nimport { mode as mode11 } from \"@chakra-ui/theme-tools\";\nvar baseStyle19 = (props) => {\n  return {\n    bg: mode11(\"gray.100\", \"whiteAlpha\")(props),\n    borderRadius: \"md\",\n    borderWidth: \"1px\",\n    borderBottomWidth: \"3px\",\n    fontSize: \"0.8em\",\n    fontWeight: \"bold\",\n    lineHeight: \"normal\",\n    px: \"0.4em\",\n    whiteSpace: \"nowrap\"\n  };\n};\nvar kbd_default = {\n  baseStyle: baseStyle19\n};\n\n// src/components/link.ts\nvar baseStyle20 = {\n  transitionProperty: \"common\",\n  transitionDuration: \"fast\",\n  transitionTimingFunction: \"ease-out\",\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n  outline: \"none\",\n  color: \"inherit\",\n  _hover: {\n    textDecoration: \"underline\"\n  },\n  _focusVisible: {\n    boxShadow: \"outline\"\n  }\n};\nvar link_default = {\n  baseStyle: baseStyle20\n};\n\n// src/components/list.ts\nimport { listAnatomy as parts11 } from \"@chakra-ui/anatomy\";\nvar baseStyleIcon4 = {\n  marginEnd: \"0.5rem\",\n  display: \"inline\",\n  verticalAlign: \"text-bottom\"\n};\nvar baseStyle21 = {\n  container: {},\n  item: {},\n  icon: baseStyleIcon4\n};\nvar list_default = {\n  parts: parts11.keys,\n  baseStyle: baseStyle21\n};\n\n// src/components/menu.ts\nimport { menuAnatomy as parts12 } from \"@chakra-ui/anatomy\";\nimport { mode as mode12 } from \"@chakra-ui/theme-tools\";\nvar baseStyleList = (props) => {\n  return {\n    bg: mode12(\"#fff\", \"gray.700\")(props),\n    boxShadow: mode12(\"sm\", \"dark-lg\")(props),\n    color: \"inherit\",\n    minW: \"3xs\",\n    py: \"2\",\n    zIndex: 1,\n    borderRadius: \"md\",\n    borderWidth: \"1px\"\n  };\n};\nvar baseStyleItem = (props) => {\n  return {\n    py: \"0.4rem\",\n    px: \"0.8rem\",\n    transitionProperty: \"background\",\n    transitionDuration: \"ultra-fast\",\n    transitionTimingFunction: \"ease-in\",\n    _focus: {\n      bg: mode12(\"gray.100\", \"whiteAlpha.100\")(props)\n    },\n    _active: {\n      bg: mode12(\"gray.200\", \"whiteAlpha.200\")(props)\n    },\n    _expanded: {\n      bg: mode12(\"gray.100\", \"whiteAlpha.100\")(props)\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: \"not-allowed\"\n    }\n  };\n};\nvar baseStyleGroupTitle = {\n  mx: 4,\n  my: 2,\n  fontWeight: \"semibold\",\n  fontSize: \"sm\"\n};\nvar baseStyleCommand = {\n  opacity: 0.6\n};\nvar baseStyleDivider = {\n  border: 0,\n  borderBottom: \"1px solid\",\n  borderColor: \"inherit\",\n  my: \"0.5rem\",\n  opacity: 0.6\n};\nvar baseStyleButton2 = {\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\"\n};\nvar baseStyle22 = (props) => ({\n  button: baseStyleButton2,\n  list: baseStyleList(props),\n  item: baseStyleItem(props),\n  groupTitle: baseStyleGroupTitle,\n  command: baseStyleCommand,\n  divider: baseStyleDivider\n});\nvar menu_default = {\n  parts: parts12.keys,\n  baseStyle: baseStyle22\n};\n\n// src/components/modal.ts\nimport { modalAnatomy as parts13 } from \"@chakra-ui/anatomy\";\nimport { mode as mode13 } from \"@chakra-ui/theme-tools\";\nvar baseStyleOverlay2 = {\n  bg: \"blackAlpha.600\",\n  zIndex: \"modal\"\n};\nvar baseStyleDialogContainer2 = (props) => {\n  const { isCentered, scrollBehavior } = props;\n  return {\n    display: \"flex\",\n    zIndex: \"modal\",\n    justifyContent: \"center\",\n    alignItems: isCentered ? \"center\" : \"flex-start\",\n    overflow: scrollBehavior === \"inside\" ? \"hidden\" : \"auto\"\n  };\n};\nvar baseStyleDialog2 = (props) => {\n  const { scrollBehavior } = props;\n  return {\n    borderRadius: \"md\",\n    bg: mode13(\"white\", \"gray.700\")(props),\n    color: \"inherit\",\n    my: \"3.75rem\",\n    zIndex: \"modal\",\n    maxH: scrollBehavior === \"inside\" ? \"calc(100% - 7.5rem)\" : void 0,\n    boxShadow: mode13(\"lg\", \"dark-lg\")(props)\n  };\n};\nvar baseStyleHeader2 = {\n  px: 6,\n  py: 4,\n  fontSize: \"xl\",\n  fontWeight: \"semibold\"\n};\nvar baseStyleCloseButton2 = {\n  position: \"absolute\",\n  top: 2,\n  insetEnd: 3\n};\nvar baseStyleBody2 = (props) => {\n  const { scrollBehavior } = props;\n  return {\n    px: 6,\n    py: 2,\n    flex: 1,\n    overflow: scrollBehavior === \"inside\" ? \"auto\" : void 0\n  };\n};\nvar baseStyleFooter2 = {\n  px: 6,\n  py: 4\n};\nvar baseStyle23 = (props) => ({\n  overlay: baseStyleOverlay2,\n  dialogContainer: baseStyleDialogContainer2(props),\n  dialog: baseStyleDialog2(props),\n  header: baseStyleHeader2,\n  closeButton: baseStyleCloseButton2,\n  body: baseStyleBody2(props),\n  footer: baseStyleFooter2\n});\nfunction getSize3(value) {\n  if (value === \"full\") {\n    return {\n      dialog: {\n        maxW: \"100vw\",\n        minH: \"100vh\",\n        \"@supports(min-height: -webkit-fill-available)\": {\n          minH: \"-webkit-fill-available\"\n        },\n        my: 0,\n        borderRadius: 0\n      }\n    };\n  }\n  return {\n    dialog: { maxW: value }\n  };\n}\nvar sizes9 = {\n  xs: getSize3(\"xs\"),\n  sm: getSize3(\"sm\"),\n  md: getSize3(\"md\"),\n  lg: getSize3(\"lg\"),\n  xl: getSize3(\"xl\"),\n  \"2xl\": getSize3(\"2xl\"),\n  \"3xl\": getSize3(\"3xl\"),\n  \"4xl\": getSize3(\"4xl\"),\n  \"5xl\": getSize3(\"5xl\"),\n  \"6xl\": getSize3(\"6xl\"),\n  full: getSize3(\"full\")\n};\nvar defaultProps12 = {\n  size: \"md\"\n};\nvar modal_default = {\n  parts: parts13.keys,\n  baseStyle: baseStyle23,\n  sizes: sizes9,\n  defaultProps: defaultProps12\n};\n\n// src/components/number-input.ts\nimport { numberInputAnatomy as parts14 } from \"@chakra-ui/anatomy\";\nimport { calc, cssVar as cssVar2, mode as mode14 } from \"@chakra-ui/theme-tools\";\n\n// src/foundations/typography.ts\nvar typography = {\n  letterSpacings: {\n    tighter: \"-0.05em\",\n    tight: \"-0.025em\",\n    normal: \"0\",\n    wide: \"0.025em\",\n    wider: \"0.05em\",\n    widest: \"0.1em\"\n  },\n  lineHeights: {\n    normal: \"normal\",\n    none: 1,\n    shorter: 1.25,\n    short: 1.375,\n    base: 1.5,\n    tall: 1.625,\n    taller: \"2\",\n    \"3\": \".75rem\",\n    \"4\": \"1rem\",\n    \"5\": \"1.25rem\",\n    \"6\": \"1.5rem\",\n    \"7\": \"1.75rem\",\n    \"8\": \"2rem\",\n    \"9\": \"2.25rem\",\n    \"10\": \"2.5rem\"\n  },\n  fontWeights: {\n    hairline: 100,\n    thin: 200,\n    light: 300,\n    normal: 400,\n    medium: 500,\n    semibold: 600,\n    bold: 700,\n    extrabold: 800,\n    black: 900\n  },\n  fonts: {\n    heading: `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    body: `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    mono: `SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace`\n  },\n  fontSizes: {\n    xs: \"0.75rem\",\n    sm: \"0.875rem\",\n    md: \"1rem\",\n    lg: \"1.125rem\",\n    xl: \"1.25rem\",\n    \"2xl\": \"1.5rem\",\n    \"3xl\": \"1.875rem\",\n    \"4xl\": \"2.25rem\",\n    \"5xl\": \"3rem\",\n    \"6xl\": \"3.75rem\",\n    \"7xl\": \"4.5rem\",\n    \"8xl\": \"6rem\",\n    \"9xl\": \"8rem\"\n  }\n};\nvar typography_default = typography;\n\n// src/components/number-input.ts\nvar { variants: variants7, defaultProps: defaultProps13 } = input_default;\nvar $stepperWidth = cssVar2(\"number-input-stepper-width\");\nvar $inputPadding = cssVar2(\"number-input-input-padding\");\nvar inputPaddingValue = calc($stepperWidth).add(\"0.5rem\").toString();\nvar baseStyleRoot = {\n  [$stepperWidth.variable]: \"24px\",\n  [$inputPadding.variable]: inputPaddingValue\n};\nvar _a;\nvar baseStyleField = ((_a = input_default.baseStyle) == null ? void 0 : _a.field) ?? {};\nvar baseStyleStepperGroup = {\n  width: [$stepperWidth.reference]\n};\nvar baseStyleStepper = (props) => {\n  return {\n    borderStart: \"1px solid\",\n    borderStartColor: mode14(\"inherit\", \"whiteAlpha.300\")(props),\n    color: mode14(\"inherit\", \"whiteAlpha.800\")(props),\n    _active: {\n      bg: mode14(\"gray.200\", \"whiteAlpha.300\")(props)\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: \"not-allowed\"\n    }\n  };\n};\nvar baseStyle24 = (props) => ({\n  root: baseStyleRoot,\n  field: baseStyleField,\n  stepperGroup: baseStyleStepperGroup,\n  stepper: baseStyleStepper(props)\n});\nfunction getSize4(size2) {\n  var _a2;\n  const sizeStyle = input_default.sizes[size2];\n  const radius = {\n    lg: \"md\",\n    md: \"md\",\n    sm: \"sm\",\n    xs: \"sm\"\n  };\n  const _fontSize = ((_a2 = sizeStyle.field) == null ? void 0 : _a2.fontSize) ?? \"md\";\n  const fontSize = typography_default.fontSizes[_fontSize];\n  return {\n    field: {\n      ...sizeStyle.field,\n      paddingInlineEnd: $inputPadding.reference,\n      verticalAlign: \"top\"\n    },\n    stepper: {\n      fontSize: calc(fontSize).multiply(0.75).toString(),\n      _first: {\n        borderTopEndRadius: radius[size2]\n      },\n      _last: {\n        borderBottomEndRadius: radius[size2],\n        mt: \"-1px\",\n        borderTopWidth: 1\n      }\n    }\n  };\n}\nvar sizes10 = {\n  xs: getSize4(\"xs\"),\n  sm: getSize4(\"sm\"),\n  md: getSize4(\"md\"),\n  lg: getSize4(\"lg\")\n};\nvar number_input_default = {\n  parts: parts14.keys,\n  baseStyle: baseStyle24,\n  sizes: sizes10,\n  variants: variants7,\n  defaultProps: defaultProps13\n};\n\n// src/components/pin-input.ts\nvar baseStyle25 = {\n  ...input_default.baseStyle.field,\n  textAlign: \"center\"\n};\nvar sizes11 = {\n  lg: {\n    fontSize: \"lg\",\n    w: 12,\n    h: 12,\n    borderRadius: \"md\"\n  },\n  md: {\n    fontSize: \"md\",\n    w: 10,\n    h: 10,\n    borderRadius: \"md\"\n  },\n  sm: {\n    fontSize: \"sm\",\n    w: 8,\n    h: 8,\n    borderRadius: \"sm\"\n  },\n  xs: {\n    fontSize: \"xs\",\n    w: 6,\n    h: 6,\n    borderRadius: \"sm\"\n  }\n};\nvar variants8 = {\n  outline: (props) => input_default.variants.outline(props).field ?? {},\n  flushed: (props) => input_default.variants.flushed(props).field ?? {},\n  filled: (props) => input_default.variants.filled(props).field ?? {},\n  unstyled: input_default.variants.unstyled.field ?? {}\n};\nvar defaultProps14 = input_default.defaultProps;\nvar pin_input_default = {\n  baseStyle: baseStyle25,\n  sizes: sizes11,\n  variants: variants8,\n  defaultProps: defaultProps14\n};\n\n// src/components/popover.ts\nimport { popoverAnatomy as parts15 } from \"@chakra-ui/anatomy\";\nimport { cssVar as cssVar3, mode as mode15 } from \"@chakra-ui/theme-tools\";\nvar $popperBg = cssVar3(\"popper-bg\");\nvar $arrowBg = cssVar3(\"popper-arrow-bg\");\nvar $arrowShadowColor = cssVar3(\"popper-arrow-shadow-color\");\nvar baseStylePopper = {\n  zIndex: 10\n};\nvar baseStyleContent = (props) => {\n  const bg = mode15(\"white\", \"gray.700\")(props);\n  const shadowColor = mode15(\"gray.200\", \"whiteAlpha.300\")(props);\n  return {\n    [$popperBg.variable]: `colors.${bg}`,\n    bg: $popperBg.reference,\n    [$arrowBg.variable]: $popperBg.reference,\n    [$arrowShadowColor.variable]: `colors.${shadowColor}`,\n    width: \"xs\",\n    border: \"1px solid\",\n    borderColor: \"inherit\",\n    borderRadius: \"md\",\n    boxShadow: \"sm\",\n    zIndex: \"inherit\",\n    _focusVisible: {\n      outline: 0,\n      boxShadow: \"outline\"\n    }\n  };\n};\nvar baseStyleHeader3 = {\n  px: 3,\n  py: 2,\n  borderBottomWidth: \"1px\"\n};\nvar baseStyleBody3 = {\n  px: 3,\n  py: 2\n};\nvar baseStyleFooter3 = {\n  px: 3,\n  py: 2,\n  borderTopWidth: \"1px\"\n};\nvar baseStyleCloseButton3 = {\n  position: \"absolute\",\n  borderRadius: \"md\",\n  top: 1,\n  insetEnd: 2,\n  padding: 2\n};\nvar baseStyle26 = (props) => ({\n  popper: baseStylePopper,\n  content: baseStyleContent(props),\n  header: baseStyleHeader3,\n  body: baseStyleBody3,\n  footer: baseStyleFooter3,\n  arrow: {},\n  closeButton: baseStyleCloseButton3\n});\nvar popover_default = {\n  parts: parts15.keys,\n  baseStyle: baseStyle26\n};\n\n// src/components/progress.ts\nimport { progressAnatomy as parts16 } from \"@chakra-ui/anatomy\";\nimport { generateStripe, getColor as getColor4, mode as mode16 } from \"@chakra-ui/theme-tools\";\nfunction filledStyle(props) {\n  const { colorScheme: c, theme: t, isIndeterminate, hasStripe } = props;\n  const stripeStyle = mode16(generateStripe(), generateStripe(\"1rem\", \"rgba(0,0,0,0.1)\"))(props);\n  const bgColor = mode16(`${c}.500`, `${c}.200`)(props);\n  const gradient = `linear-gradient(\n    to right,\n    transparent 0%,\n    ${getColor4(t, bgColor)} 50%,\n    transparent 100%\n  )`;\n  const addStripe = !isIndeterminate && hasStripe;\n  return {\n    ...addStripe && stripeStyle,\n    ...isIndeterminate ? { bgImage: gradient } : { bgColor }\n  };\n}\nvar baseStyleLabel2 = {\n  lineHeight: \"1\",\n  fontSize: \"0.25em\",\n  fontWeight: \"bold\",\n  color: \"white\"\n};\nvar baseStyleTrack = (props) => {\n  return {\n    bg: mode16(\"gray.100\", \"whiteAlpha.300\")(props)\n  };\n};\nvar baseStyleFilledTrack = (props) => {\n  return {\n    transitionProperty: \"common\",\n    transitionDuration: \"slow\",\n    ...filledStyle(props)\n  };\n};\nvar baseStyle27 = (props) => ({\n  label: baseStyleLabel2,\n  filledTrack: baseStyleFilledTrack(props),\n  track: baseStyleTrack(props)\n});\nvar sizes12 = {\n  xs: {\n    track: { h: \"0.25rem\" }\n  },\n  sm: {\n    track: { h: \"0.5rem\" }\n  },\n  md: {\n    track: { h: \"0.75rem\" }\n  },\n  lg: {\n    track: { h: \"1rem\" }\n  }\n};\nvar defaultProps15 = {\n  size: \"md\",\n  colorScheme: \"blue\"\n};\nvar progress_default = {\n  parts: parts16.keys,\n  sizes: sizes12,\n  baseStyle: baseStyle27,\n  defaultProps: defaultProps15\n};\n\n// src/components/radio.ts\nimport { radioAnatomy as parts17 } from \"@chakra-ui/anatomy\";\nvar baseStyleControl2 = (props) => {\n  const { control = {} } = checkbox_default.baseStyle(props);\n  return {\n    ...control,\n    borderRadius: \"full\",\n    _checked: {\n      ...control[\"_checked\"],\n      _before: {\n        content: `\"\"`,\n        display: \"inline-block\",\n        pos: \"relative\",\n        w: \"50%\",\n        h: \"50%\",\n        borderRadius: \"50%\",\n        bg: \"currentColor\"\n      }\n    }\n  };\n};\nvar baseStyle28 = (props) => ({\n  label: checkbox_default.baseStyle(props).label,\n  container: checkbox_default.baseStyle(props).container,\n  control: baseStyleControl2(props)\n});\nvar sizes13 = {\n  md: {\n    control: { w: 4, h: 4 },\n    label: { fontSize: \"md\" }\n  },\n  lg: {\n    control: { w: 5, h: 5 },\n    label: { fontSize: \"lg\" }\n  },\n  sm: {\n    control: { width: 3, height: 3 },\n    label: { fontSize: \"sm\" }\n  }\n};\nvar defaultProps16 = {\n  size: \"md\",\n  colorScheme: \"blue\"\n};\nvar radio_default = {\n  parts: parts17.keys,\n  baseStyle: baseStyle28,\n  sizes: sizes13,\n  defaultProps: defaultProps16\n};\n\n// src/components/select.ts\nimport { selectAnatomy as parts18 } from \"@chakra-ui/anatomy\";\nimport { mergeWith } from \"@chakra-ui/utils\";\nimport { mode as mode17 } from \"@chakra-ui/theme-tools\";\nvar baseStyleField2 = (props) => {\n  return {\n    ...input_default.baseStyle.field,\n    bg: mode17(\"white\", \"gray.700\")(props),\n    appearance: \"none\",\n    paddingBottom: \"1px\",\n    lineHeight: \"normal\",\n    \"> option, > optgroup\": {\n      bg: mode17(\"white\", \"gray.700\")(props)\n    }\n  };\n};\nvar baseStyleIcon5 = {\n  width: \"1.5rem\",\n  height: \"100%\",\n  insetEnd: \"0.5rem\",\n  position: \"relative\",\n  color: \"currentColor\",\n  fontSize: \"1.25rem\",\n  _disabled: {\n    opacity: 0.5\n  }\n};\nvar baseStyle29 = (props) => ({\n  field: baseStyleField2(props),\n  icon: baseStyleIcon5\n});\nvar iconSpacing = { paddingInlineEnd: \"2rem\" };\nvar sizes14 = mergeWith({}, input_default.sizes, {\n  lg: {\n    field: iconSpacing\n  },\n  md: {\n    field: iconSpacing\n  },\n  sm: {\n    field: iconSpacing\n  },\n  xs: {\n    field: iconSpacing,\n    icon: { insetEnd: \"0.25rem\" }\n  }\n});\nvar select_default = {\n  parts: parts18.keys,\n  baseStyle: baseStyle29,\n  sizes: sizes14,\n  variants: input_default.variants,\n  defaultProps: input_default.defaultProps\n};\n\n// src/components/skeleton.ts\nimport { getColor as getColor5, mode as mode18, cssVar as cssVar4 } from \"@chakra-ui/theme-tools\";\nvar $startColor = cssVar4(\"skeleton-start-color\");\nvar $endColor = cssVar4(\"skeleton-end-color\");\nvar baseStyle30 = (props) => {\n  const defaultStartColor = mode18(\"gray.100\", \"gray.800\")(props);\n  const defaultEndColor = mode18(\"gray.400\", \"gray.600\")(props);\n  const {\n    startColor = defaultStartColor,\n    endColor = defaultEndColor,\n    theme: theme2\n  } = props;\n  const start = getColor5(theme2, startColor);\n  const end = getColor5(theme2, endColor);\n  return {\n    [$startColor.variable]: start,\n    [$endColor.variable]: end,\n    opacity: 0.7,\n    borderRadius: \"2px\",\n    borderColor: start,\n    background: end\n  };\n};\nvar skeleton_default = {\n  baseStyle: baseStyle30\n};\n\n// src/components/skip-link.ts\nimport { mode as mode19 } from \"@chakra-ui/theme-tools\";\nvar baseStyle31 = (props) => ({\n  borderRadius: \"md\",\n  fontWeight: \"semibold\",\n  _focusVisible: {\n    boxShadow: \"outline\",\n    padding: \"1rem\",\n    position: \"fixed\",\n    top: \"1.5rem\",\n    insetStart: \"1.5rem\",\n    bg: mode19(\"white\", \"gray.700\")(props)\n  }\n});\nvar skip_link_default = {\n  baseStyle: baseStyle31\n};\n\n// src/components/slider.ts\nimport { sliderAnatomy as parts19 } from \"@chakra-ui/anatomy\";\nimport { mode as mode20, orient } from \"@chakra-ui/theme-tools\";\nfunction thumbOrientation(props) {\n  return orient({\n    orientation: props.orientation,\n    vertical: {\n      left: \"50%\",\n      transform: `translateX(-50%)`,\n      _active: {\n        transform: `translateX(-50%) scale(1.15)`\n      }\n    },\n    horizontal: {\n      top: \"50%\",\n      transform: `translateY(-50%)`,\n      _active: {\n        transform: `translateY(-50%) scale(1.15)`\n      }\n    }\n  });\n}\nvar baseStyleContainer4 = (props) => {\n  const { orientation } = props;\n  return {\n    display: \"inline-block\",\n    position: \"relative\",\n    cursor: \"pointer\",\n    _disabled: {\n      opacity: 0.6,\n      cursor: \"default\",\n      pointerEvents: \"none\"\n    },\n    ...orient({\n      orientation,\n      vertical: { h: \"100%\" },\n      horizontal: { w: \"100%\" }\n    })\n  };\n};\nvar baseStyleTrack2 = (props) => {\n  return {\n    overflow: \"hidden\",\n    borderRadius: \"sm\",\n    bg: mode20(\"gray.200\", \"whiteAlpha.200\")(props),\n    _disabled: {\n      bg: mode20(\"gray.300\", \"whiteAlpha.300\")(props)\n    }\n  };\n};\nvar baseStyleThumb = (props) => {\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    position: \"absolute\",\n    outline: 0,\n    zIndex: 1,\n    borderRadius: \"full\",\n    bg: \"white\",\n    boxShadow: \"base\",\n    border: \"1px solid\",\n    borderColor: \"transparent\",\n    transitionProperty: \"transform\",\n    transitionDuration: \"normal\",\n    _focusVisible: { boxShadow: \"outline\" },\n    _disabled: { bg: \"gray.300\" },\n    ...thumbOrientation(props)\n  };\n};\nvar baseStyleFilledTrack2 = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    width: \"inherit\",\n    height: \"inherit\",\n    bg: mode20(`${c}.500`, `${c}.200`)(props)\n  };\n};\nvar baseStyle32 = (props) => ({\n  container: baseStyleContainer4(props),\n  track: baseStyleTrack2(props),\n  thumb: baseStyleThumb(props),\n  filledTrack: baseStyleFilledTrack2(props)\n});\nvar sizeLg = (props) => {\n  return {\n    thumb: { w: \"16px\", h: \"16px\" },\n    track: orient({\n      orientation: props.orientation,\n      horizontal: { h: \"4px\" },\n      vertical: { w: \"4px\" }\n    })\n  };\n};\nvar sizeMd = (props) => {\n  return {\n    thumb: { w: \"14px\", h: \"14px\" },\n    track: orient({\n      orientation: props.orientation,\n      horizontal: { h: \"4px\" },\n      vertical: { w: \"4px\" }\n    })\n  };\n};\nvar sizeSm = (props) => {\n  return {\n    thumb: { w: \"10px\", h: \"10px\" },\n    track: orient({\n      orientation: props.orientation,\n      horizontal: { h: \"2px\" },\n      vertical: { w: \"2px\" }\n    })\n  };\n};\nvar sizes15 = {\n  lg: sizeLg,\n  md: sizeMd,\n  sm: sizeSm\n};\nvar defaultProps17 = {\n  size: \"md\",\n  colorScheme: \"blue\"\n};\nvar slider_default = {\n  parts: parts19.keys,\n  sizes: sizes15,\n  baseStyle: baseStyle32,\n  defaultProps: defaultProps17\n};\n\n// src/components/spinner.ts\nimport { cssVar as cssVar5 } from \"@chakra-ui/theme-tools\";\nvar $size2 = cssVar5(\"spinner-size\");\nvar baseStyle33 = {\n  width: [$size2.reference],\n  height: [$size2.reference]\n};\nvar sizes16 = {\n  xs: {\n    [$size2.variable]: \"0.75rem\"\n  },\n  sm: {\n    [$size2.variable]: \"1rem\"\n  },\n  md: {\n    [$size2.variable]: \"1.5rem\"\n  },\n  lg: {\n    [$size2.variable]: \"2rem\"\n  },\n  xl: {\n    [$size2.variable]: \"3rem\"\n  }\n};\nvar defaultProps18 = {\n  size: \"md\"\n};\nvar spinner_default = {\n  baseStyle: baseStyle33,\n  sizes: sizes16,\n  defaultProps: defaultProps18\n};\n\n// src/components/stat.ts\nimport { statAnatomy as parts20 } from \"@chakra-ui/anatomy\";\nvar baseStyleLabel3 = {\n  fontWeight: \"medium\"\n};\nvar baseStyleHelpText = {\n  opacity: 0.8,\n  marginBottom: 2\n};\nvar baseStyleNumber = {\n  verticalAlign: \"baseline\",\n  fontWeight: \"semibold\"\n};\nvar baseStyleIcon6 = {\n  marginEnd: 1,\n  w: \"14px\",\n  h: \"14px\",\n  verticalAlign: \"middle\"\n};\nvar baseStyle34 = {\n  container: {},\n  label: baseStyleLabel3,\n  helpText: baseStyleHelpText,\n  number: baseStyleNumber,\n  icon: baseStyleIcon6\n};\nvar sizes17 = {\n  md: {\n    label: { fontSize: \"sm\" },\n    helpText: { fontSize: \"sm\" },\n    number: { fontSize: \"2xl\" }\n  }\n};\nvar defaultProps19 = {\n  size: \"md\"\n};\nvar stat_default = {\n  parts: parts20.keys,\n  baseStyle: baseStyle34,\n  sizes: sizes17,\n  defaultProps: defaultProps19\n};\n\n// src/components/switch.ts\nimport { switchAnatomy as parts21 } from \"@chakra-ui/anatomy\";\nimport { calc as calc2, cssVar as cssVar6, mode as mode21 } from \"@chakra-ui/theme-tools\";\nvar $width = cssVar6(\"switch-track-width\");\nvar $height = cssVar6(\"switch-track-height\");\nvar $diff = cssVar6(\"switch-track-diff\");\nvar diffValue = calc2.subtract($width, $height);\nvar $translateX = cssVar6(\"switch-thumb-x\");\nvar baseStyleTrack3 = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    borderRadius: \"full\",\n    p: \"2px\",\n    width: [$width.reference],\n    height: [$height.reference],\n    transitionProperty: \"common\",\n    transitionDuration: \"fast\",\n    bg: mode21(\"gray.300\", \"whiteAlpha.400\")(props),\n    _focusVisible: {\n      boxShadow: \"outline\"\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: \"not-allowed\"\n    },\n    _checked: {\n      bg: mode21(`${c}.500`, `${c}.200`)(props)\n    }\n  };\n};\nvar baseStyleThumb2 = {\n  bg: \"white\",\n  transitionProperty: \"transform\",\n  transitionDuration: \"normal\",\n  borderRadius: \"inherit\",\n  width: [$height.reference],\n  height: [$height.reference],\n  _checked: {\n    transform: `translateX(${$translateX.reference})`\n  }\n};\nvar baseStyle35 = (props) => ({\n  container: {\n    [$diff.variable]: diffValue,\n    [$translateX.variable]: $diff.reference,\n    _rtl: {\n      [$translateX.variable]: calc2($diff).negate().toString()\n    }\n  },\n  track: baseStyleTrack3(props),\n  thumb: baseStyleThumb2\n});\nvar sizes18 = {\n  sm: {\n    container: {\n      [$width.variable]: \"1.375rem\",\n      [$height.variable]: \"0.75rem\"\n    }\n  },\n  md: {\n    container: {\n      [$width.variable]: \"1.875rem\",\n      [$height.variable]: \"1rem\"\n    }\n  },\n  lg: {\n    container: {\n      [$width.variable]: \"2.875rem\",\n      [$height.variable]: \"1.5rem\"\n    }\n  }\n};\nvar defaultProps20 = {\n  size: \"md\",\n  colorScheme: \"blue\"\n};\nvar switch_default = {\n  parts: parts21.keys,\n  baseStyle: baseStyle35,\n  sizes: sizes18,\n  defaultProps: defaultProps20\n};\n\n// src/components/table.ts\nimport { tableAnatomy as parts22 } from \"@chakra-ui/anatomy\";\nimport { mode as mode22 } from \"@chakra-ui/theme-tools\";\nvar baseStyle36 = {\n  table: {\n    fontVariantNumeric: \"lining-nums tabular-nums\",\n    borderCollapse: \"collapse\",\n    width: \"full\"\n  },\n  th: {\n    fontFamily: \"heading\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    letterSpacing: \"wider\",\n    textAlign: \"start\"\n  },\n  td: {\n    textAlign: \"start\"\n  },\n  caption: {\n    mt: 4,\n    fontFamily: \"heading\",\n    textAlign: \"center\",\n    fontWeight: \"medium\"\n  }\n};\nvar numericStyles = {\n  \"&[data-is-numeric=true]\": {\n    textAlign: \"end\"\n  }\n};\nvar variantSimple = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    th: {\n      color: mode22(\"gray.600\", \"gray.400\")(props),\n      borderBottom: \"1px\",\n      borderColor: mode22(`${c}.100`, `${c}.700`)(props),\n      ...numericStyles\n    },\n    td: {\n      borderBottom: \"1px\",\n      borderColor: mode22(`${c}.100`, `${c}.700`)(props),\n      ...numericStyles\n    },\n    caption: {\n      color: mode22(\"gray.600\", \"gray.100\")(props)\n    },\n    tfoot: {\n      tr: {\n        \"&:last-of-type\": {\n          th: { borderBottomWidth: 0 }\n        }\n      }\n    }\n  };\n};\nvar variantStripe = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    th: {\n      color: mode22(\"gray.600\", \"gray.400\")(props),\n      borderBottom: \"1px\",\n      borderColor: mode22(`${c}.100`, `${c}.700`)(props),\n      ...numericStyles\n    },\n    td: {\n      borderBottom: \"1px\",\n      borderColor: mode22(`${c}.100`, `${c}.700`)(props),\n      ...numericStyles\n    },\n    caption: {\n      color: mode22(\"gray.600\", \"gray.100\")(props)\n    },\n    tbody: {\n      tr: {\n        \"&:nth-of-type(odd)\": {\n          \"th, td\": {\n            borderBottomWidth: \"1px\",\n            borderColor: mode22(`${c}.100`, `${c}.700`)(props)\n          },\n          td: {\n            background: mode22(`${c}.100`, `${c}.700`)(props)\n          }\n        }\n      }\n    },\n    tfoot: {\n      tr: {\n        \"&:last-of-type\": {\n          th: { borderBottomWidth: 0 }\n        }\n      }\n    }\n  };\n};\nvar variants9 = {\n  simple: variantSimple,\n  striped: variantStripe,\n  unstyled: {}\n};\nvar sizes19 = {\n  sm: {\n    th: {\n      px: \"4\",\n      py: \"1\",\n      lineHeight: \"4\",\n      fontSize: \"xs\"\n    },\n    td: {\n      px: \"4\",\n      py: \"2\",\n      fontSize: \"sm\",\n      lineHeight: \"4\"\n    },\n    caption: {\n      px: \"4\",\n      py: \"2\",\n      fontSize: \"xs\"\n    }\n  },\n  md: {\n    th: {\n      px: \"6\",\n      py: \"3\",\n      lineHeight: \"4\",\n      fontSize: \"xs\"\n    },\n    td: {\n      px: \"6\",\n      py: \"4\",\n      lineHeight: \"5\"\n    },\n    caption: {\n      px: \"6\",\n      py: \"2\",\n      fontSize: \"sm\"\n    }\n  },\n  lg: {\n    th: {\n      px: \"8\",\n      py: \"4\",\n      lineHeight: \"5\",\n      fontSize: \"sm\"\n    },\n    td: {\n      px: \"8\",\n      py: \"5\",\n      lineHeight: \"6\"\n    },\n    caption: {\n      px: \"6\",\n      py: \"2\",\n      fontSize: \"md\"\n    }\n  }\n};\nvar defaultProps21 = {\n  variant: \"simple\",\n  size: \"md\",\n  colorScheme: \"gray\"\n};\nvar table_default = {\n  parts: parts22.keys,\n  baseStyle: baseStyle36,\n  variants: variants9,\n  sizes: sizes19,\n  defaultProps: defaultProps21\n};\n\n// src/components/tabs.ts\nimport { tabsAnatomy as parts23 } from \"@chakra-ui/anatomy\";\nimport { getColor as getColor6, mode as mode23 } from \"@chakra-ui/theme-tools\";\nvar baseStyleRoot2 = (props) => {\n  const { orientation } = props;\n  return {\n    display: orientation === \"vertical\" ? \"flex\" : \"block\"\n  };\n};\nvar baseStyleTab = (props) => {\n  const { isFitted } = props;\n  return {\n    flex: isFitted ? 1 : void 0,\n    transitionProperty: \"common\",\n    transitionDuration: \"normal\",\n    _focusVisible: {\n      zIndex: 1,\n      boxShadow: \"outline\"\n    },\n    _disabled: {\n      cursor: \"not-allowed\",\n      opacity: 0.4\n    }\n  };\n};\nvar baseStyleTablist = (props) => {\n  const { align = \"start\", orientation } = props;\n  const alignments = {\n    end: \"flex-end\",\n    center: \"center\",\n    start: \"flex-start\"\n  };\n  return {\n    justifyContent: alignments[align],\n    flexDirection: orientation === \"vertical\" ? \"column\" : \"row\"\n  };\n};\nvar baseStyleTabpanel = {\n  p: 4\n};\nvar baseStyle37 = (props) => ({\n  root: baseStyleRoot2(props),\n  tab: baseStyleTab(props),\n  tablist: baseStyleTablist(props),\n  tabpanel: baseStyleTabpanel\n});\nvar sizes20 = {\n  sm: {\n    tab: {\n      py: 1,\n      px: 4,\n      fontSize: \"sm\"\n    }\n  },\n  md: {\n    tab: {\n      fontSize: \"md\",\n      py: 2,\n      px: 4\n    }\n  },\n  lg: {\n    tab: {\n      fontSize: \"lg\",\n      py: 3,\n      px: 4\n    }\n  }\n};\nvar variantLine = (props) => {\n  const { colorScheme: c, orientation } = props;\n  const isVertical = orientation === \"vertical\";\n  const borderProp = orientation === \"vertical\" ? \"borderStart\" : \"borderBottom\";\n  const marginProp = isVertical ? \"marginStart\" : \"marginBottom\";\n  return {\n    tablist: {\n      [borderProp]: \"2px solid\",\n      borderColor: \"inherit\"\n    },\n    tab: {\n      [borderProp]: \"2px solid\",\n      borderColor: \"transparent\",\n      [marginProp]: \"-2px\",\n      _selected: {\n        color: mode23(`${c}.600`, `${c}.300`)(props),\n        borderColor: \"currentColor\"\n      },\n      _active: {\n        bg: mode23(\"gray.200\", \"whiteAlpha.300\")(props)\n      },\n      _disabled: {\n        _active: { bg: \"none\" }\n      }\n    }\n  };\n};\nvar variantEnclosed = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    tab: {\n      borderTopRadius: \"md\",\n      border: \"1px solid\",\n      borderColor: \"transparent\",\n      mb: \"-1px\",\n      _selected: {\n        color: mode23(`${c}.600`, `${c}.300`)(props),\n        borderColor: \"inherit\",\n        borderBottomColor: mode23(`white`, `gray.800`)(props)\n      }\n    },\n    tablist: {\n      mb: \"-1px\",\n      borderBottom: \"1px solid\",\n      borderColor: \"inherit\"\n    }\n  };\n};\nvar variantEnclosedColored = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    tab: {\n      border: \"1px solid\",\n      borderColor: \"inherit\",\n      bg: mode23(`gray.50`, `whiteAlpha.50`)(props),\n      mb: \"-1px\",\n      _notLast: {\n        marginEnd: \"-1px\"\n      },\n      _selected: {\n        bg: mode23(\"#fff\", \"gray.800\")(props),\n        color: mode23(`${c}.600`, `${c}.300`)(props),\n        borderColor: \"inherit\",\n        borderTopColor: \"currentColor\",\n        borderBottomColor: \"transparent\"\n      }\n    },\n    tablist: {\n      mb: \"-1px\",\n      borderBottom: \"1px solid\",\n      borderColor: \"inherit\"\n    }\n  };\n};\nvar variantSoftRounded = (props) => {\n  const { colorScheme: c, theme: theme2 } = props;\n  return {\n    tab: {\n      borderRadius: \"full\",\n      fontWeight: \"semibold\",\n      color: \"gray.600\",\n      _selected: {\n        color: getColor6(theme2, `${c}.700`),\n        bg: getColor6(theme2, `${c}.100`)\n      }\n    }\n  };\n};\nvar variantSolidRounded = (props) => {\n  const { colorScheme: c } = props;\n  return {\n    tab: {\n      borderRadius: \"full\",\n      fontWeight: \"semibold\",\n      color: mode23(\"gray.600\", \"inherit\")(props),\n      _selected: {\n        color: mode23(`#fff`, \"gray.800\")(props),\n        bg: mode23(`${c}.600`, `${c}.300`)(props)\n      }\n    }\n  };\n};\nvar variantUnstyled3 = {};\nvar variants10 = {\n  line: variantLine,\n  enclosed: variantEnclosed,\n  \"enclosed-colored\": variantEnclosedColored,\n  \"soft-rounded\": variantSoftRounded,\n  \"solid-rounded\": variantSolidRounded,\n  unstyled: variantUnstyled3\n};\nvar defaultProps22 = {\n  size: \"md\",\n  variant: \"line\",\n  colorScheme: \"blue\"\n};\nvar tabs_default = {\n  parts: parts23.keys,\n  baseStyle: baseStyle37,\n  sizes: sizes20,\n  variants: variants10,\n  defaultProps: defaultProps22\n};\n\n// src/components/tag.ts\nimport { tagAnatomy as parts24 } from \"@chakra-ui/anatomy\";\nvar baseStyleContainer5 = {\n  fontWeight: \"medium\",\n  lineHeight: 1.2,\n  outline: 0,\n  borderRadius: \"md\",\n  _focusVisible: {\n    boxShadow: \"outline\"\n  }\n};\nvar baseStyleLabel4 = {\n  lineHeight: 1.2,\n  overflow: \"visible\"\n};\nvar baseStyleCloseButton4 = {\n  fontSize: \"18px\",\n  w: \"1.25rem\",\n  h: \"1.25rem\",\n  transitionProperty: \"common\",\n  transitionDuration: \"normal\",\n  borderRadius: \"full\",\n  marginStart: \"0.375rem\",\n  marginEnd: \"-1\",\n  opacity: 0.5,\n  _disabled: {\n    opacity: 0.4\n  },\n  _focusVisible: {\n    boxShadow: \"outline\",\n    bg: \"rgba(0, 0, 0, 0.14)\"\n  },\n  _hover: { opacity: 0.8 },\n  _active: { opacity: 1 }\n};\nvar baseStyle38 = {\n  container: baseStyleContainer5,\n  label: baseStyleLabel4,\n  closeButton: baseStyleCloseButton4\n};\nvar sizes21 = {\n  sm: {\n    container: {\n      minH: \"1.25rem\",\n      minW: \"1.25rem\",\n      fontSize: \"xs\",\n      px: 2\n    },\n    closeButton: {\n      marginEnd: \"-2px\",\n      marginStart: \"0.35rem\"\n    }\n  },\n  md: {\n    container: {\n      minH: \"1.5rem\",\n      minW: \"1.5rem\",\n      fontSize: \"sm\",\n      px: 2\n    }\n  },\n  lg: {\n    container: {\n      minH: 8,\n      minW: 8,\n      fontSize: \"md\",\n      px: 3\n    }\n  }\n};\nvar variants11 = {\n  subtle: (props) => ({\n    container: badge_default.variants.subtle(props)\n  }),\n  solid: (props) => ({\n    container: badge_default.variants.solid(props)\n  }),\n  outline: (props) => ({\n    container: badge_default.variants.outline(props)\n  })\n};\nvar defaultProps23 = {\n  size: \"md\",\n  variant: \"subtle\",\n  colorScheme: \"gray\"\n};\nvar tag_default = {\n  parts: parts24.keys,\n  variants: variants11,\n  baseStyle: baseStyle38,\n  sizes: sizes21,\n  defaultProps: defaultProps23\n};\n\n// src/components/textarea.ts\nvar baseStyle39 = {\n  ...input_default.baseStyle.field,\n  paddingY: \"8px\",\n  minHeight: \"80px\",\n  lineHeight: \"short\",\n  verticalAlign: \"top\"\n};\nvar variants12 = {\n  outline: (props) => input_default.variants.outline(props).field ?? {},\n  flushed: (props) => input_default.variants.flushed(props).field ?? {},\n  filled: (props) => input_default.variants.filled(props).field ?? {},\n  unstyled: input_default.variants.unstyled.field ?? {}\n};\nvar sizes22 = {\n  xs: input_default.sizes.xs.field ?? {},\n  sm: input_default.sizes.sm.field ?? {},\n  md: input_default.sizes.md.field ?? {},\n  lg: input_default.sizes.lg.field ?? {}\n};\nvar defaultProps24 = {\n  size: \"md\",\n  variant: \"outline\"\n};\nvar textarea_default = {\n  baseStyle: baseStyle39,\n  sizes: sizes22,\n  variants: variants12,\n  defaultProps: defaultProps24\n};\n\n// src/components/tooltip.ts\nimport { mode as mode24, cssVar as cssVar7 } from \"@chakra-ui/theme-tools\";\nvar $bg = cssVar7(\"tooltip-bg\");\nvar $arrowBg2 = cssVar7(\"popper-arrow-bg\");\nvar baseStyle40 = (props) => {\n  const bg = mode24(\"gray.700\", \"gray.300\")(props);\n  return {\n    [$bg.variable]: `colors.${bg}`,\n    px: \"8px\",\n    py: \"2px\",\n    bg: [$bg.reference],\n    [$arrowBg2.variable]: [$bg.reference],\n    color: mode24(\"whiteAlpha.900\", \"gray.900\")(props),\n    borderRadius: \"sm\",\n    fontWeight: \"medium\",\n    fontSize: \"sm\",\n    boxShadow: \"md\",\n    maxW: \"320px\",\n    zIndex: \"tooltip\"\n  };\n};\nvar tooltip_default = {\n  baseStyle: baseStyle40\n};\n\n// src/components/index.ts\nvar components = {\n  Accordion: accordion_default,\n  Alert: alert_default,\n  Avatar: avatar_default,\n  Badge: badge_default,\n  Breadcrumb: breadcrumb_default,\n  Button: button_default,\n  Checkbox: checkbox_default,\n  CloseButton: close_button_default,\n  Code: code_default,\n  Container: container_default,\n  Divider: divider_default,\n  Drawer: drawer_default,\n  Editable: editable_default,\n  Form: form_default,\n  FormError: form_error_default,\n  FormLabel: form_label_default,\n  Heading: heading_default,\n  Input: input_default,\n  Kbd: kbd_default,\n  Link: link_default,\n  List: list_default,\n  Menu: menu_default,\n  Modal: modal_default,\n  NumberInput: number_input_default,\n  PinInput: pin_input_default,\n  Popover: popover_default,\n  Progress: progress_default,\n  Radio: radio_default,\n  Select: select_default,\n  Skeleton: skeleton_default,\n  SkipLink: skip_link_default,\n  Slider: slider_default,\n  Spinner: spinner_default,\n  Stat: stat_default,\n  Switch: switch_default,\n  Table: table_default,\n  Tabs: tabs_default,\n  Tag: tag_default,\n  Textarea: textarea_default,\n  Tooltip: tooltip_default\n};\n\n// src/foundations/borders.ts\nvar borders = {\n  none: 0,\n  \"1px\": \"1px solid\",\n  \"2px\": \"2px solid\",\n  \"4px\": \"4px solid\",\n  \"8px\": \"8px solid\"\n};\nvar borders_default = borders;\n\n// src/foundations/breakpoints.ts\nvar breakpoints = {\n  base: \"0em\",\n  sm: \"30em\",\n  md: \"48em\",\n  lg: \"62em\",\n  xl: \"80em\",\n  \"2xl\": \"96em\"\n};\nvar breakpoints_default = breakpoints;\n\n// src/foundations/colors.ts\nvar colors = {\n  transparent: \"transparent\",\n  current: \"currentColor\",\n  black: \"#000000\",\n  white: \"#FFFFFF\",\n  whiteAlpha: {\n    50: \"rgba(255, 255, 255, 0.04)\",\n    100: \"rgba(255, 255, 255, 0.06)\",\n    200: \"rgba(255, 255, 255, 0.08)\",\n    300: \"rgba(255, 255, 255, 0.16)\",\n    400: \"rgba(255, 255, 255, 0.24)\",\n    500: \"rgba(255, 255, 255, 0.36)\",\n    600: \"rgba(255, 255, 255, 0.48)\",\n    700: \"rgba(255, 255, 255, 0.64)\",\n    800: \"rgba(255, 255, 255, 0.80)\",\n    900: \"rgba(255, 255, 255, 0.92)\"\n  },\n  blackAlpha: {\n    50: \"rgba(0, 0, 0, 0.04)\",\n    100: \"rgba(0, 0, 0, 0.06)\",\n    200: \"rgba(0, 0, 0, 0.08)\",\n    300: \"rgba(0, 0, 0, 0.16)\",\n    400: \"rgba(0, 0, 0, 0.24)\",\n    500: \"rgba(0, 0, 0, 0.36)\",\n    600: \"rgba(0, 0, 0, 0.48)\",\n    700: \"rgba(0, 0, 0, 0.64)\",\n    800: \"rgba(0, 0, 0, 0.80)\",\n    900: \"rgba(0, 0, 0, 0.92)\"\n  },\n  gray: {\n    50: \"#F7FAFC\",\n    100: \"#EDF2F7\",\n    200: \"#E2E8F0\",\n    300: \"#CBD5E0\",\n    400: \"#A0AEC0\",\n    500: \"#718096\",\n    600: \"#4A5568\",\n    700: \"#2D3748\",\n    800: \"#1A202C\",\n    900: \"#171923\"\n  },\n  red: {\n    50: \"#FFF5F5\",\n    100: \"#FED7D7\",\n    200: \"#FEB2B2\",\n    300: \"#FC8181\",\n    400: \"#F56565\",\n    500: \"#E53E3E\",\n    600: \"#C53030\",\n    700: \"#9B2C2C\",\n    800: \"#822727\",\n    900: \"#63171B\"\n  },\n  orange: {\n    50: \"#FFFAF0\",\n    100: \"#FEEBC8\",\n    200: \"#FBD38D\",\n    300: \"#F6AD55\",\n    400: \"#ED8936\",\n    500: \"#DD6B20\",\n    600: \"#C05621\",\n    700: \"#9C4221\",\n    800: \"#7B341E\",\n    900: \"#652B19\"\n  },\n  yellow: {\n    50: \"#FFFFF0\",\n    100: \"#FEFCBF\",\n    200: \"#FAF089\",\n    300: \"#F6E05E\",\n    400: \"#ECC94B\",\n    500: \"#D69E2E\",\n    600: \"#B7791F\",\n    700: \"#975A16\",\n    800: \"#744210\",\n    900: \"#5F370E\"\n  },\n  green: {\n    50: \"#F0FFF4\",\n    100: \"#C6F6D5\",\n    200: \"#9AE6B4\",\n    300: \"#68D391\",\n    400: \"#48BB78\",\n    500: \"#38A169\",\n    600: \"#2F855A\",\n    700: \"#276749\",\n    800: \"#22543D\",\n    900: \"#1C4532\"\n  },\n  teal: {\n    50: \"#E6FFFA\",\n    100: \"#B2F5EA\",\n    200: \"#81E6D9\",\n    300: \"#4FD1C5\",\n    400: \"#38B2AC\",\n    500: \"#319795\",\n    600: \"#2C7A7B\",\n    700: \"#285E61\",\n    800: \"#234E52\",\n    900: \"#1D4044\"\n  },\n  blue: {\n    50: \"#ebf8ff\",\n    100: \"#bee3f8\",\n    200: \"#90cdf4\",\n    300: \"#63b3ed\",\n    400: \"#4299e1\",\n    500: \"#3182ce\",\n    600: \"#2b6cb0\",\n    700: \"#2c5282\",\n    800: \"#2a4365\",\n    900: \"#1A365D\"\n  },\n  cyan: {\n    50: \"#EDFDFD\",\n    100: \"#C4F1F9\",\n    200: \"#9DECF9\",\n    300: \"#76E4F7\",\n    400: \"#0BC5EA\",\n    500: \"#00B5D8\",\n    600: \"#00A3C4\",\n    700: \"#0987A0\",\n    800: \"#086F83\",\n    900: \"#065666\"\n  },\n  purple: {\n    50: \"#FAF5FF\",\n    100: \"#E9D8FD\",\n    200: \"#D6BCFA\",\n    300: \"#B794F4\",\n    400: \"#9F7AEA\",\n    500: \"#805AD5\",\n    600: \"#6B46C1\",\n    700: \"#553C9A\",\n    800: \"#44337A\",\n    900: \"#322659\"\n  },\n  pink: {\n    50: \"#FFF5F7\",\n    100: \"#FED7E2\",\n    200: \"#FBB6CE\",\n    300: \"#F687B3\",\n    400: \"#ED64A6\",\n    500: \"#D53F8C\",\n    600: \"#B83280\",\n    700: \"#97266D\",\n    800: \"#702459\",\n    900: \"#521B41\"\n  },\n  linkedin: {\n    50: \"#E8F4F9\",\n    100: \"#CFEDFB\",\n    200: \"#9BDAF3\",\n    300: \"#68C7EC\",\n    400: \"#34B3E4\",\n    500: \"#00A0DC\",\n    600: \"#008CC9\",\n    700: \"#0077B5\",\n    800: \"#005E93\",\n    900: \"#004471\"\n  },\n  facebook: {\n    50: \"#E8F4F9\",\n    100: \"#D9DEE9\",\n    200: \"#B7C2DA\",\n    300: \"#6482C0\",\n    400: \"#4267B2\",\n    500: \"#385898\",\n    600: \"#314E89\",\n    700: \"#29487D\",\n    800: \"#223B67\",\n    900: \"#1E355B\"\n  },\n  messenger: {\n    50: \"#D0E6FF\",\n    100: \"#B9DAFF\",\n    200: \"#A2CDFF\",\n    300: \"#7AB8FF\",\n    400: \"#2E90FF\",\n    500: \"#0078FF\",\n    600: \"#0063D1\",\n    700: \"#0052AC\",\n    800: \"#003C7E\",\n    900: \"#002C5C\"\n  },\n  whatsapp: {\n    50: \"#dffeec\",\n    100: \"#b9f5d0\",\n    200: \"#90edb3\",\n    300: \"#65e495\",\n    400: \"#3cdd78\",\n    500: \"#22c35e\",\n    600: \"#179848\",\n    700: \"#0c6c33\",\n    800: \"#01421c\",\n    900: \"#001803\"\n  },\n  twitter: {\n    50: \"#E5F4FD\",\n    100: \"#C8E9FB\",\n    200: \"#A8DCFA\",\n    300: \"#83CDF7\",\n    400: \"#57BBF5\",\n    500: \"#1DA1F2\",\n    600: \"#1A94DA\",\n    700: \"#1681BF\",\n    800: \"#136B9E\",\n    900: \"#0D4D71\"\n  },\n  telegram: {\n    50: \"#E3F2F9\",\n    100: \"#C5E4F3\",\n    200: \"#A2D4EC\",\n    300: \"#7AC1E4\",\n    400: \"#47A9DA\",\n    500: \"#0088CC\",\n    600: \"#007AB8\",\n    700: \"#006BA1\",\n    800: \"#005885\",\n    900: \"#003F5E\"\n  }\n};\nvar colors_default = colors;\n\n// src/foundations/radius.ts\nvar radii = {\n  none: \"0\",\n  sm: \"0.125rem\",\n  base: \"0.25rem\",\n  md: \"0.375rem\",\n  lg: \"0.5rem\",\n  xl: \"0.75rem\",\n  \"2xl\": \"1rem\",\n  \"3xl\": \"1.5rem\",\n  full: \"9999px\"\n};\nvar radius_default = radii;\n\n// src/foundations/shadows.ts\nvar shadows = {\n  xs: \"0 0 0 1px rgba(0, 0, 0, 0.05)\",\n  sm: \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n  base: \"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\",\n  md: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n  lg: \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\",\n  xl: \"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)\",\n  \"2xl\": \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n  outline: \"0 0 0 3px rgba(66, 153, 225, 0.6)\",\n  inner: \"inset 0 2px 4px 0 rgba(0,0,0,0.06)\",\n  none: \"none\",\n  \"dark-lg\": \"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px\"\n};\nvar shadows_default = shadows;\n\n// src/foundations/transition.ts\nvar transitionProperty = {\n  common: \"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform\",\n  colors: \"background-color, border-color, color, fill, stroke\",\n  dimensions: \"width, height\",\n  position: \"left, right, top, bottom\",\n  background: \"background-color, background-image, background-position\"\n};\nvar transitionTimingFunction = {\n  \"ease-in\": \"cubic-bezier(0.4, 0, 1, 1)\",\n  \"ease-out\": \"cubic-bezier(0, 0, 0.2, 1)\",\n  \"ease-in-out\": \"cubic-bezier(0.4, 0, 0.2, 1)\"\n};\nvar transitionDuration = {\n  \"ultra-fast\": \"50ms\",\n  faster: \"100ms\",\n  fast: \"150ms\",\n  normal: \"200ms\",\n  slow: \"300ms\",\n  slower: \"400ms\",\n  \"ultra-slow\": \"500ms\"\n};\nvar transition = {\n  property: transitionProperty,\n  easing: transitionTimingFunction,\n  duration: transitionDuration\n};\nvar transition_default = transition;\n\n// src/foundations/z-index.ts\nvar zIndices = {\n  hide: -1,\n  auto: \"auto\",\n  base: 0,\n  docked: 10,\n  dropdown: 1e3,\n  sticky: 1100,\n  banner: 1200,\n  overlay: 1300,\n  modal: 1400,\n  popover: 1500,\n  skipLink: 1600,\n  toast: 1700,\n  tooltip: 1800\n};\nvar z_index_default = zIndices;\n\n// src/foundations/blur.ts\nvar blur = {\n  none: 0,\n  sm: \"4px\",\n  base: \"8px\",\n  md: \"12px\",\n  lg: \"16px\",\n  xl: \"24px\",\n  \"2xl\": \"40px\",\n  \"3xl\": \"64px\"\n};\nvar blur_default = blur;\n\n// src/foundations/index.ts\nvar foundations = {\n  breakpoints: breakpoints_default,\n  zIndices: z_index_default,\n  radii: radius_default,\n  blur: blur_default,\n  colors: colors_default,\n  ...typography_default,\n  sizes: sizes_default,\n  shadows: shadows_default,\n  space: spacing,\n  borders: borders_default,\n  transition: transition_default\n};\n\n// src/semantic-tokens.ts\nvar semanticTokens = {\n  colors: {\n    \"chakra-body-text\": { _light: \"gray.800\", _dark: \"whiteAlpha.900\" },\n    \"chakra-body-bg\": { _light: \"white\", _dark: \"gray.800\" },\n    \"chakra-border-color\": { _light: \"gray.200\", _dark: \"whiteAlpha.300\" },\n    \"chakra-placeholder-color\": { _light: \"gray.500\", _dark: \"whiteAlpha.400\" }\n  }\n};\n\n// src/styles.ts\nvar styles = {\n  global: {\n    body: {\n      fontFamily: \"body\",\n      color: \"chakra-body-text\",\n      bg: \"chakra-body-bg\",\n      transitionProperty: \"background-color\",\n      transitionDuration: \"normal\",\n      lineHeight: \"base\"\n    },\n    \"*::placeholder\": {\n      color: \"chakra-placeholder-color\"\n    },\n    \"*, *::before, &::after\": {\n      borderColor: \"chakra-border-color\",\n      wordWrap: \"break-word\"\n    }\n  }\n};\n\n// src/utils.ts\nimport { isObject } from \"@chakra-ui/utils\";\nvar requiredChakraThemeKeys = [\n  \"borders\",\n  \"breakpoints\",\n  \"colors\",\n  \"components\",\n  \"config\",\n  \"direction\",\n  \"fonts\",\n  \"fontSizes\",\n  \"fontWeights\",\n  \"letterSpacings\",\n  \"lineHeights\",\n  \"radii\",\n  \"shadows\",\n  \"sizes\",\n  \"space\",\n  \"styles\",\n  \"transition\",\n  \"zIndices\"\n];\nfunction isChakraTheme(unit) {\n  if (!isObject(unit)) {\n    return false;\n  }\n  return requiredChakraThemeKeys.every((propertyName) => Object.prototype.hasOwnProperty.call(unit, propertyName));\n}\n\n// src/index.ts\nvar direction = \"ltr\";\nvar config = {\n  useSystemColorMode: false,\n  initialColorMode: \"light\",\n  cssVarPrefix: \"chakra\"\n};\nvar theme = {\n  semanticTokens,\n  direction,\n  ...foundations,\n  components,\n  styles,\n  config\n};\nvar src_default = theme;\nexport {\n  src_default as default,\n  isChakraTheme,\n  requiredChakraThemeKeys,\n  theme\n};\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/alert.tsx\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useMultiStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/utils\";\n\n// src/alert-context.ts\nimport { createContext } from \"@chakra-ui/react-utils\";\n\n// src/icons.tsx\nimport { Icon } from \"@chakra-ui/icon\";\nvar CheckIcon = (props) => /* @__PURE__ */ React.createElement(Icon, {\n  viewBox: \"0 0 24 24\",\n  ...props\n}, /* @__PURE__ */ React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z\"\n}));\nvar InfoIcon = (props) => /* @__PURE__ */ React.createElement(Icon, {\n  viewBox: \"0 0 24 24\",\n  ...props\n}, /* @__PURE__ */ React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z\"\n}));\nvar WarningIcon = (props) => /* @__PURE__ */ React.createElement(Icon, {\n  viewBox: \"0 0 24 24\",\n  ...props\n}, /* @__PURE__ */ React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z\"\n}));\n\n// src/alert-context.ts\nimport { Spinner } from \"@chakra-ui/spinner\";\nvar [AlertProvider, useAlertContext] = createContext({\n  name: \"AlertContext\",\n  errorMessage: \"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`\"\n});\nvar [AlertStylesProvider, useAlertStyles] = createContext({\n  name: `AlertStylesContext`,\n  errorMessage: `useAlertStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Alert />\" `\n});\nvar STATUSES = {\n  info: { icon: InfoIcon, colorScheme: \"blue\" },\n  warning: { icon: WarningIcon, colorScheme: \"orange\" },\n  success: { icon: CheckIcon, colorScheme: \"green\" },\n  error: { icon: WarningIcon, colorScheme: \"red\" },\n  loading: { icon: Spinner, colorScheme: \"blue\" }\n};\nfunction getStatusColorScheme(status) {\n  return STATUSES[status].colorScheme;\n}\nfunction getStatusIcon(status) {\n  return STATUSES[status].icon;\n}\n\n// src/alert.tsx\nvar Alert = forwardRef(function Alert2(props, ref) {\n  const { status = \"info\", addRole = true, ...rest } = omitThemingProps(props);\n  const colorScheme = props.colorScheme ?? getStatusColorScheme(status);\n  const styles = useMultiStyleConfig(\"Alert\", { ...props, colorScheme });\n  const alertStyles = {\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    position: \"relative\",\n    overflow: \"hidden\",\n    ...styles.container\n  };\n  return /* @__PURE__ */ React.createElement(AlertProvider, {\n    value: { status }\n  }, /* @__PURE__ */ React.createElement(AlertStylesProvider, {\n    value: styles\n  }, /* @__PURE__ */ React.createElement(chakra.div, {\n    role: addRole ? \"alert\" : void 0,\n    ref,\n    ...rest,\n    className: cx(\"chakra-alert\", props.className),\n    __css: alertStyles\n  })));\n});\n\n// src/alert-description.tsx\nimport {\n  chakra as chakra2,\n  forwardRef as forwardRef2\n} from \"@chakra-ui/system\";\nimport { cx as cx2 } from \"@chakra-ui/utils\";\nvar AlertDescription = forwardRef2(function AlertDescription2(props, ref) {\n  const styles = useAlertStyles();\n  const descriptionStyles = {\n    display: \"inline\",\n    ...styles.description\n  };\n  return /* @__PURE__ */ React.createElement(chakra2.div, {\n    ref,\n    ...props,\n    className: cx2(\"chakra-alert__desc\", props.className),\n    __css: descriptionStyles\n  });\n});\n\n// src/alert-icon.tsx\nimport { chakra as chakra3 } from \"@chakra-ui/system\";\nimport { cx as cx3 } from \"@chakra-ui/utils\";\nfunction AlertIcon(props) {\n  const { status } = useAlertContext();\n  const BaseIcon = getStatusIcon(status);\n  const styles = useAlertStyles();\n  const css = status === \"loading\" ? styles.spinner : styles.icon;\n  return /* @__PURE__ */ React.createElement(chakra3.span, {\n    display: \"inherit\",\n    ...props,\n    className: cx3(\"chakra-alert__icon\", props.className),\n    __css: css\n  }, props.children || /* @__PURE__ */ React.createElement(BaseIcon, {\n    h: \"100%\",\n    w: \"100%\"\n  }));\n}\n\n// src/alert-title.tsx\nimport { chakra as chakra4, forwardRef as forwardRef3 } from \"@chakra-ui/system\";\nimport { cx as cx4 } from \"@chakra-ui/utils\";\nvar AlertTitle = forwardRef3(function AlertTitle2(props, ref) {\n  const styles = useAlertStyles();\n  return /* @__PURE__ */ React.createElement(chakra4.div, {\n    ref,\n    ...props,\n    className: cx4(\"chakra-alert__title\", props.className),\n    __css: styles.title\n  });\n});\nexport {\n  Alert,\n  AlertDescription,\n  AlertIcon,\n  AlertTitle,\n  useAlertStyles\n};\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    var isMounted = useRef(false);\n    useIsomorphicLayoutEffect(function () {\n        isMounted.current = true;\n        return function () {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import { __values } from 'tslib';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useId } from '../../utils/use-id.mjs';\n\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useId();\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            var e_1, _a;\n            presenceChildren.set(childId, true);\n            try {\n                for (var _b = __values(presenceChildren.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var isComplete = _c.value;\n                    if (!isComplete)\n                        return; // can stop searching when any is incomplete\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete();\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __read, __spreadArray } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { env } from '../../utils/process.mjs';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\n\nvar getChildKey = function (child) { return child.key || \"\"; };\nfunction updateChildLookup(children, allChildren) {\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var _d = __read(useForceUpdate(), 1), forceRender = _d[0];\n    var forceRenderLayoutGroup = useContext(LayoutGroupContext).forceRender;\n    if (forceRenderLayoutGroup)\n        forceRender = forceRenderLayoutGroup;\n    var isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    var childrenToRender = filteredChildren;\n    var exiting = new Set();\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    var isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(function () {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(function () {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exiting.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = __spreadArray([], __read(childrenToRender), false);\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                if (isMounted.current === false)\n                    return;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    if (env !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport sync from 'framesync';\nimport { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\n\nfunction useForceUpdate() {\n    var isMounted = useIsMounted();\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    var forceRender = useCallback(function () {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    var deferredForceRender = useCallback(function () { return sync.postRender(forceRender); }, [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/use-toast.tsx\nimport { useChakra } from \"@chakra-ui/system\";\n\n// src/toast.tsx\nimport {\n  Alert,\n  AlertDescription,\n  AlertIcon,\n  AlertTitle\n} from \"@chakra-ui/alert\";\nimport { chakra } from \"@chakra-ui/system\";\nimport { CloseButton } from \"@chakra-ui/close-button\";\nimport { isFunction, runIfFn } from \"@chakra-ui/utils\";\n\n// src/toast.placement.ts\nfunction getToastPlacement(position, dir) {\n  const computedPosition = position ?? \"bottom\";\n  const logicals = {\n    \"top-start\": { ltr: \"top-left\", rtl: \"top-right\" },\n    \"top-end\": { ltr: \"top-right\", rtl: \"top-left\" },\n    \"bottom-start\": { ltr: \"bottom-left\", rtl: \"bottom-right\" },\n    \"bottom-end\": { ltr: \"bottom-right\", rtl: \"bottom-left\" }\n  };\n  const logical = logicals[computedPosition];\n  return (logical == null ? void 0 : logical[dir]) ?? computedPosition;\n}\n\n// src/toast.utils.ts\nfunction findToast(toasts, id) {\n  const position = getToastPosition(toasts, id);\n  const index = position ? toasts[position].findIndex((toast) => toast.id === id) : -1;\n  return {\n    position,\n    index\n  };\n}\nvar getToastPosition = (toasts, id) => {\n  var _a;\n  return (_a = Object.values(toasts).flat().find((toast) => toast.id === id)) == null ? void 0 : _a.position;\n};\nfunction getToastStyle(position) {\n  const isRighty = position.includes(\"right\");\n  const isLefty = position.includes(\"left\");\n  let alignItems = \"center\";\n  if (isRighty)\n    alignItems = \"flex-end\";\n  if (isLefty)\n    alignItems = \"flex-start\";\n  return {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems\n  };\n}\nfunction getToastListStyle(position) {\n  const isTopOrBottom = position === \"top\" || position === \"bottom\";\n  const margin = isTopOrBottom ? \"0 auto\" : void 0;\n  const top = position.includes(\"top\") ? \"env(safe-area-inset-top, 0px)\" : void 0;\n  const bottom = position.includes(\"bottom\") ? \"env(safe-area-inset-bottom, 0px)\" : void 0;\n  const right = !position.includes(\"left\") ? \"env(safe-area-inset-right, 0px)\" : void 0;\n  const left = !position.includes(\"right\") ? \"env(safe-area-inset-left, 0px)\" : void 0;\n  return {\n    position: \"fixed\",\n    zIndex: 5500,\n    pointerEvents: \"none\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin,\n    top,\n    bottom,\n    right,\n    left\n  };\n}\n\n// src/toast.store.ts\nvar initialState = {\n  top: [],\n  \"top-left\": [],\n  \"top-right\": [],\n  \"bottom-left\": [],\n  bottom: [],\n  \"bottom-right\": []\n};\nvar toastStore = createStore(initialState);\nfunction createStore(initialState2) {\n  let state = initialState2;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (setStateFn) => {\n    state = setStateFn(state);\n    listeners.forEach((l) => l());\n  };\n  return {\n    getState: () => state,\n    subscribe: (listener) => {\n      listeners.add(listener);\n      return () => {\n        setState(() => initialState2);\n        listeners.delete(listener);\n      };\n    },\n    removeToast: (id, position) => {\n      setState((prevState) => ({\n        ...prevState,\n        [position]: prevState[position].filter((toast) => toast.id != id)\n      }));\n    },\n    notify: (message, options) => {\n      const toast = createToast(message, options);\n      const { position, id } = toast;\n      setState((prevToasts) => {\n        const isTop = position.includes(\"top\");\n        const toasts = isTop ? [toast, ...prevToasts[position] ?? []] : [...prevToasts[position] ?? [], toast];\n        return {\n          ...prevToasts,\n          [position]: toasts\n        };\n      });\n      return id;\n    },\n    update: (id, options) => {\n      if (!id)\n        return;\n      setState((prevState) => {\n        const nextState = { ...prevState };\n        const { position, index } = findToast(nextState, id);\n        if (position && index !== -1) {\n          nextState[position][index] = {\n            ...nextState[position][index],\n            ...options,\n            message: createRenderToast(options)\n          };\n        }\n        return nextState;\n      });\n    },\n    closeAll: ({ positions } = {}) => {\n      setState((prev) => {\n        const allPositions = [\n          \"bottom\",\n          \"bottom-right\",\n          \"bottom-left\",\n          \"top\",\n          \"top-left\",\n          \"top-right\"\n        ];\n        const positionsToClose = positions ?? allPositions;\n        return positionsToClose.reduce((acc, position) => {\n          acc[position] = prev[position].map((toast) => ({\n            ...toast,\n            requestClose: true\n          }));\n          return acc;\n        }, { ...prev });\n      });\n    },\n    close: (id) => {\n      setState((prevState) => {\n        const position = getToastPosition(prevState, id);\n        if (!position)\n          return prevState;\n        return {\n          ...prevState,\n          [position]: prevState[position].map((toast) => {\n            if (toast.id == id) {\n              return {\n                ...toast,\n                requestClose: true\n              };\n            }\n            return toast;\n          })\n        };\n      });\n    },\n    isActive: (id) => Boolean(findToast(toastStore.getState(), id).position)\n  };\n}\nvar counter = 0;\nfunction createToast(message, options = {}) {\n  counter += 1;\n  const id = options.id ?? counter;\n  const position = options.position ?? \"bottom\";\n  return {\n    id,\n    message,\n    position,\n    duration: options.duration,\n    onCloseComplete: options.onCloseComplete,\n    onRequestRemove: () => toastStore.removeToast(String(id), position),\n    status: options.status,\n    requestClose: false,\n    containerStyle: options.containerStyle\n  };\n}\n\n// src/toast.tsx\nvar Toast = (props) => {\n  const {\n    status,\n    variant = \"solid\",\n    id,\n    title,\n    isClosable,\n    onClose,\n    description,\n    icon\n  } = props;\n  const ids = id ? {\n    root: `toast-${id}`,\n    title: `toast-${id}-title`,\n    description: `toast-${id}-description`\n  } : void 0;\n  return /* @__PURE__ */ React.createElement(Alert, {\n    addRole: false,\n    status,\n    variant,\n    id: ids == null ? void 0 : ids.root,\n    alignItems: \"start\",\n    borderRadius: \"md\",\n    boxShadow: \"lg\",\n    paddingEnd: 8,\n    textAlign: \"start\",\n    width: \"auto\"\n  }, /* @__PURE__ */ React.createElement(AlertIcon, null, icon), /* @__PURE__ */ React.createElement(chakra.div, {\n    flex: \"1\",\n    maxWidth: \"100%\"\n  }, title && /* @__PURE__ */ React.createElement(AlertTitle, {\n    id: ids == null ? void 0 : ids.title\n  }, title), description && /* @__PURE__ */ React.createElement(AlertDescription, {\n    id: ids == null ? void 0 : ids.description,\n    display: \"block\"\n  }, description)), isClosable && /* @__PURE__ */ React.createElement(CloseButton, {\n    size: \"sm\",\n    onClick: onClose,\n    position: \"absolute\",\n    insetEnd: 1,\n    top: 1\n  }));\n};\nfunction createRenderToast(options = {}) {\n  const { render, toastComponent: ToastComponent2 = Toast } = options;\n  const renderToast = (props) => {\n    if (isFunction(render)) {\n      return render(props);\n    }\n    return /* @__PURE__ */ React.createElement(ToastComponent2, {\n      ...props,\n      ...options\n    });\n  };\n  return renderToast;\n}\nfunction createToastFn(dir, defaultOptions) {\n  const normalizeToastOptions = (options) => ({\n    ...defaultOptions,\n    ...options,\n    position: getToastPlacement((options == null ? void 0 : options.position) ?? (defaultOptions == null ? void 0 : defaultOptions.position), dir)\n  });\n  const toast = (options) => {\n    const normalizedToastOptions = normalizeToastOptions(options);\n    const Message = createRenderToast(normalizedToastOptions);\n    return toastStore.notify(Message, normalizedToastOptions);\n  };\n  toast.update = (id, options) => {\n    toastStore.update(id, normalizeToastOptions(options));\n  };\n  toast.promise = (promise, options) => {\n    const id = toast({\n      ...options.loading,\n      status: \"loading\",\n      duration: null\n    });\n    promise.then((data) => toast.update(id, {\n      status: \"success\",\n      duration: 5e3,\n      ...runIfFn(options.success, data)\n    })).catch((error) => toast.update(id, {\n      status: \"error\",\n      duration: 5e3,\n      ...runIfFn(options.error, error)\n    }));\n  };\n  toast.closeAll = toastStore.closeAll;\n  toast.close = toastStore.close;\n  toast.isActive = toastStore.isActive;\n  return toast;\n}\n\n// src/use-toast.tsx\nimport { useMemo } from \"react\";\nfunction useToast(defaultOptions) {\n  const { theme } = useChakra();\n  return useMemo(() => createToastFn(theme.direction, defaultOptions), [defaultOptions, theme.direction]);\n}\n\n// src/toast.provider.tsx\nimport { objectKeys } from \"@chakra-ui/utils\";\nimport { AnimatePresence } from \"framer-motion\";\nimport { Portal } from \"@chakra-ui/portal\";\n\n// src/toast.component.tsx\nimport { useTimeout, useUpdateEffect } from \"@chakra-ui/hooks\";\nimport { __DEV__, runIfFn as runIfFn2 } from \"@chakra-ui/utils\";\nimport { motion, useIsPresent } from \"framer-motion\";\nimport { chakra as chakra2 } from \"@chakra-ui/system\";\nimport { memo, useEffect, useMemo as useMemo2, useState } from \"react\";\nvar toastMotionVariants = {\n  initial: (props) => {\n    const { position } = props;\n    const dir = [\"top\", \"bottom\"].includes(position) ? \"y\" : \"x\";\n    let factor = [\"top-right\", \"bottom-right\"].includes(position) ? 1 : -1;\n    if (position === \"bottom\")\n      factor = 1;\n    return {\n      opacity: 0,\n      [dir]: factor * 24\n    };\n  },\n  animate: {\n    opacity: 1,\n    y: 0,\n    x: 0,\n    scale: 1,\n    transition: {\n      duration: 0.4,\n      ease: [0.4, 0, 0.2, 1]\n    }\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.85,\n    transition: {\n      duration: 0.2,\n      ease: [0.4, 0, 1, 1]\n    }\n  }\n};\nvar ToastComponent = memo((props) => {\n  const {\n    id,\n    message,\n    onCloseComplete,\n    onRequestRemove,\n    requestClose = false,\n    position = \"bottom\",\n    duration = 5e3,\n    containerStyle,\n    motionVariants = toastMotionVariants,\n    toastSpacing = \"0.5rem\"\n  } = props;\n  const [delay, setDelay] = useState(duration);\n  const isPresent = useIsPresent();\n  useUpdateEffect(() => {\n    if (!isPresent) {\n      onCloseComplete == null ? void 0 : onCloseComplete();\n    }\n  }, [isPresent]);\n  useUpdateEffect(() => {\n    setDelay(duration);\n  }, [duration]);\n  const onMouseEnter = () => setDelay(null);\n  const onMouseLeave = () => setDelay(duration);\n  const close = () => {\n    if (isPresent)\n      onRequestRemove();\n  };\n  useEffect(() => {\n    if (isPresent && requestClose) {\n      onRequestRemove();\n    }\n  }, [isPresent, requestClose, onRequestRemove]);\n  useTimeout(close, delay);\n  const containerStyles = useMemo2(() => ({\n    pointerEvents: \"auto\",\n    maxWidth: 560,\n    minWidth: 300,\n    margin: toastSpacing,\n    ...containerStyle\n  }), [containerStyle, toastSpacing]);\n  const toastStyle = useMemo2(() => getToastStyle(position), [position]);\n  return /* @__PURE__ */ React.createElement(motion.li, {\n    layout: true,\n    className: \"chakra-toast\",\n    variants: motionVariants,\n    initial: \"initial\",\n    animate: \"animate\",\n    exit: \"exit\",\n    onHoverStart: onMouseEnter,\n    onHoverEnd: onMouseLeave,\n    custom: { position },\n    style: toastStyle\n  }, /* @__PURE__ */ React.createElement(chakra2.div, {\n    role: \"status\",\n    \"aria-atomic\": \"true\",\n    className: \"chakra-toast__inner\",\n    __css: containerStyles\n  }, runIfFn2(message, { id, onClose: close })));\n});\nif (__DEV__) {\n  ToastComponent.displayName = \"ToastComponent\";\n}\n\n// src/toast.provider.tsx\nimport { useSyncExternalStore } from \"react\";\nvar ToastProvider = (props) => {\n  const state = useSyncExternalStore(toastStore.subscribe, toastStore.getState, toastStore.getState);\n  const {\n    children,\n    motionVariants,\n    component: Component = ToastComponent,\n    portalProps\n  } = props;\n  const toastList = objectKeys(state).map((position) => {\n    const toasts = state[position];\n    return /* @__PURE__ */ React.createElement(\"ul\", {\n      role: \"region\",\n      \"aria-live\": \"polite\",\n      key: position,\n      id: `chakra-toast-manager-${position}`,\n      style: getToastListStyle(position)\n    }, /* @__PURE__ */ React.createElement(AnimatePresence, {\n      initial: false\n    }, toasts.map((toast) => /* @__PURE__ */ React.createElement(Component, {\n      key: toast.id,\n      motionVariants,\n      ...toast\n    }))));\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, children, /* @__PURE__ */ React.createElement(Portal, {\n    ...portalProps\n  }, toastList));\n};\n\n// src/create-standalone-toast.tsx\nimport { noop } from \"@chakra-ui/utils\";\nimport {\n  ColorModeContext,\n  ThemeProvider\n} from \"@chakra-ui/system\";\nimport defaultTheme from \"@chakra-ui/theme\";\nvar defaults = {\n  duration: 5e3,\n  variant: \"solid\"\n};\nvar defaultStandaloneParam = {\n  theme: defaultTheme,\n  colorMode: \"light\",\n  toggleColorMode: noop,\n  setColorMode: noop,\n  defaultOptions: defaults\n};\nfunction createStandaloneToast({\n  theme = defaultStandaloneParam.theme,\n  colorMode = defaultStandaloneParam.colorMode,\n  toggleColorMode = defaultStandaloneParam.toggleColorMode,\n  setColorMode = defaultStandaloneParam.setColorMode,\n  defaultOptions = defaultStandaloneParam.defaultOptions,\n  motionVariants,\n  toastSpacing,\n  component\n} = defaultStandaloneParam) {\n  const colorModeContextValue = { colorMode, setColorMode, toggleColorMode };\n  const ToastContainer = () => /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme\n  }, /* @__PURE__ */ React.createElement(ColorModeContext.Provider, {\n    value: colorModeContextValue\n  }, /* @__PURE__ */ React.createElement(ToastProvider, {\n    defaultOptions,\n    motionVariants,\n    toastSpacing,\n    component\n  })));\n  return {\n    ToastContainer,\n    toast: createToastFn(theme.direction, defaultOptions)\n  };\n}\nexport {\n  Toast,\n  ToastProvider,\n  createRenderToast,\n  createStandaloneToast,\n  createToastFn,\n  defaultStandaloneParam,\n  getToastPlacement,\n  useToast\n};\n","// ../../react-shim.js\nimport React from \"react\";\n\n// src/index.ts\nexport * from \"@chakra-ui/accordion\";\nexport * from \"@chakra-ui/alert\";\nexport * from \"@chakra-ui/avatar\";\nexport * from \"@chakra-ui/breadcrumb\";\nexport * from \"@chakra-ui/button\";\nexport * from \"@chakra-ui/checkbox\";\nexport * from \"@chakra-ui/close-button\";\nexport * from \"@chakra-ui/control-box\";\nexport * from \"@chakra-ui/counter\";\nexport * from \"@chakra-ui/css-reset\";\nexport * from \"@chakra-ui/editable\";\nexport * from \"@chakra-ui/form-control\";\nexport * from \"@chakra-ui/hooks\";\nexport * from \"@chakra-ui/icon\";\nexport * from \"@chakra-ui/image\";\nexport * from \"@chakra-ui/input\";\nexport * from \"@chakra-ui/layout\";\nexport * from \"@chakra-ui/media-query\";\nexport * from \"@chakra-ui/menu\";\nexport * from \"@chakra-ui/modal\";\nexport * from \"@chakra-ui/number-input\";\nexport * from \"@chakra-ui/pin-input\";\nexport * from \"@chakra-ui/popover\";\nexport * from \"@chakra-ui/popper\";\nexport * from \"@chakra-ui/portal\";\nexport * from \"@chakra-ui/progress\";\nexport * from \"@chakra-ui/radio\";\nexport * from \"@chakra-ui/react-env\";\nexport * from \"@chakra-ui/select\";\nexport * from \"@chakra-ui/skeleton\";\nexport * from \"@chakra-ui/slider\";\nexport * from \"@chakra-ui/spinner\";\nexport * from \"@chakra-ui/stat\";\nexport * from \"@chakra-ui/switch\";\nexport * from \"@chakra-ui/system\";\nexport * from \"@chakra-ui/table\";\nexport * from \"@chakra-ui/tabs\";\nexport * from \"@chakra-ui/tag\";\nexport * from \"@chakra-ui/textarea\";\nexport * from \"@chakra-ui/theme\";\nexport * from \"@chakra-ui/toast\";\nexport * from \"@chakra-ui/tooltip\";\nexport * from \"@chakra-ui/transition\";\nexport * from \"@chakra-ui/visually-hidden\";\n\n// src/chakra-provider.tsx\nimport {\n  ChakraProvider as BaseChakraProvider\n} from \"@chakra-ui/provider\";\nimport { theme } from \"@chakra-ui/theme\";\nimport { ToastProvider } from \"@chakra-ui/toast\";\nfunction ChakraProvider({\n  children,\n  toastOptions,\n  ...restProps\n}) {\n  return /* @__PURE__ */ React.createElement(BaseChakraProvider, {\n    ...restProps\n  }, children, /* @__PURE__ */ React.createElement(ToastProvider, {\n    ...toastOptions\n  }));\n}\nChakraProvider.defaultProps = {\n  theme\n};\n\n// src/extend-theme.ts\nimport { theme as theme2, isChakraTheme } from \"@chakra-ui/theme\";\nimport {\n  isFunction,\n  mergeWith,\n  pipe\n} from \"@chakra-ui/utils\";\nfunction extendTheme(...extensions) {\n  let overrides = [...extensions];\n  let baseTheme = extensions[extensions.length - 1];\n  if (isChakraTheme(baseTheme) && overrides.length > 1) {\n    overrides = overrides.slice(0, overrides.length - 1);\n  } else {\n    baseTheme = theme2;\n  }\n  return pipe(...overrides.map((extension) => (prevTheme) => isFunction(extension) ? extension(prevTheme) : mergeThemeOverride(prevTheme, extension)))(baseTheme);\n}\nfunction mergeThemeOverride(...overrides) {\n  return mergeWith({}, ...overrides, mergeThemeCustomizer);\n}\nfunction mergeThemeCustomizer(source, override, key, object) {\n  if ((isFunction(source) || isFunction(override)) && Object.prototype.hasOwnProperty.call(object, key)) {\n    return (...args) => {\n      const sourceValue = isFunction(source) ? source(...args) : source;\n      const overrideValue = isFunction(override) ? override(...args) : override;\n      return mergeWith({}, sourceValue, overrideValue, mergeThemeCustomizer);\n    };\n  }\n  return void 0;\n}\n\n// src/theme-extensions/with-default-color-scheme.ts\nimport { isObject, fromEntries } from \"@chakra-ui/utils\";\nfunction withDefaultColorScheme({\n  colorScheme,\n  components\n}) {\n  return (theme3) => {\n    let names = Object.keys(theme3.components || {});\n    if (Array.isArray(components)) {\n      names = components;\n    } else if (isObject(components)) {\n      names = Object.keys(components);\n    }\n    return mergeThemeOverride(theme3, {\n      components: fromEntries(names.map((componentName) => {\n        const withColorScheme = {\n          defaultProps: {\n            colorScheme\n          }\n        };\n        return [componentName, withColorScheme];\n      }))\n    });\n  };\n}\n\n// src/theme-extensions/with-default-size.ts\nimport { isObject as isObject2, fromEntries as fromEntries2 } from \"@chakra-ui/utils\";\nfunction withDefaultSize({\n  size,\n  components\n}) {\n  return (theme3) => {\n    let names = Object.keys(theme3.components || {});\n    if (Array.isArray(components)) {\n      names = components;\n    } else if (isObject2(components)) {\n      names = Object.keys(components);\n    }\n    return mergeThemeOverride(theme3, {\n      components: fromEntries2(names.map((componentName) => {\n        const withSize = {\n          defaultProps: {\n            size\n          }\n        };\n        return [componentName, withSize];\n      }))\n    });\n  };\n}\n\n// src/theme-extensions/with-default-variant.ts\nimport { isObject as isObject3, fromEntries as fromEntries3 } from \"@chakra-ui/utils\";\nfunction withDefaultVariant({\n  variant,\n  components\n}) {\n  return (theme3) => {\n    let names = Object.keys(theme3.components || {});\n    if (Array.isArray(components)) {\n      names = components;\n    } else if (isObject3(components)) {\n      names = Object.keys(components);\n    }\n    return mergeThemeOverride(theme3, {\n      components: fromEntries3(names.map((componentName) => {\n        const withVariant = {\n          defaultProps: {\n            variant\n          }\n        };\n        return [componentName, withVariant];\n      }))\n    });\n  };\n}\n\n// src/theme-extensions/with-default-props.ts\nimport { pipe as pipe2 } from \"@chakra-ui/utils\";\nfunction withDefaultProps({\n  defaultProps: { colorScheme, variant, size },\n  components\n}) {\n  const identity = (t) => t;\n  const fns = [\n    colorScheme ? withDefaultColorScheme({ colorScheme, components }) : identity,\n    size ? withDefaultSize({ size, components }) : identity,\n    variant ? withDefaultVariant({ variant, components }) : identity\n  ];\n  return (theme3) => mergeThemeOverride(pipe2(...fns)(theme3));\n}\nexport {\n  ChakraProvider,\n  extendTheme,\n  mergeThemeOverride,\n  withDefaultColorScheme,\n  withDefaultProps,\n  withDefaultSize,\n  withDefaultVariant\n};\n","\"use strict\";\n/**\n * Returns a Promise that resolves to the value of window.ethereum if it is\n * set within the given timeout, or null.\n * The Promise will not reject, but an error will be thrown if invalid options\n * are provided.\n *\n * @param options - Options bag.\n * @param options.mustBeMetaMask - Whether to only look for MetaMask providers.\n * Default: false\n * @param options.silent - Whether to silence console errors. Does not affect\n * thrown errors. Default: false\n * @param options.timeout - Milliseconds to wait for 'ethereum#initialized' to\n * be dispatched. Default: 3000\n * @returns A Promise that resolves with the Provider if it is detected within\n * given timeout, otherwise null.\n */\nfunction detectEthereumProvider({ mustBeMetaMask = false, silent = false, timeout = 3000, } = {}) {\n    _validateInputs();\n    let handled = false;\n    return new Promise((resolve) => {\n        if (window.ethereum) {\n            handleEthereum();\n        }\n        else {\n            window.addEventListener('ethereum#initialized', handleEthereum, { once: true });\n            setTimeout(() => {\n                handleEthereum();\n            }, timeout);\n        }\n        function handleEthereum() {\n            if (handled) {\n                return;\n            }\n            handled = true;\n            window.removeEventListener('ethereum#initialized', handleEthereum);\n            const { ethereum } = window;\n            if (ethereum && (!mustBeMetaMask || ethereum.isMetaMask)) {\n                resolve(ethereum);\n            }\n            else {\n                const message = mustBeMetaMask && ethereum\n                    ? 'Non-MetaMask window.ethereum detected.'\n                    : 'Unable to detect window.ethereum.';\n                !silent && console.error('@metamask/detect-provider:', message);\n                resolve(null);\n            }\n        }\n    });\n    function _validateInputs() {\n        if (typeof mustBeMetaMask !== 'boolean') {\n            throw new Error(`@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.`);\n        }\n        if (typeof silent !== 'boolean') {\n            throw new Error(`@metamask/detect-provider: Expected option 'silent' to be a boolean.`);\n        }\n        if (typeof timeout !== 'number') {\n            throw new Error(`@metamask/detect-provider: Expected option 'timeout' to be a number.`);\n        }\n    }\n}\nmodule.exports = detectEthereumProvider;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVlBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNILFNBQVMsc0JBQXNCLENBQUMsRUFDOUIsY0FBYyxHQUFHLEtBQUssRUFDdEIsTUFBTSxHQUFHLEtBQUssRUFDZCxPQUFPLEdBQUcsSUFBSSxHQUNmLEdBQUcsRUFBRTtJQUVKLGVBQWUsRUFBRSxDQUFDO0lBRWxCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztJQUVwQixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO1lBRW5CLGNBQWMsRUFBRSxDQUFDO1NBRWxCO2FBQU07WUFFTCxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLHNCQUFzQixFQUN0QixjQUFjLEVBQ2QsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQ2YsQ0FBQztZQUVGLFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2QsY0FBYyxFQUFFLENBQUM7WUFDbkIsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ2I7UUFFRCxTQUFTLGNBQWM7WUFFckIsSUFBSSxPQUFPLEVBQUU7Z0JBQ1gsT0FBTzthQUNSO1lBQ0QsT0FBTyxHQUFHLElBQUksQ0FBQztZQUVmLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxzQkFBc0IsRUFBRSxjQUFjLENBQUMsQ0FBQztZQUVuRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsTUFBTSxDQUFDO1lBRTVCLElBQUksUUFBUSxJQUFJLENBQUMsQ0FBQyxjQUFjLElBQUksUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN4RCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDbkI7aUJBQU07Z0JBRUwsTUFBTSxPQUFPLEdBQUcsY0FBYyxJQUFJLFFBQVE7b0JBQ3hDLENBQUMsQ0FBQyx3Q0FBd0M7b0JBQzFDLENBQUMsQ0FBQyxtQ0FBbUMsQ0FBQztnQkFFeEMsQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyw0QkFBNEIsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDaEUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2Y7UUFDSCxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxTQUFTLGVBQWU7UUFDdEIsSUFBSSxPQUFPLGNBQWMsS0FBSyxTQUFTLEVBQUU7WUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyw4RUFBOEUsQ0FBQyxDQUFDO1NBQ2pHO1FBQ0QsSUFBSSxPQUFPLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxzRUFBc0UsQ0FBQyxDQUFDO1NBQ3pGO1FBQ0QsSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7WUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxzRUFBc0UsQ0FBQyxDQUFDO1NBQ3pGO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFsRkQsaUJBQVMsc0JBQXNCLENBQUMifQ==","import merge from 'lodash.merge';\nexport function configReducer(state, action) {\n    return merge({}, state, action);\n}\n//# sourceMappingURL=reducer.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useReducer } from 'react';\nimport pickBy from 'lodash.pickby';\nimport { DEFAULT_CONFIG } from '../../model/config/default';\nimport { ConfigContext } from './context';\nimport { configReducer } from './reducer';\n/**\n * We strip supplied config of undefined fields because it can easily break TS assumptions.\n *\n * Illustrative example:\n *\n * type FullConf = { something: string }\n * type PartConf = Partial<FullConf>\n *\n * const defaultConf: FullConf = { something: 'default' }\n * const suppliedConf: PartConf = { something: undefined }\n * const conf: FullConf = {...defaultConf, ...suppliedConf}\n * conf.something.toString() // OK according to TS, breaks on runtime.\n */\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nconst noUndefined = (x) => x !== undefined;\nexport function ConfigProvider({ config, children }) {\n    var _a;\n    const configWithDefaults = Object.assign(Object.assign(Object.assign({}, DEFAULT_CONFIG), pickBy(config, noUndefined)), { bufferGasLimitPercentage: undefined, gasLimitBufferPercentage: (_a = config.gasLimitBufferPercentage) !== null && _a !== void 0 ? _a : config.bufferGasLimitPercentage, notifications: Object.assign(Object.assign({}, DEFAULT_CONFIG.notifications), pickBy(config.notifications, noUndefined)) });\n    const [reducedConfig, dispatch] = useReducer(configReducer, configWithDefaults);\n    return _jsx(ConfigContext.Provider, { value: { config: reducedConfig, updateConfig: dispatch }, children: children });\n}\n//# sourceMappingURL=provider.js.map","import { createContext } from 'react';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport const BlockNumberContext = createContext(undefined);\n//# sourceMappingURL=context.js.map","/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function blockNumberReducer(state = {}, action) {\n    const current = state[action.chainId];\n    if (!current || action.blockNumber > current) {\n        return Object.assign(Object.assign({}, state), { [action.chainId]: action.blockNumber });\n    }\n    return state;\n}\n//# sourceMappingURL=reducer.js.map","import { useEffect, useState } from 'react';\n// modified from https://usehooks.com/useDebounce/\n/**\n * Debounce a value of type T.\n * It stores a single value but returns after debounced time unless a new value is assigned before the debounce time elapses, in which case the process restarts.\n * @param value variable to be debounced\n * @param delay debounce time - amount of time in ms.\n * @internal Intended for internal use - use it on your own risk\n * @returns debounced value\n *\n * @example\n * const [someValue, setValue] = useState(...)\n * const debouncedValue = useDebounce(value, 1000)\n */\nexport function useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    useEffect(() => {\n        // Update debounced value after delay\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n        // Cancel the timeout if value changes (also on delay change or unmount)\n        // This is how we prevent debounced value from updating if value is changed ...\n        // .. within the delay period. Timeout gets cleared and restarted.\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value, delay]);\n    return debouncedValue;\n}\n//# sourceMappingURL=useDebounce.js.map","export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n    if (provider && chainId !== undefined && isActive) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map","import { createContext, useContext } from 'react';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport const WindowContext = createContext({\n    isActive: true,\n});\n/**\n * @internal\n */\nexport function useWindow() {\n    return useContext(WindowContext);\n}\n//# sourceMappingURL=context.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useReducer } from 'react';\nimport { BlockNumberContext } from './context';\nimport { blockNumberReducer } from '../common/reducer';\nimport { useDebounce, useEthers } from '../../../hooks';\nimport { subscribeToNewBlock } from '../common/subscribeToNewBlock';\nimport { useWindow } from '../../window';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function BlockNumberProvider({ children }) {\n    const { library, chainId } = useEthers();\n    const [state, dispatch] = useReducer(blockNumberReducer, {});\n    const { isActive } = useWindow();\n    useEffect(() => subscribeToNewBlock(library, chainId, dispatch, isActive), [library, chainId, isActive]);\n    const debouncedState = useDebounce(state, 100);\n    const blockNumber = chainId !== undefined ? debouncedState[chainId] : undefined;\n    return _jsx(BlockNumberContext.Provider, { value: blockNumber, children: children });\n}\n//# sourceMappingURL=provider.js.map","import { createContext } from 'react';\nexport const BlockNumbersContext = createContext({});\n//# sourceMappingURL=context.js.map","/**\n * More strictly typed version of `Object.fromEntries`.\n * Constructs an object from key-value pairs.\n */\nexport function fromEntries(entries) {\n    return Object.fromEntries(entries);\n}\n//# sourceMappingURL=fromEntries.js.map","let hook;\nif (typeof window !== 'undefined') {\n    hook = window.__USEDAPP_DEVTOOLS_HOOK__;\n}\n// immediately notify devtools that the page is using it\nnotifyDevtools({ type: 'INIT' });\nexport function notifyDevtools(notification) {\n    if (!hook) {\n        return;\n    }\n    if (notification.type === 'INIT') {\n        hook.init();\n    }\n    else {\n        if (notification.type === 'MULTICALL_ERROR' || notification.type === 'GENERIC_ERROR') {\n            notification.error = getErrorMessage(notification.error);\n        }\n        hook.send(notification);\n    }\n}\nfunction getErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    else {\n        return '' + error;\n    }\n}\n//# sourceMappingURL=devtools.js.map","/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function callsReducer(state = [], action) {\n    if (action.type === 'ADD_CALLS') {\n        return [...state, ...action.calls.map((call) => (Object.assign(Object.assign({}, call), { address: call.address.toLowerCase() })))];\n    }\n    else if (action.type === 'UPDATE_CALLS') {\n        return state.map((call) => {\n            if (call.chainId !== action.chainId || !action.updatedCalls.includes(call)) {\n                return call;\n            }\n            const blockNumber = action.blockNumber;\n            return Object.assign(Object.assign({}, call), { lastUpdatedBlockNumber: blockNumber });\n        });\n    }\n    else {\n        let finalState = state;\n        for (const call of action.calls) {\n            const index = finalState.findIndex((x) => x.address.toLowerCase() === call.address.toLowerCase() && x.data === call.data);\n            if (index !== -1) {\n                finalState = finalState.filter((_, i) => i !== index);\n            }\n        }\n        return finalState;\n    }\n}\n//# sourceMappingURL=callsReducer.js.map","/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function chainStateReducer(state = {}, action) {\n    var _a, _b, _c;\n    const current = (_a = state[action.chainId]) === null || _a === void 0 ? void 0 : _a.blockNumber;\n    if (!current || action.blockNumber >= current) {\n        if (action.type === 'FETCH_SUCCESS') {\n            let newState = action.state;\n            // merge with existing state\n            const oldState = (_c = (_b = state[action.chainId]) === null || _b === void 0 ? void 0 : _b.state) !== null && _c !== void 0 ? _c : {};\n            for (const [address, entries] of Object.entries(oldState)) {\n                newState = Object.assign(Object.assign({}, newState), { [address]: Object.assign(Object.assign({}, entries), newState[address]) });\n            }\n            return Object.assign(Object.assign({}, state), { [action.chainId]: { blockNumber: action.blockNumber, state: newState } });\n        }\n        else if (action.type === 'FETCH_ERROR') {\n            return Object.assign(Object.assign({}, state), { [action.chainId]: Object.assign(Object.assign({}, state[action.chainId]), { blockNumber: action.blockNumber, error: action.error }) });\n        }\n    }\n    return state;\n}\n//# sourceMappingURL=chainStateReducer.js.map","// number of bytes in the hext string - '0x' at the start doesn't count\n// each two characters are one byte\nexport const buffLength = (buf) => (buf.length - 2) / 2;\n// length of the buffer padded to the nearest 32 bytes\nexport const bufPaddedLength = (buf) => Math.ceil(buffLength(buf) / 32) * 32;\nexport const encodeUint = (uint) => uint.toString(16).padStart(64, '0');\nexport const decodeUint = (buf) => parseInt(buf, 16);\n// word length in characters - 32 bytes = 64 characters\nexport const wordLength = 64;\nexport const fail = () => {\n    throw new Error('Invalid calldata');\n};\n//# sourceMappingURL=common.js.map","import { utils } from 'ethers';\nimport MultiCall2 from '../../constants/abi/MultiCall2.json';\nexport const ethersAbi = new utils.Interface(MultiCall2.abi);\nexport const trueEncoded = '0'.repeat(63) + '1';\nexport const falseEncoded = '0'.repeat(63) + '0';\n//# sourceMappingURL=constants.js.map","import { encodeUint, bufPaddedLength, buffLength } from '../common';\nimport { ethersAbi, falseEncoded, trueEncoded } from './constants';\nconst selector = ethersAbi.getSighash('tryAggregate');\nexport function encodeCalls(start, calls) {\n    let res = start;\n    // the first offset is calls.length * 0x20 because the first\n    // item of a dynamic array starts after all offsets\n    let dynamicOffset = calls.length * 0x20;\n    // number of items in the array\n    res += encodeUint(calls.length);\n    for (const call of calls) {\n        // offset of the current call\n        res += encodeUint(dynamicOffset);\n        // offset for the next call - current offset\n        // + length of the current call\n        // + space taken by the current offset\n        // + the first item in the next tuple - address for the next call\n        // + space taken by the offset for the next call data\n        dynamicOffset += 3 * 0x20 + bufPaddedLength(call[1]);\n    }\n    for (const call of calls) {\n        // address + calldata offset\n        dynamicOffset = 0x40;\n        res += '000000000000000000000000' + call[0].slice(2).toLowerCase();\n        res += encodeUint(dynamicOffset);\n        // call data length\n        res += buffLength(call[1]).toString(16).padStart(64, '0');\n        // calldata\n        res += call[1].slice(2).padEnd(bufPaddedLength(call[1]) * 2, '0');\n    }\n    return res;\n}\nexport function encodeTryAggregate(b, calls) {\n    // function tryAggregate(bool requireSuccess, tuple(address target, bytes callData)[] calls) public returns (tuple(bool success, bytes returnData)[])\n    let res = selector;\n    // offset of the array is 0x40 because we need to\n    // encode requireSuccess flag and the offset itself\n    const dynamicOffset = 0x40;\n    res += b ? trueEncoded : falseEncoded;\n    res += encodeUint(dynamicOffset);\n    // encode dynamic array of calls\n    return encodeCalls(res, calls);\n}\n//# sourceMappingURL=encoder.js.map","import { utils } from 'ethers';\nimport MultiCall from '../../constants/abi/MultiCall.json';\nexport const ethersAbi = new utils.Interface(MultiCall.abi);\n//# sourceMappingURL=constants.js.map","import { encodeUint } from '../common';\nimport { encodeCalls } from '../multicall2/encoder';\nimport { ethersAbi } from './constants';\nconst selector = ethersAbi.getSighash('aggregate');\nexport function encodeAggregate(calls) {\n    // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n    // offset of the array is 0x20 because the only thing\n    // that goes before the array is the offset itself\n    const dynamicOffset = 0x20;\n    const res = selector + encodeUint(dynamicOffset);\n    // encode dynamic array of calls\n    return encodeCalls(res, calls);\n}\n//# sourceMappingURL=encoder.js.map","import { Contract } from 'ethers';\nimport { encodeAggregate, decodeAggregate } from '../../../abi/multicall';\nconst ABI = [\n    'function aggregate(tuple(address target, bytes callData)[] calls) view returns (uint256 blockNumber, bytes[] returnData)',\n];\n/**\n * @public\n */\nexport const multicall1Factory = (fastEncoding) => (fastEncoding ? fastEncodingMulticall : multicall);\n/**\n * @public\n */\nexport async function multicall(provider, address, blockNumber, requests) {\n    if (requests.length === 0) {\n        return {};\n    }\n    const contract = new Contract(address, ABI, provider);\n    const [, results] = await contract.aggregate(requests.map(({ address, data }) => [address, data]), { blockTag: blockNumber });\n    return decodeResult(results, requests);\n}\n/**\n * @public\n */\nexport async function fastEncodingMulticall(provider, address, blockNumber, requests) {\n    if (requests.length === 0) {\n        return {};\n    }\n    const response = await provider.call({\n        to: address,\n        data: encodeAggregate(requests.map(({ address, data }) => [address, data])),\n    }, blockNumber);\n    const [, results] = decodeAggregate(response);\n    return decodeResult(results, requests);\n}\nfunction decodeResult(results, requests) {\n    var _a;\n    const state = {};\n    for (let i = 0; i < requests.length; i++) {\n        const { address, data } = requests[i];\n        const result = results[i];\n        const stateForAddress = (_a = state[address]) !== null && _a !== void 0 ? _a : {};\n        stateForAddress[data] = { value: result, success: true };\n        state[address] = stateForAddress;\n    }\n    return state;\n}\n//# sourceMappingURL=multicall.js.map","import { decodeUint, fail, wordLength } from '../common';\nexport function decodeAggregate(calldata) {\n    // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n    const errorMethodId = '0x08c379a0';\n    if (calldata.startsWith(errorMethodId)) {\n        throw new Error('Multicall aggregate: call failed');\n    }\n    calldata = calldata.slice(2); // 'remove 0x prefix'\n    const getNumber = (offset) => decodeUint(calldata.slice(offset * wordLength, (offset + 1) * wordLength));\n    const blockNumber = getNumber(0);\n    // The array offset must be 0x40 - blockNumber + array offset\n    if (getNumber(1) !== 0x40) {\n        fail();\n    }\n    const arraySize = getNumber(2);\n    const calls = [];\n    for (let i = 0; i < arraySize; i++) {\n        // offset of the call number i\n        const callOffset = 2 * getNumber(i + 3) + 3 * wordLength; // * 2 because 1 byte = 2 chars\n        // position of the call if we split calldata in chunks of 32 bytes\n        const pos = callOffset / wordLength;\n        // returnData is encoded as its length and the data itself\n        const returnDataOffset = (pos + 1) * wordLength;\n        const returnDataLength = getNumber(pos);\n        const returnData = calldata.slice(returnDataOffset, returnDataOffset + 2 * returnDataLength); // * 2 because 1 byte = 2 chars\n        calls.push('0x' + returnData);\n    }\n    return [blockNumber, calls];\n}\n//# sourceMappingURL=decoder.js.map","import { Contract } from 'ethers';\nimport { decodeTryAggregate, encodeTryAggregate } from '../../../abi/multicall2';\nconst ABI = [\n    'function tryAggregate(bool requireSuccess, tuple(address target, bytes callData)[] calls) public view returns (tuple(bool success, bytes returnData)[])',\n];\n/**\n * @public\n */\nexport const multicall2Factory = (fastEncoding) => (fastEncoding ? fastEncodingMulticall2 : multicall2);\n/**\n * @public\n */\nexport async function multicall2(provider, address, blockNumber, requests) {\n    if (requests.length === 0) {\n        return {};\n    }\n    const contract = new Contract(address, ABI, provider);\n    const results = await contract.tryAggregate(false, requests.map(({ address, data }) => [address, data]), { blockTag: blockNumber });\n    return decodeResult(results, requests);\n}\n/**\n * @public\n */\nexport async function fastEncodingMulticall2(provider, address, blockNumber, requests) {\n    if (requests.length === 0) {\n        return {};\n    }\n    const response = await provider.call({\n        to: address,\n        data: encodeTryAggregate(false, requests.map(({ address, data }) => [address, data])),\n    }, blockNumber);\n    const [results] = decodeTryAggregate(response);\n    return decodeResult(results, requests);\n}\nfunction decodeResult(results, requests) {\n    var _a;\n    const state = {};\n    for (let i = 0; i < requests.length; i++) {\n        const { address, data } = requests[i];\n        const [success, value] = results[i];\n        const stateForAddress = (_a = state[address]) !== null && _a !== void 0 ? _a : {};\n        stateForAddress[data] = { success, value };\n        state[address] = stateForAddress;\n    }\n    return state;\n}\n//# sourceMappingURL=multicall2.js.map","import { decodeUint, wordLength, fail } from '../common';\nexport function decodeTryAggregate(calldata) {\n    // function tryAggregate(bool requireSuccess, tuple(address target, bytes callData)[] calls) public returns (tuple(bool success, bytes returnData)[])\n    const errorMethodId = '0x08c379a0';\n    if (calldata.startsWith(errorMethodId)) {\n        throw new Error('Multicall2 aggregate: call failed');\n    }\n    calldata = calldata.slice(2); // 'remove 0x prefix'\n    const getNumber = (offset) => decodeUint(calldata.slice(offset * wordLength, (offset + 1) * wordLength));\n    // The array offset must be 0x20 - nothing is before the array\n    if (getNumber(0) !== 0x20) {\n        fail();\n    }\n    const arraySize = getNumber(1);\n    const calls = [];\n    for (let i = 0; i < arraySize; i++) {\n        // offset of the call number i\n        const callOffset = 2 * getNumber(i + 2) + 2 * wordLength;\n        // position of the call if we split calldata in chunks of 32 bytes\n        const pos = callOffset / wordLength;\n        // returnData is encoded as a flag showing if the call was successful,\n        // data offset, which should be equal to 0x40, data length and the data itself\n        const successEncoded = getNumber(pos);\n        if (successEncoded !== 1 && successEncoded !== 0) {\n            fail();\n        }\n        const success = successEncoded === 1;\n        if (getNumber(pos + 1) !== 0x40) {\n            fail();\n        }\n        const returnDataOffset = (pos + 3) * wordLength;\n        const returnDataLength = getNumber(pos + 2);\n        const returnData = calldata.slice(returnDataOffset, returnDataOffset + 2 * returnDataLength);\n        const call = [success, '0x' + returnData];\n        calls.push(call);\n    }\n    return [calls];\n}\n//# sourceMappingURL=decoder.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useMemo, useReducer } from 'react';\nimport { useDebouncePair, useBlockNumbers } from '../../../hooks';\nimport { MultiChainStatesContext } from './context';\nimport { useConfig, useNetwork } from '../../..';\nimport { useReadonlyNetworks } from '../../network';\nimport { fromEntries } from '../../../helpers/fromEntries';\nimport { performMulticall } from '../common/performMulticall';\nimport { callsReducer, chainStateReducer, multicall1Factory, multicall2Factory } from '../common';\nimport { getCallsForUpdate, getUniqueActiveCalls } from '../../../helpers';\nimport { useDevtoolsReporting } from '../common/useDevtoolsReporting';\nimport { useChainId } from '../../../hooks/useChainId';\nimport { useWindow } from '../../window/context';\nimport { useUpdateNetworksState } from '../../network/readonlyNetworks/context';\nfunction composeChainState(networks, state, multicallAddresses) {\n    return fromEntries(Object.keys(networks).map((chainId) => [\n        Number(chainId),\n        {\n            value: state[Number(chainId)],\n            multicallAddress: multicallAddresses[Number(chainId)],\n        },\n    ]));\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst stripCall = (_a) => {\n    var { isStatic, lastUpdatedBlockNumber } = _a, strippedCall = __rest(_a, [\"isStatic\", \"lastUpdatedBlockNumber\"]);\n    return strippedCall;\n};\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function MultiChainStateProvider({ children, multicallAddresses }) {\n    const { multicallVersion, fastMulticallEncoding } = useConfig();\n    const networks = useReadonlyNetworks();\n    const blockNumbers = useBlockNumbers();\n    const { reportError } = useNetwork();\n    const { isActive } = useWindow();\n    const [calls, dispatchCalls] = useReducer(callsReducer, []);\n    const [state, dispatchState] = useReducer(chainStateReducer, {});\n    const updateNetworks = useUpdateNetworksState();\n    const multicall = (multicallVersion === 1 ? multicall1Factory : multicall2Factory)(fastMulticallEncoding !== null && fastMulticallEncoding !== void 0 ? fastMulticallEncoding : false);\n    const [debouncedCalls, debouncedNetworks] = useDebouncePair(calls, networks, 50);\n    const uniqueCalls = useMemo(() => getUniqueActiveCalls(debouncedCalls), [debouncedCalls]);\n    // used for deep equality in hook dependencies\n    const uniqueCallsJSON = JSON.stringify(debouncedCalls.map(stripCall));\n    const chainId = useChainId();\n    useDevtoolsReporting(uniqueCallsJSON, uniqueCalls, chainId !== undefined ? blockNumbers[chainId] : undefined, multicallAddresses);\n    function multicallForChain(chainId, provider) {\n        if (!isActive) {\n            return;\n        }\n        const blockNumber = blockNumbers[chainId];\n        const multicallAddress = multicallAddresses[chainId];\n        if (!provider || !blockNumber) {\n            return;\n        }\n        if (!multicallAddress) {\n            reportError(new Error(`Missing multicall address for chain id ${chainId}`));\n            return;\n        }\n        if (debouncedNetworks !== networks) {\n            // Wait for debounce to catch up.\n            return;\n        }\n        const updatedCalls = getCallsForUpdate(debouncedCalls, { chainId, blockNumber });\n        const callsOnThisChain = getUniqueActiveCalls(updatedCalls);\n        updateNetworks({\n            type: 'UPDATE_NON_STATIC_CALLS_COUNT',\n            chainId,\n            count: calls.filter((call) => !call.isStatic && call.chainId === chainId).length,\n        });\n        performMulticall(provider, multicall, multicallAddress, blockNumber, callsOnThisChain, dispatchState, chainId, reportError);\n        dispatchCalls({ type: 'UPDATE_CALLS', calls, updatedCalls, blockNumber, chainId });\n    }\n    useEffect(() => {\n        var _a, _b;\n        for (const [_chainId, provider] of Object.entries(networks)) {\n            const chainId = Number(_chainId);\n            // chainId is in provider is not the same as the chainId in the state wait for chainId to catch up\n            if (chainId === ((_a = provider.network) === null || _a === void 0 ? void 0 : _a.chainId) || chainId === ((_b = provider._network) === null || _b === void 0 ? void 0 : _b.chainId)) {\n                multicallForChain(chainId, provider);\n            }\n        }\n    }, [networks, multicallAddresses, uniqueCallsJSON, blockNumbers]);\n    const chains = useMemo(() => composeChainState(networks, state, multicallAddresses), [\n        state,\n        multicallAddresses,\n        networks,\n    ]);\n    const provided = { chains, dispatchCalls };\n    return _jsx(MultiChainStatesContext.Provider, { value: provided, children: children });\n}\n//# sourceMappingURL=provider.js.map","import { useContext } from 'react';\nimport { BlockNumbersContext } from '../providers';\n/**\n * Get the current block numbers of all observed chains.\n * Will update automatically when new blocks are mined.\n * @internal Intended for internal use - use it on your own risk\n */\nexport function useBlockNumbers() {\n    return useContext(BlockNumbersContext);\n}\n//# sourceMappingURL=useBlockNumbers.js.map","import { useEffect, useState } from 'react';\n/**\n * Debounce a pair of values of types T and U.\n * It stores a single value but returns after debounced time unless a new value is assigned before the debounce time elapses, in which case the process restarts.\n\n * This function is used for debouncing multicall until enough calls are aggregated.\n * @param first first variable to be debounced\n * @param second second variable to be debounced\n * @param delay debounce time - amount of time in ms.\n * @internal Intended for internal use - use it on your own risk\n * @returns {} debounced values `[T, U]`\n */\nexport function useDebouncePair(first, second, delay) {\n    const [debouncedValue, setDebouncedValue] = useState([first, second]);\n    useEffect(() => {\n        // Update debounced value after delay\n        const handler = setTimeout(() => {\n            setDebouncedValue([first, second]);\n        }, delay);\n        // Cancel the timeout if value changes (also on delay change or unmount)\n        // This is how we prevent debounced value from updating if value is changed ...\n        // .. within the delay period. Timeout gets cleared and restarted.\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [first, second, delay]);\n    return debouncedValue;\n}\n//# sourceMappingURL=useDebouncePair.js.map","import { notifyDevtools } from '../../devtools';\nexport function performMulticall(provider, multicallExecutor, multicallAddress, blockNumber, uniqueCalls, dispatchState, chainId, reportError) {\n    if (uniqueCalls.length === 0) {\n        return;\n    }\n    const start = Date.now();\n    multicallExecutor(provider, multicallAddress, blockNumber, uniqueCalls)\n        .then((state) => {\n        dispatchState({ type: 'FETCH_SUCCESS', blockNumber, chainId, state });\n        notifyDevtools({\n            type: 'MULTICALL_SUCCESS',\n            duration: Date.now() - start,\n            chainId,\n            blockNumber,\n            multicallAddress,\n            state,\n        });\n    })\n        .catch((error) => {\n        reportError(error);\n        dispatchState({ type: 'FETCH_ERROR', blockNumber, chainId, error });\n        notifyDevtools({\n            type: 'MULTICALL_ERROR',\n            duration: Date.now() - start,\n            chainId,\n            blockNumber,\n            multicallAddress,\n            calls: uniqueCalls,\n            error,\n        });\n    });\n}\n//# sourceMappingURL=performMulticall.js.map","import { useEffect } from 'react';\nimport { useEthers } from '../../../hooks';\nimport { notifyDevtools } from '../../devtools';\nexport function useDevtoolsReporting(uniqueCallsJSON, uniqueCalls, blockNumber, multicallAddresses) {\n    const { chainId, account, error } = useEthers();\n    const multicall = chainId !== undefined ? multicallAddresses[chainId] : undefined;\n    useEffect(() => {\n        notifyDevtools({ type: 'NETWORK_CHANGED', chainId, multicallAddress: multicall });\n    }, [chainId, multicall]);\n    useEffect(() => {\n        notifyDevtools({ type: 'ACCOUNT_CHANGED', address: account !== null && account !== void 0 ? account : undefined });\n    }, [account]);\n    useEffect(() => {\n        notifyDevtools({ type: 'CALLS_CHANGED', chainId, calls: uniqueCalls });\n    }, [uniqueCallsJSON]);\n    useEffect(() => {\n        if (chainId !== undefined && blockNumber !== undefined) {\n            notifyDevtools({ type: 'BLOCK_NUMBER_CHANGED', chainId, blockNumber });\n        }\n    }, [blockNumber, chainId]);\n    useEffect(() => {\n        if (error !== undefined) {\n            notifyDevtools({ type: 'GENERIC_ERROR', error });\n        }\n    }, [error]);\n}\n//# sourceMappingURL=useDevtoolsReporting.js.map","export function notificationReducer(state, action) {\n    var _a;\n    const { chainId } = action;\n    const chainState = (_a = state[chainId]) !== null && _a !== void 0 ? _a : [];\n    switch (action.type) {\n        case 'ADD_NOTIFICATION':\n            return Object.assign(Object.assign({}, state), { [chainId]: [action.notification, ...chainState] });\n        case 'REMOVE_NOTIFICATION': {\n            return Object.assign(Object.assign({}, state), { [chainId]: chainState.filter((notification) => notification.id !== action.notificationId) });\n        }\n    }\n}\n//# sourceMappingURL=reducer.js.map","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { useEthers } from '../../hooks';\nimport { NotificationsContext } from './context';\nimport { DEFAULT_NOTIFICATIONS } from './model';\nimport { notificationReducer } from './reducer';\nimport { nanoid } from 'nanoid';\nexport function NotificationsProvider({ children }) {\n    const [notifications, dispatch] = useReducer(notificationReducer, DEFAULT_NOTIFICATIONS);\n    const { chainId, account } = useEthers();\n    useEffect(() => {\n        if (account && chainId) {\n            dispatch({\n                type: 'ADD_NOTIFICATION',\n                chainId: chainId,\n                notification: {\n                    type: 'walletConnected',\n                    id: nanoid(),\n                    submittedAt: Date.now(),\n                    address: account,\n                },\n            });\n        }\n    }, [account, chainId]);\n    const addNotification = useCallback(({ notification, chainId }) => {\n        dispatch({\n            type: 'ADD_NOTIFICATION',\n            chainId,\n            notification: Object.assign(Object.assign({}, notification), { id: nanoid() }),\n        });\n    }, [dispatch]);\n    const removeNotification = useCallback(({ notificationId, chainId }) => {\n        dispatch({\n            type: 'REMOVE_NOTIFICATION',\n            chainId,\n            notificationId,\n        });\n    }, [dispatch]);\n    return (_jsx(NotificationsContext.Provider, { value: { addNotification, notifications, removeNotification }, children: children }));\n}\n//# sourceMappingURL=provider.js.map","import { useContext } from 'react';\nimport { BlockNumberContext } from '../providers';\n/**\n * Get the current block number.\n * Will update automatically when the new block is mined.\n * @public\n */\nexport function useBlockNumber() {\n    return useContext(BlockNumberContext);\n}\n//# sourceMappingURL=useBlockNumber.js.map","import { useEffect, useState } from 'react';\nfunction getItem(key) {\n    if (typeof window === 'undefined') {\n        return null;\n    }\n    const item = window.localStorage.getItem(key);\n    if (item !== null) {\n        try {\n            return JSON.parse(item);\n        }\n        catch (_a) {\n            // ignore error\n        }\n    }\n}\nfunction setItem(key, value) {\n    if (value === undefined) {\n        window.localStorage.removeItem(key);\n    }\n    else {\n        const toStore = JSON.stringify(value);\n        window.localStorage.setItem(key, toStore);\n        return JSON.parse(toStore);\n    }\n}\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function useLocalStorage(key) {\n    const [value, setValue] = useState(() => getItem(key));\n    useEffect(() => {\n        setValue(getItem(key));\n    }, [key]);\n    useEffect(() => {\n        setItem(key, value);\n    }, [value]);\n    // As value updating relies on useEffect, it takes mutliple rerenders to fully update the value.\n    // The third elemnt in the return array allows to get the immediate value stored in the localStorage.\n    return [value, setValue, () => getItem(key)];\n}\n//# sourceMappingURL=useLocalStorage.js.map","/**\n * @public\n */\nexport function getStoredTransactionState(transaction) {\n    if (transaction.receipt) {\n        return transaction.receipt.status === 0 ? 'Fail' : 'Success';\n    }\n    return 'Mining';\n}\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport const DEFAULT_STORED_TRANSACTIONS = {};\n//# sourceMappingURL=model.js.map","import { createContext, useContext } from 'react';\nimport { DEFAULT_STORED_TRANSACTIONS } from './model';\nexport const TransactionsContext = createContext({\n    transactions: DEFAULT_STORED_TRANSACTIONS,\n    addTransaction: () => undefined,\n});\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function useTransactionsContext() {\n    return useContext(TransactionsContext);\n}\n//# sourceMappingURL=context.js.map","export function transactionReducer(state, action) {\n    var _a;\n    switch (action.type) {\n        case 'ADD_TRANSACTION': {\n            const { chainId } = action.payload.transaction;\n            return Object.assign(Object.assign({}, state), { [chainId]: [action.payload, ...((_a = state[chainId]) !== null && _a !== void 0 ? _a : [])] });\n        }\n        case 'UPDATE_TRANSACTIONS':\n            return Object.assign(Object.assign({}, state), { [action.chainId]: [...action.transactions] });\n    }\n}\n//# sourceMappingURL=reducer.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { useEthers, useLocalStorage, useBlockNumber, useConfig } from '../../hooks';\nimport { useNotificationsContext } from '../notifications/context';\nimport { TransactionsContext } from './context';\nimport { DEFAULT_STORED_TRANSACTIONS } from './model';\nimport { transactionReducer } from './reducer';\nexport function TransactionProvider({ children }) {\n    const { chainId, library } = useEthers();\n    const blockNumber = useBlockNumber();\n    const { localStorage } = useConfig();\n    const [storage, setStorage] = useLocalStorage(localStorage.transactionPath);\n    const [transactions, dispatch] = useReducer(transactionReducer, storage !== null && storage !== void 0 ? storage : DEFAULT_STORED_TRANSACTIONS);\n    const { addNotification } = useNotificationsContext();\n    useEffect(() => {\n        setStorage(transactions);\n    }, [transactions]);\n    const addTransaction = useCallback((payload) => {\n        dispatch({\n            type: 'ADD_TRANSACTION',\n            payload,\n        });\n        addNotification({\n            notification: {\n                type: 'transactionStarted',\n                transaction: payload.transaction,\n                submittedAt: payload.submittedAt,\n                transactionName: payload.transactionName,\n            },\n            chainId: payload.transaction.chainId,\n        });\n    }, [dispatch]);\n    useEffect(() => {\n        const updateTransactions = async () => {\n            var _a;\n            if (!chainId || !library || !blockNumber) {\n                return;\n            }\n            const checkTransaction = async (tx) => {\n                if (tx.receipt || !shouldCheck(blockNumber, tx)) {\n                    return tx;\n                }\n                try {\n                    const receipt = await library.getTransactionReceipt(tx.transaction.hash);\n                    if (receipt) {\n                        const type = receipt.status === 0 ? 'transactionFailed' : 'transactionSucceed';\n                        addNotification({\n                            notification: {\n                                type,\n                                submittedAt: Date.now(),\n                                transaction: tx.transaction,\n                                receipt,\n                                transactionName: tx.transactionName,\n                            },\n                            chainId,\n                        });\n                        return Object.assign(Object.assign({}, tx), { receipt });\n                    }\n                    else {\n                        return Object.assign(Object.assign({}, tx), { lastCheckedBlockNumber: blockNumber });\n                    }\n                }\n                catch (error) {\n                    console.error(`failed to check transaction hash: ${tx.transaction.hash}`, error);\n                }\n                return tx;\n            };\n            const chainTransactions = (_a = transactions[chainId]) !== null && _a !== void 0 ? _a : [];\n            const newTransactions = [];\n            for (const tx of chainTransactions) {\n                const newTransaction = await checkTransaction(tx);\n                newTransactions.push(newTransaction);\n            }\n            dispatch({ type: 'UPDATE_TRANSACTIONS', chainId, transactions: newTransactions });\n        };\n        void updateTransactions();\n    }, [chainId, library, blockNumber]);\n    return _jsx(TransactionsContext.Provider, { value: { transactions, addTransaction }, children: children });\n}\nfunction shouldCheck(blockNumber, tx) {\n    if (tx.receipt) {\n        return false;\n    }\n    if (!tx.lastCheckedBlockNumber) {\n        return true;\n    }\n    const blocksSinceCheck = blockNumber - tx.lastCheckedBlockNumber;\n    if (blocksSinceCheck < 1) {\n        return false;\n    }\n    const minutesPending = (Date.now() - tx.submittedAt) / 1000 / 60;\n    if (minutesPending > 60) {\n        // every 10 blocks if pending for longer than an hour\n        return blocksSinceCheck > 9;\n    }\n    if (minutesPending > 5) {\n        // every 3 blocks if pending more than 5 minutes\n        return blocksSinceCheck > 2;\n    }\n    // otherwise every block\n    return true;\n}\n//# sourceMappingURL=provider.js.map","import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport { utils } from 'ethers';\nimport { getChainById } from '../helpers';\nimport { useEthers, useBlockNumber, useConfig, useUpdateConfig, useLocalStorage } from '../hooks';\nimport multicallABI from '../constants/abi/MultiCall.json';\nimport multicall2ABI from '../constants/abi/MultiCall2.json';\nimport { deployContract } from '../helpers/contract';\nvar LocalMulticallState;\n(function (LocalMulticallState) {\n    LocalMulticallState[LocalMulticallState[\"Unknown\"] = 0] = \"Unknown\";\n    LocalMulticallState[LocalMulticallState[\"NonLocal\"] = 1] = \"NonLocal\";\n    LocalMulticallState[LocalMulticallState[\"Deploying\"] = 2] = \"Deploying\";\n    LocalMulticallState[LocalMulticallState[\"Deployed\"] = 3] = \"Deployed\";\n    LocalMulticallState[LocalMulticallState[\"Error\"] = 4] = \"Error\";\n})(LocalMulticallState || (LocalMulticallState = {}));\nexport function LocalMulticallProvider({ children }) {\n    const updateConfig = useUpdateConfig();\n    const { library, chainId } = useEthers();\n    const [, setMulticallAddress, getCurrent] = useLocalStorage('local_multicall_address' + chainId);\n    const { multicallAddresses, multicallVersion } = useConfig();\n    const [localMulticallState, setLocalMulticallState] = useState(LocalMulticallState.Unknown);\n    const [multicallBlockNumber, setMulticallBlockNumber] = useState();\n    const blockNumber = useBlockNumber();\n    useEffect(() => {\n        var _a;\n        if (!library || !chainId) {\n            setLocalMulticallState(LocalMulticallState.Unknown);\n        }\n        else if (!((_a = getChainById(chainId)) === null || _a === void 0 ? void 0 : _a.isLocalChain)) {\n            setLocalMulticallState(LocalMulticallState.NonLocal);\n        }\n        else if (multicallAddresses && multicallAddresses[chainId]) {\n            setLocalMulticallState(LocalMulticallState.Deployed);\n        }\n        else if (localMulticallState !== LocalMulticallState.Deploying) {\n            const checkDeployed = async () => {\n                const multicallAddress = getCurrent();\n                if (typeof multicallAddress === 'string' && utils.isAddress(multicallAddress)) {\n                    const multicallCode = await library.getCode(multicallAddress);\n                    if (multicallCode !== '0x') {\n                        updateConfig({ multicallAddresses: { [chainId]: multicallAddress } });\n                        return;\n                    }\n                }\n                const signer = library.getSigner();\n                if (!signer) {\n                    setLocalMulticallState(LocalMulticallState.Error);\n                    return;\n                }\n                setLocalMulticallState(LocalMulticallState.Deploying);\n                const deployMulticall = async () => {\n                    try {\n                        const { contractAddress, blockNumber } = await deployContract(multicallVersion === 1 ? multicallABI : multicall2ABI, signer);\n                        updateConfig({ multicallAddresses: { [chainId]: contractAddress } });\n                        setMulticallAddress(contractAddress);\n                        setMulticallBlockNumber(blockNumber);\n                        setLocalMulticallState(LocalMulticallState.Deployed);\n                    }\n                    catch (_a) {\n                        setLocalMulticallState(LocalMulticallState.Error);\n                    }\n                };\n                void deployMulticall();\n            };\n            void checkDeployed();\n        }\n    }, [library, chainId]);\n    const awaitingMulticallBlock = multicallBlockNumber && blockNumber && blockNumber < multicallBlockNumber;\n    if (localMulticallState === LocalMulticallState.Deploying ||\n        (localMulticallState === LocalMulticallState.Deployed && awaitingMulticallBlock)) {\n        return _jsx(\"div\", { children: \"Deploying multicall...\" });\n    }\n    else if (localMulticallState === LocalMulticallState.Error) {\n        return _jsx(\"div\", { children: \"Error deploying multicall contract\" });\n    }\n    else {\n        return _jsx(_Fragment, { children: children });\n    }\n}\n//# sourceMappingURL=LocalMulticallProvider.js.map","import { ContractFactory } from 'ethers';\nexport async function deployContract(contractAbi, signer) {\n    const factory = new ContractFactory(contractAbi.abi, contractAbi.bytecode, signer);\n    const contract = await factory.deploy();\n    return await contract.deployTransaction.wait();\n}\n//# sourceMappingURL=contract.js.map","export const version = \"networks/5.6.4\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\nfunction isRenetworkable(value) {\n    return (value && typeof (value.renetwork) === \"function\");\n}\nfunction ethDefaultProvider(network) {\n    const func = function (providers, options) {\n        if (options == null) {\n            options = {};\n        }\n        const providerList = [];\n        if (providers.InfuraProvider && options.infura !== \"-\") {\n            try {\n                providerList.push(new providers.InfuraProvider(network, options.infura));\n            }\n            catch (error) { }\n        }\n        if (providers.EtherscanProvider && options.etherscan !== \"-\") {\n            try {\n                providerList.push(new providers.EtherscanProvider(network, options.etherscan));\n            }\n            catch (error) { }\n        }\n        if (providers.AlchemyProvider && options.alchemy !== \"-\") {\n            try {\n                providerList.push(new providers.AlchemyProvider(network, options.alchemy));\n            }\n            catch (error) { }\n        }\n        if (providers.PocketProvider && options.pocket !== \"-\") {\n            // These networks are currently faulty on Pocket as their\n            // network does not handle the Berlin hardfork, which is\n            // live on these ones.\n            // @TODO: This goes away once Pocket has upgraded their nodes\n            const skip = [\"goerli\", \"ropsten\", \"rinkeby\"];\n            try {\n                const provider = new providers.PocketProvider(network, options.pocket);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providers.CloudflareProvider && options.cloudflare !== \"-\") {\n            try {\n                providerList.push(new providers.CloudflareProvider(network));\n            }\n            catch (error) { }\n        }\n        if (providers.AnkrProvider && options.ankr !== \"-\") {\n            try {\n                const skip = [\"ropsten\"];\n                const provider = new providers.AnkrProvider(network, options.ankr);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providerList.length === 0) {\n            return null;\n        }\n        if (providers.FallbackProvider) {\n            let quorum = 1;\n            if (options.quorum != null) {\n                quorum = options.quorum;\n            }\n            else if (network === \"homestead\") {\n                quorum = 2;\n            }\n            return new providers.FallbackProvider(providerList, quorum);\n        }\n        return providerList[0];\n    };\n    func.renetwork = function (network) {\n        return ethDefaultProvider(network);\n    };\n    return func;\n}\nfunction etcDefaultProvider(url, network) {\n    const func = function (providers, options) {\n        if (providers.JsonRpcProvider) {\n            return new providers.JsonRpcProvider(url, network);\n        }\n        return null;\n    };\n    func.renetwork = function (network) {\n        return etcDefaultProvider(url, network);\n    };\n    return func;\n}\nconst homestead = {\n    chainId: 1,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"homestead\",\n    _defaultProvider: ethDefaultProvider(\"homestead\")\n};\nconst ropsten = {\n    chainId: 3,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"ropsten\",\n    _defaultProvider: ethDefaultProvider(\"ropsten\")\n};\nconst classicMordor = {\n    chainId: 63,\n    name: \"classicMordor\",\n    _defaultProvider: etcDefaultProvider(\"https://www.ethercluster.com/mordor\", \"classicMordor\")\n};\n// See: https://chainlist.org\nconst networks = {\n    unspecified: { chainId: 0, name: \"unspecified\" },\n    homestead: homestead,\n    mainnet: homestead,\n    morden: { chainId: 2, name: \"morden\" },\n    ropsten: ropsten,\n    testnet: ropsten,\n    rinkeby: {\n        chainId: 4,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"rinkeby\",\n        _defaultProvider: ethDefaultProvider(\"rinkeby\")\n    },\n    kovan: {\n        chainId: 42,\n        name: \"kovan\",\n        _defaultProvider: ethDefaultProvider(\"kovan\")\n    },\n    goerli: {\n        chainId: 5,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"goerli\",\n        _defaultProvider: ethDefaultProvider(\"goerli\")\n    },\n    kintsugi: { chainId: 1337702, name: \"kintsugi\" },\n    // ETC (See: #351)\n    classic: {\n        chainId: 61,\n        name: \"classic\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/etc\", \"classic\")\n    },\n    classicMorden: { chainId: 62, name: \"classicMorden\" },\n    classicMordor: classicMordor,\n    classicTestnet: classicMordor,\n    classicKotti: {\n        chainId: 6,\n        name: \"classicKotti\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/kotti\", \"classicKotti\")\n    },\n    xdai: { chainId: 100, name: \"xdai\" },\n    matic: {\n        chainId: 137,\n        name: \"matic\",\n        _defaultProvider: ethDefaultProvider(\"matic\")\n    },\n    maticmum: { chainId: 80001, name: \"maticmum\" },\n    optimism: {\n        chainId: 10,\n        name: \"optimism\",\n        _defaultProvider: ethDefaultProvider(\"optimism\")\n    },\n    \"optimism-kovan\": { chainId: 69, name: \"optimism-kovan\" },\n    \"optimism-goerli\": { chainId: 420, name: \"optimism-goerli\" },\n    arbitrum: { chainId: 42161, name: \"arbitrum\" },\n    \"arbitrum-rinkeby\": { chainId: 421611, name: \"arbitrum-rinkeby\" },\n    bnb: { chainId: 56, name: \"bnb\" },\n    bnbt: { chainId: 97, name: \"bnbt\" },\n};\n/**\n *  getNetwork\n *\n *  Converts a named common networks or chain ID (network ID) to a Network\n *  and verifies a network is a valid Network..\n */\nexport function getNetwork(network) {\n    // No network (null)\n    if (network == null) {\n        return null;\n    }\n    if (typeof (network) === \"number\") {\n        for (const name in networks) {\n            const standard = networks[name];\n            if (standard.chainId === network) {\n                return {\n                    name: standard.name,\n                    chainId: standard.chainId,\n                    ensAddress: (standard.ensAddress || null),\n                    _defaultProvider: (standard._defaultProvider || null)\n                };\n            }\n        }\n        return {\n            chainId: network,\n            name: \"unknown\"\n        };\n    }\n    if (typeof (network) === \"string\") {\n        const standard = networks[network];\n        if (standard == null) {\n            return null;\n        }\n        return {\n            name: standard.name,\n            chainId: standard.chainId,\n            ensAddress: standard.ensAddress,\n            _defaultProvider: (standard._defaultProvider || null)\n        };\n    }\n    const standard = networks[network.name];\n    // Not a standard network; check that it is a valid network in general\n    if (!standard) {\n        if (typeof (network.chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid network chainId\", \"network\", network);\n        }\n        return network;\n    }\n    // Make sure the chainId matches the expected network chainId (or is 0; disable EIP-155)\n    if (network.chainId !== 0 && network.chainId !== standard.chainId) {\n        logger.throwArgumentError(\"network chainId mismatch\", \"network\", network);\n    }\n    // @TODO: In the next major version add an attach function to a defaultProvider\n    // class and move the _defaultProvider internal to this file (extend Network)\n    let defaultProvider = network._defaultProvider || null;\n    if (defaultProvider == null && standard._defaultProvider) {\n        if (isRenetworkable(standard._defaultProvider)) {\n            defaultProvider = standard._defaultProvider.renetwork(network);\n        }\n        else {\n            defaultProvider = standard._defaultProvider;\n        }\n    }\n    // Standard Network (allow overriding the ENS address)\n    return {\n        name: network.name,\n        chainId: standard.chainId,\n        ensAddress: (network.ensAddress || standard.ensAddress || null),\n        _defaultProvider: defaultProvider\n    };\n}\n//# sourceMappingURL=index.js.map","export const version = \"providers/5.6.8\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { getAddress, getContractAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexDataLength, hexDataSlice, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { shallowCopy } from \"@ethersproject/properties\";\nimport { accessListify, parse as parseTransaction } from \"@ethersproject/transactions\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport class Formatter {\n    constructor() {\n        this.formats = this.getDefaultFormats();\n    }\n    getDefaultFormats() {\n        const formats = ({});\n        const address = this.address.bind(this);\n        const bigNumber = this.bigNumber.bind(this);\n        const blockTag = this.blockTag.bind(this);\n        const data = this.data.bind(this);\n        const hash = this.hash.bind(this);\n        const hex = this.hex.bind(this);\n        const number = this.number.bind(this);\n        const type = this.type.bind(this);\n        const strictData = (v) => { return this.data(v, true); };\n        formats.transaction = {\n            hash: hash,\n            type: type,\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n            blockHash: Formatter.allowNull(hash, null),\n            blockNumber: Formatter.allowNull(number, null),\n            transactionIndex: Formatter.allowNull(number, null),\n            confirmations: Formatter.allowNull(number, null),\n            from: address,\n            // either (gasPrice) or (maxPriorityFeePerGas + maxFeePerGas)\n            // must be set\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            gasLimit: bigNumber,\n            to: Formatter.allowNull(address, null),\n            value: bigNumber,\n            nonce: number,\n            data: data,\n            r: Formatter.allowNull(this.uint256),\n            s: Formatter.allowNull(this.uint256),\n            v: Formatter.allowNull(number),\n            creates: Formatter.allowNull(address, null),\n            raw: Formatter.allowNull(data),\n        };\n        formats.transactionRequest = {\n            from: Formatter.allowNull(address),\n            nonce: Formatter.allowNull(number),\n            gasLimit: Formatter.allowNull(bigNumber),\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            to: Formatter.allowNull(address),\n            value: Formatter.allowNull(bigNumber),\n            data: Formatter.allowNull(strictData),\n            type: Formatter.allowNull(number),\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n        };\n        formats.receiptLog = {\n            transactionIndex: number,\n            blockNumber: number,\n            transactionHash: hash,\n            address: address,\n            topics: Formatter.arrayOf(hash),\n            data: data,\n            logIndex: number,\n            blockHash: hash,\n        };\n        formats.receipt = {\n            to: Formatter.allowNull(this.address, null),\n            from: Formatter.allowNull(this.address, null),\n            contractAddress: Formatter.allowNull(address, null),\n            transactionIndex: number,\n            // should be allowNull(hash), but broken-EIP-658 support is handled in receipt\n            root: Formatter.allowNull(hex),\n            gasUsed: bigNumber,\n            logsBloom: Formatter.allowNull(data),\n            blockHash: hash,\n            transactionHash: hash,\n            logs: Formatter.arrayOf(this.receiptLog.bind(this)),\n            blockNumber: number,\n            confirmations: Formatter.allowNull(number, null),\n            cumulativeGasUsed: bigNumber,\n            effectiveGasPrice: Formatter.allowNull(bigNumber),\n            status: Formatter.allowNull(number),\n            type: type\n        };\n        formats.block = {\n            hash: Formatter.allowNull(hash),\n            parentHash: hash,\n            number: number,\n            timestamp: number,\n            nonce: Formatter.allowNull(hex),\n            difficulty: this.difficulty.bind(this),\n            gasLimit: bigNumber,\n            gasUsed: bigNumber,\n            miner: Formatter.allowNull(address),\n            extraData: data,\n            transactions: Formatter.allowNull(Formatter.arrayOf(hash)),\n            baseFeePerGas: Formatter.allowNull(bigNumber)\n        };\n        formats.blockWithTransactions = shallowCopy(formats.block);\n        formats.blockWithTransactions.transactions = Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));\n        formats.filter = {\n            fromBlock: Formatter.allowNull(blockTag, undefined),\n            toBlock: Formatter.allowNull(blockTag, undefined),\n            blockHash: Formatter.allowNull(hash, undefined),\n            address: Formatter.allowNull(address, undefined),\n            topics: Formatter.allowNull(this.topics.bind(this), undefined),\n        };\n        formats.filterLog = {\n            blockNumber: Formatter.allowNull(number),\n            blockHash: Formatter.allowNull(hash),\n            transactionIndex: number,\n            removed: Formatter.allowNull(this.boolean.bind(this)),\n            address: address,\n            data: Formatter.allowFalsish(data, \"0x\"),\n            topics: Formatter.arrayOf(hash),\n            transactionHash: hash,\n            logIndex: number,\n        };\n        return formats;\n    }\n    accessList(accessList) {\n        return accessListify(accessList || []);\n    }\n    // Requires a BigNumberish that is within the IEEE754 safe integer range; returns a number\n    // Strict! Used on input.\n    number(number) {\n        if (number === \"0x\") {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    type(number) {\n        if (number === \"0x\" || number == null) {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    // Strict! Used on input.\n    bigNumber(value) {\n        return BigNumber.from(value);\n    }\n    // Requires a boolean, \"true\" or  \"false\"; returns a boolean\n    boolean(value) {\n        if (typeof (value) === \"boolean\") {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            value = value.toLowerCase();\n            if (value === \"true\") {\n                return true;\n            }\n            if (value === \"false\") {\n                return false;\n            }\n        }\n        throw new Error(\"invalid boolean - \" + value);\n    }\n    hex(value, strict) {\n        if (typeof (value) === \"string\") {\n            if (!strict && value.substring(0, 2) !== \"0x\") {\n                value = \"0x\" + value;\n            }\n            if (isHexString(value)) {\n                return value.toLowerCase();\n            }\n        }\n        return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n    }\n    data(value, strict) {\n        const result = this.hex(value, strict);\n        if ((result.length % 2) !== 0) {\n            throw new Error(\"invalid data; odd-length - \" + value);\n        }\n        return result;\n    }\n    // Requires an address\n    // Strict! Used on input.\n    address(value) {\n        return getAddress(value);\n    }\n    callAddress(value) {\n        if (!isHexString(value, 32)) {\n            return null;\n        }\n        const address = getAddress(hexDataSlice(value, 12));\n        return (address === AddressZero) ? null : address;\n    }\n    contractAddress(value) {\n        return getContractAddress(value);\n    }\n    // Strict! Used on input.\n    blockTag(blockTag) {\n        if (blockTag == null) {\n            return \"latest\";\n        }\n        if (blockTag === \"earliest\") {\n            return \"0x0\";\n        }\n        if (blockTag === \"latest\" || blockTag === \"pending\") {\n            return blockTag;\n        }\n        if (typeof (blockTag) === \"number\" || isHexString(blockTag)) {\n            return hexValue(blockTag);\n        }\n        throw new Error(\"invalid blockTag\");\n    }\n    // Requires a hash, optionally requires 0x prefix; returns prefixed lowercase hash.\n    hash(value, strict) {\n        const result = this.hex(value, strict);\n        if (hexDataLength(result) !== 32) {\n            return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n        }\n        return result;\n    }\n    // Returns the difficulty as a number, or if too large (i.e. PoA network) null\n    difficulty(value) {\n        if (value == null) {\n            return null;\n        }\n        const v = BigNumber.from(value);\n        try {\n            return v.toNumber();\n        }\n        catch (error) { }\n        return null;\n    }\n    uint256(value) {\n        if (!isHexString(value)) {\n            throw new Error(\"invalid uint256\");\n        }\n        return hexZeroPad(value, 32);\n    }\n    _block(value, format) {\n        if (value.author != null && value.miner == null) {\n            value.miner = value.author;\n        }\n        // The difficulty may need to come from _difficulty in recursed blocks\n        const difficulty = (value._difficulty != null) ? value._difficulty : value.difficulty;\n        const result = Formatter.check(format, value);\n        result._difficulty = ((difficulty == null) ? null : BigNumber.from(difficulty));\n        return result;\n    }\n    block(value) {\n        return this._block(value, this.formats.block);\n    }\n    blockWithTransactions(value) {\n        return this._block(value, this.formats.blockWithTransactions);\n    }\n    // Strict! Used on input.\n    transactionRequest(value) {\n        return Formatter.check(this.formats.transactionRequest, value);\n    }\n    transactionResponse(transaction) {\n        // Rename gas to gasLimit\n        if (transaction.gas != null && transaction.gasLimit == null) {\n            transaction.gasLimit = transaction.gas;\n        }\n        // Some clients (TestRPC) do strange things like return 0x0 for the\n        // 0 address; correct this to be a real address\n        if (transaction.to && BigNumber.from(transaction.to).isZero()) {\n            transaction.to = \"0x0000000000000000000000000000000000000000\";\n        }\n        // Rename input to data\n        if (transaction.input != null && transaction.data == null) {\n            transaction.data = transaction.input;\n        }\n        // If to and creates are empty, populate the creates from the transaction\n        if (transaction.to == null && transaction.creates == null) {\n            transaction.creates = this.contractAddress(transaction);\n        }\n        if ((transaction.type === 1 || transaction.type === 2) && transaction.accessList == null) {\n            transaction.accessList = [];\n        }\n        const result = Formatter.check(this.formats.transaction, transaction);\n        if (transaction.chainId != null) {\n            let chainId = transaction.chainId;\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            result.chainId = chainId;\n        }\n        else {\n            let chainId = transaction.networkId;\n            // geth-etc returns chainId\n            if (chainId == null && result.v == null) {\n                chainId = transaction.chainId;\n            }\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            if (typeof (chainId) !== \"number\" && result.v != null) {\n                chainId = (result.v - 35) / 2;\n                if (chainId < 0) {\n                    chainId = 0;\n                }\n                chainId = parseInt(chainId);\n            }\n            if (typeof (chainId) !== \"number\") {\n                chainId = 0;\n            }\n            result.chainId = chainId;\n        }\n        // 0x0000... should actually be null\n        if (result.blockHash && result.blockHash.replace(/0/g, \"\") === \"x\") {\n            result.blockHash = null;\n        }\n        return result;\n    }\n    transaction(value) {\n        return parseTransaction(value);\n    }\n    receiptLog(value) {\n        return Formatter.check(this.formats.receiptLog, value);\n    }\n    receipt(value) {\n        const result = Formatter.check(this.formats.receipt, value);\n        // RSK incorrectly implemented EIP-658, so we munge things a bit here for it\n        if (result.root != null) {\n            if (result.root.length <= 4) {\n                // Could be 0x00, 0x0, 0x01 or 0x1\n                const value = BigNumber.from(result.root).toNumber();\n                if (value === 0 || value === 1) {\n                    // Make sure if both are specified, they match\n                    if (result.status != null && (result.status !== value)) {\n                        logger.throwArgumentError(\"alt-root-status/status mismatch\", \"value\", { root: result.root, status: result.status });\n                    }\n                    result.status = value;\n                    delete result.root;\n                }\n                else {\n                    logger.throwArgumentError(\"invalid alt-root-status\", \"value.root\", result.root);\n                }\n            }\n            else if (result.root.length !== 66) {\n                // Must be a valid bytes32\n                logger.throwArgumentError(\"invalid root hash\", \"value.root\", result.root);\n            }\n        }\n        if (result.status != null) {\n            result.byzantium = true;\n        }\n        return result;\n    }\n    topics(value) {\n        if (Array.isArray(value)) {\n            return value.map((v) => this.topics(v));\n        }\n        else if (value != null) {\n            return this.hash(value, true);\n        }\n        return null;\n    }\n    filter(value) {\n        return Formatter.check(this.formats.filter, value);\n    }\n    filterLog(value) {\n        return Formatter.check(this.formats.filterLog, value);\n    }\n    static check(format, object) {\n        const result = {};\n        for (const key in format) {\n            try {\n                const value = format[key](object[key]);\n                if (value !== undefined) {\n                    result[key] = value;\n                }\n            }\n            catch (error) {\n                error.checkKey = key;\n                error.checkValue = object[key];\n                throw error;\n            }\n        }\n        return result;\n    }\n    // if value is null-ish, nullValue is returned\n    static allowNull(format, nullValue) {\n        return (function (value) {\n            if (value == null) {\n                return nullValue;\n            }\n            return format(value);\n        });\n    }\n    // If value is false-ish, replaceValue is returned\n    static allowFalsish(format, replaceValue) {\n        return (function (value) {\n            if (!value) {\n                return replaceValue;\n            }\n            return format(value);\n        });\n    }\n    // Requires an Array satisfying check\n    static arrayOf(format) {\n        return (function (array) {\n            if (!Array.isArray(array)) {\n                throw new Error(\"not an array\");\n            }\n            const result = [];\n            array.forEach(function (value) {\n                result.push(format(value));\n            });\n            return result;\n        });\n    }\n}\nexport function isCommunityResourcable(value) {\n    return (value && typeof (value.isCommunityResource) === \"function\");\n}\nexport function isCommunityResource(value) {\n    return (isCommunityResourcable(value) && value.isCommunityResource());\n}\n// Show the throttle message only once\nlet throttleMessage = false;\nexport function showThrottleMessage() {\n    if (throttleMessage) {\n        return;\n    }\n    throttleMessage = true;\n    console.log(\"========= NOTICE =========\");\n    console.log(\"Request-Rate Exceeded  (this message will not be repeated)\");\n    console.log(\"\");\n    console.log(\"The default API keys for each service are provided as a highly-throttled,\");\n    console.log(\"community resource for low-traffic projects and early prototyping.\");\n    console.log(\"\");\n    console.log(\"While your application will continue to function, we highly recommended\");\n    console.log(\"signing up for your own API keys to improve performance, increase your\");\n    console.log(\"request rate/limit and enable other perks, such as metrics and advanced APIs.\");\n    console.log(\"\");\n    console.log(\"For more details: https:/\\/docs.ethers.io/api-keys/\");\n    console.log(\"==========================\");\n}\n//# sourceMappingURL=formatter.js.map","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ForkEvent, Provider } from \"@ethersproject/abstract-provider\";\nimport { encode as base64Encode } from \"@ethersproject/base64\";\nimport { Base58 } from \"@ethersproject/basex\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, concat, hexConcat, hexDataLength, hexDataSlice, hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { HashZero } from \"@ethersproject/constants\";\nimport { dnsEncode, namehash } from \"@ethersproject/hash\";\nimport { getNetwork } from \"@ethersproject/networks\";\nimport { defineReadOnly, getStatic, resolveProperties } from \"@ethersproject/properties\";\nimport { sha256 } from \"@ethersproject/sha2\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport bech32 from \"bech32\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { Formatter } from \"./formatter\";\nconst MAX_CCIP_REDIRECTS = 10;\n//////////////////////////////\n// Event Serializeing\nfunction checkTopic(topic) {\n    if (topic == null) {\n        return \"null\";\n    }\n    if (hexDataLength(topic) !== 32) {\n        logger.throwArgumentError(\"invalid topic\", \"topic\", topic);\n    }\n    return topic.toLowerCase();\n}\nfunction serializeTopics(topics) {\n    // Remove trailing null AND-topics; they are redundant\n    topics = topics.slice();\n    while (topics.length > 0 && topics[topics.length - 1] == null) {\n        topics.pop();\n    }\n    return topics.map((topic) => {\n        if (Array.isArray(topic)) {\n            // Only track unique OR-topics\n            const unique = {};\n            topic.forEach((topic) => {\n                unique[checkTopic(topic)] = true;\n            });\n            // The order of OR-topics does not matter\n            const sorted = Object.keys(unique);\n            sorted.sort();\n            return sorted.join(\"|\");\n        }\n        else {\n            return checkTopic(topic);\n        }\n    }).join(\"&\");\n}\nfunction deserializeTopics(data) {\n    if (data === \"\") {\n        return [];\n    }\n    return data.split(/&/g).map((topic) => {\n        if (topic === \"\") {\n            return [];\n        }\n        const comps = topic.split(\"|\").map((topic) => {\n            return ((topic === \"null\") ? null : topic);\n        });\n        return ((comps.length === 1) ? comps[0] : comps);\n    });\n}\nfunction getEventTag(eventName) {\n    if (typeof (eventName) === \"string\") {\n        eventName = eventName.toLowerCase();\n        if (hexDataLength(eventName) === 32) {\n            return \"tx:\" + eventName;\n        }\n        if (eventName.indexOf(\":\") === -1) {\n            return eventName;\n        }\n    }\n    else if (Array.isArray(eventName)) {\n        return \"filter:*:\" + serializeTopics(eventName);\n    }\n    else if (ForkEvent.isForkEvent(eventName)) {\n        logger.warn(\"not implemented\");\n        throw new Error(\"not implemented\");\n    }\n    else if (eventName && typeof (eventName) === \"object\") {\n        return \"filter:\" + (eventName.address || \"*\") + \":\" + serializeTopics(eventName.topics || []);\n    }\n    throw new Error(\"invalid event - \" + eventName);\n}\n//////////////////////////////\n// Helper Object\nfunction getTime() {\n    return (new Date()).getTime();\n}\nfunction stall(duration) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\n//////////////////////////////\n// Provider Object\n/**\n *  EventType\n *   - \"block\"\n *   - \"poll\"\n *   - \"didPoll\"\n *   - \"pending\"\n *   - \"error\"\n *   - \"network\"\n *   - filter\n *   - topics array\n *   - transaction hash\n */\nconst PollableEvents = [\"block\", \"network\", \"pending\", \"poll\"];\nexport class Event {\n    constructor(tag, listener, once) {\n        defineReadOnly(this, \"tag\", tag);\n        defineReadOnly(this, \"listener\", listener);\n        defineReadOnly(this, \"once\", once);\n        this._lastBlockNumber = -2;\n        this._inflight = false;\n    }\n    get event() {\n        switch (this.type) {\n            case \"tx\":\n                return this.hash;\n            case \"filter\":\n                return this.filter;\n        }\n        return this.tag;\n    }\n    get type() {\n        return this.tag.split(\":\")[0];\n    }\n    get hash() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"tx\") {\n            return null;\n        }\n        return comps[1];\n    }\n    get filter() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"filter\") {\n            return null;\n        }\n        const address = comps[1];\n        const topics = deserializeTopics(comps[2]);\n        const filter = {};\n        if (topics.length > 0) {\n            filter.topics = topics;\n        }\n        if (address && address !== \"*\") {\n            filter.address = address;\n        }\n        return filter;\n    }\n    pollable() {\n        return (this.tag.indexOf(\":\") >= 0 || PollableEvents.indexOf(this.tag) >= 0);\n    }\n}\n;\n// https://github.com/satoshilabs/slips/blob/master/slip-0044.md\nconst coinInfos = {\n    \"0\": { symbol: \"btc\", p2pkh: 0x00, p2sh: 0x05, prefix: \"bc\" },\n    \"2\": { symbol: \"ltc\", p2pkh: 0x30, p2sh: 0x32, prefix: \"ltc\" },\n    \"3\": { symbol: \"doge\", p2pkh: 0x1e, p2sh: 0x16 },\n    \"60\": { symbol: \"eth\", ilk: \"eth\" },\n    \"61\": { symbol: \"etc\", ilk: \"eth\" },\n    \"700\": { symbol: \"xdai\", ilk: \"eth\" },\n};\nfunction bytes32ify(value) {\n    return hexZeroPad(BigNumber.from(value).toHexString(), 32);\n}\n// Compute the Base58Check encoded data (checksum is first 4 bytes of sha256d)\nfunction base58Encode(data) {\n    return Base58.encode(concat([data, hexDataSlice(sha256(sha256(data)), 0, 4)]));\n}\nconst matcherIpfs = new RegExp(\"^(ipfs):/\\/(.*)$\", \"i\");\nconst matchers = [\n    new RegExp(\"^(https):/\\/(.*)$\", \"i\"),\n    new RegExp(\"^(data):(.*)$\", \"i\"),\n    matcherIpfs,\n    new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\", \"i\"),\n];\nfunction _parseString(result, start) {\n    try {\n        return toUtf8String(_parseBytes(result, start));\n    }\n    catch (error) { }\n    return null;\n}\nfunction _parseBytes(result, start) {\n    if (result === \"0x\") {\n        return null;\n    }\n    const offset = BigNumber.from(hexDataSlice(result, start, start + 32)).toNumber();\n    const length = BigNumber.from(hexDataSlice(result, offset, offset + 32)).toNumber();\n    return hexDataSlice(result, offset + 32, offset + 32 + length);\n}\n// Trim off the ipfs:// prefix and return the default gateway URL\nfunction getIpfsLink(link) {\n    if (link.match(/^ipfs:\\/\\/ipfs\\//i)) {\n        link = link.substring(12);\n    }\n    else if (link.match(/^ipfs:\\/\\//i)) {\n        link = link.substring(7);\n    }\n    else {\n        logger.throwArgumentError(\"unsupported IPFS format\", \"link\", link);\n    }\n    return `https:/\\/gateway.ipfs.io/ipfs/${link}`;\n}\nfunction numPad(value) {\n    const result = arrayify(value);\n    if (result.length > 32) {\n        throw new Error(\"internal; should not happen\");\n    }\n    const padded = new Uint8Array(32);\n    padded.set(result, 32 - result.length);\n    return padded;\n}\nfunction bytesPad(value) {\n    if ((value.length % 32) === 0) {\n        return value;\n    }\n    const result = new Uint8Array(Math.ceil(value.length / 32) * 32);\n    result.set(value);\n    return result;\n}\n// ABI Encodes a series of (bytes, bytes, ...)\nfunction encodeBytes(datas) {\n    const result = [];\n    let byteCount = 0;\n    // Add place-holders for pointers as we add items\n    for (let i = 0; i < datas.length; i++) {\n        result.push(null);\n        byteCount += 32;\n    }\n    for (let i = 0; i < datas.length; i++) {\n        const data = arrayify(datas[i]);\n        // Update the bytes offset\n        result[i] = numPad(byteCount);\n        // The length and padded value of data\n        result.push(numPad(data.length));\n        result.push(bytesPad(data));\n        byteCount += 32 + Math.ceil(data.length / 32) * 32;\n    }\n    return hexConcat(result);\n}\nexport class Resolver {\n    // The resolvedAddress is only for creating a ReverseLookup resolver\n    constructor(provider, address, name, resolvedAddress) {\n        defineReadOnly(this, \"provider\", provider);\n        defineReadOnly(this, \"name\", name);\n        defineReadOnly(this, \"address\", provider.formatter.address(address));\n        defineReadOnly(this, \"_resolvedAddress\", resolvedAddress);\n    }\n    supportsWildcard() {\n        if (!this._supportsEip2544) {\n            // supportsInterface(bytes4 = selector(\"resolve(bytes,bytes)\"))\n            this._supportsEip2544 = this.provider.call({\n                to: this.address,\n                data: \"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000\"\n            }).then((result) => {\n                return BigNumber.from(result).eq(1);\n            }).catch((error) => {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return false;\n                }\n                // Rethrow the error: link is down, etc. Let future attempts retry.\n                this._supportsEip2544 = null;\n                throw error;\n            });\n        }\n        return this._supportsEip2544;\n    }\n    _fetch(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // e.g. keccak256(\"addr(bytes32,uint256)\")\n            const tx = {\n                to: this.address,\n                ccipReadEnabled: true,\n                data: hexConcat([selector, namehash(this.name), (parameters || \"0x\")])\n            };\n            // Wildcard support; use EIP-2544 to resolve the request\n            let parseBytes = false;\n            if (yield this.supportsWildcard()) {\n                parseBytes = true;\n                // selector(\"resolve(bytes,bytes)\")\n                tx.data = hexConcat([\"0x9061b923\", encodeBytes([dnsEncode(this.name), tx.data])]);\n            }\n            try {\n                let result = yield this.provider.call(tx);\n                if ((arrayify(result).length % 32) === 4) {\n                    logger.throwError(\"resolver threw error\", Logger.errors.CALL_EXCEPTION, {\n                        transaction: tx, data: result\n                    });\n                }\n                if (parseBytes) {\n                    result = _parseBytes(result, 0);\n                }\n                return result;\n            }\n            catch (error) {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return null;\n                }\n                throw error;\n            }\n        });\n    }\n    _fetchBytes(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this._fetch(selector, parameters);\n            if (result != null) {\n                return _parseBytes(result, 0);\n            }\n            return null;\n        });\n    }\n    _getAddress(coinType, hexBytes) {\n        const coinInfo = coinInfos[String(coinType)];\n        if (coinInfo == null) {\n            logger.throwError(`unsupported coin type: ${coinType}`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: `getAddress(${coinType})`\n            });\n        }\n        if (coinInfo.ilk === \"eth\") {\n            return this.provider.formatter.address(hexBytes);\n        }\n        const bytes = arrayify(hexBytes);\n        // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n        if (coinInfo.p2pkh != null) {\n            const p2pkh = hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);\n            if (p2pkh) {\n                const length = parseInt(p2pkh[1], 16);\n                if (p2pkh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2pkh], (\"0x\" + p2pkh[2])]));\n                }\n            }\n        }\n        // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n        if (coinInfo.p2sh != null) {\n            const p2sh = hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);\n            if (p2sh) {\n                const length = parseInt(p2sh[1], 16);\n                if (p2sh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2sh], (\"0x\" + p2sh[2])]));\n                }\n            }\n        }\n        // Bech32\n        if (coinInfo.prefix != null) {\n            const length = bytes[1];\n            // https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program\n            let version = bytes[0];\n            if (version === 0x00) {\n                if (length !== 20 && length !== 32) {\n                    version = -1;\n                }\n            }\n            else {\n                version = -1;\n            }\n            if (version >= 0 && bytes.length === 2 + length && length >= 1 && length <= 75) {\n                const words = bech32.toWords(bytes.slice(2));\n                words.unshift(version);\n                return bech32.encode(coinInfo.prefix, words);\n            }\n        }\n        return null;\n    }\n    getAddress(coinType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (coinType == null) {\n                coinType = 60;\n            }\n            // If Ethereum, use the standard `addr(bytes32)`\n            if (coinType === 60) {\n                try {\n                    // keccak256(\"addr(bytes32)\")\n                    const result = yield this._fetch(\"0x3b3b57de\");\n                    // No address\n                    if (result === \"0x\" || result === HashZero) {\n                        return null;\n                    }\n                    return this.provider.formatter.callAddress(result);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.CALL_EXCEPTION) {\n                        return null;\n                    }\n                    throw error;\n                }\n            }\n            // keccak256(\"addr(bytes32,uint256\")\n            const hexBytes = yield this._fetchBytes(\"0xf1cb7e06\", bytes32ify(coinType));\n            // No address\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // Compute the address\n            const address = this._getAddress(coinType, hexBytes);\n            if (address == null) {\n                logger.throwError(`invalid or unsupported coin data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `getAddress(${coinType})`,\n                    coinType: coinType,\n                    data: hexBytes\n                });\n            }\n            return address;\n        });\n    }\n    getAvatar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const linkage = [{ type: \"name\", content: this.name }];\n            try {\n                // test data for ricmoo.eth\n                //const avatar = \"eip155:1/erc721:0x265385c7f4132228A0d54EB1A9e7460b91c0cC68/29233\";\n                const avatar = yield this.getText(\"avatar\");\n                if (avatar == null) {\n                    return null;\n                }\n                for (let i = 0; i < matchers.length; i++) {\n                    const match = avatar.match(matchers[i]);\n                    if (match == null) {\n                        continue;\n                    }\n                    const scheme = match[1].toLowerCase();\n                    switch (scheme) {\n                        case \"https\":\n                            linkage.push({ type: \"url\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"data\":\n                            linkage.push({ type: \"data\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"ipfs\":\n                            linkage.push({ type: \"ipfs\", content: avatar });\n                            return { linkage, url: getIpfsLink(avatar) };\n                        case \"erc721\":\n                        case \"erc1155\": {\n                            // Depending on the ERC type, use tokenURI(uint256) or url(uint256)\n                            const selector = (scheme === \"erc721\") ? \"0xc87b56dd\" : \"0x0e89341c\";\n                            linkage.push({ type: scheme, content: avatar });\n                            // The owner of this name\n                            const owner = (this._resolvedAddress || (yield this.getAddress()));\n                            const comps = (match[2] || \"\").split(\"/\");\n                            if (comps.length !== 2) {\n                                return null;\n                            }\n                            const addr = yield this.provider.formatter.address(comps[0]);\n                            const tokenId = hexZeroPad(BigNumber.from(comps[1]).toHexString(), 32);\n                            // Check that this account owns the token\n                            if (scheme === \"erc721\") {\n                                // ownerOf(uint256 tokenId)\n                                const tokenOwner = this.provider.formatter.callAddress(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x6352211e\", tokenId])\n                                }));\n                                if (owner !== tokenOwner) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"owner\", content: tokenOwner });\n                            }\n                            else if (scheme === \"erc1155\") {\n                                // balanceOf(address owner, uint256 tokenId)\n                                const balance = BigNumber.from(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x00fdd58e\", hexZeroPad(owner, 32), tokenId])\n                                }));\n                                if (balance.isZero()) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"balance\", content: balance.toString() });\n                            }\n                            // Call the token contract for the metadata URL\n                            const tx = {\n                                to: this.provider.formatter.address(comps[0]),\n                                data: hexConcat([selector, tokenId])\n                            };\n                            let metadataUrl = _parseString(yield this.provider.call(tx), 0);\n                            if (metadataUrl == null) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata-url-base\", content: metadataUrl });\n                            // ERC-1155 allows a generic {id} in the URL\n                            if (scheme === \"erc1155\") {\n                                metadataUrl = metadataUrl.replace(\"{id}\", tokenId.substring(2));\n                                linkage.push({ type: \"metadata-url-expanded\", content: metadataUrl });\n                            }\n                            // Transform IPFS metadata links\n                            if (metadataUrl.match(/^ipfs:/i)) {\n                                metadataUrl = getIpfsLink(metadataUrl);\n                            }\n                            linkage.push({ type: \"metadata-url\", content: metadataUrl });\n                            // Get the token metadata\n                            const metadata = yield fetchJson(metadataUrl);\n                            if (!metadata) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata\", content: JSON.stringify(metadata) });\n                            // Pull the image URL out\n                            let imageUrl = metadata.image;\n                            if (typeof (imageUrl) !== \"string\") {\n                                return null;\n                            }\n                            if (imageUrl.match(/^(https:\\/\\/|data:)/i)) {\n                                // Allow\n                            }\n                            else {\n                                // Transform IPFS link to gateway\n                                const ipfs = imageUrl.match(matcherIpfs);\n                                if (ipfs == null) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"url-ipfs\", content: imageUrl });\n                                imageUrl = getIpfsLink(imageUrl);\n                            }\n                            linkage.push({ type: \"url\", content: imageUrl });\n                            return { linkage, url: imageUrl };\n                        }\n                    }\n                }\n            }\n            catch (error) { }\n            return null;\n        });\n    }\n    getContentHash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // keccak256(\"contenthash()\")\n            const hexBytes = yield this._fetchBytes(\"0xbc1c58d1\");\n            // No contenthash\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // IPFS (CID: 1, Type: DAG-PB)\n            const ipfs = hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipfs) {\n                const length = parseInt(ipfs[3], 16);\n                if (ipfs[4].length === length * 2) {\n                    return \"ipfs:/\\/\" + Base58.encode(\"0x\" + ipfs[1]);\n                }\n            }\n            // IPNS (CID: 1, Type: libp2p-key)\n            const ipns = hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipns) {\n                const length = parseInt(ipns[3], 16);\n                if (ipns[4].length === length * 2) {\n                    return \"ipns:/\\/\" + Base58.encode(\"0x\" + ipns[1]);\n                }\n            }\n            // Swarm (CID: 1, Type: swarm-manifest; hash/length hard-coded to keccak256/32)\n            const swarm = hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/);\n            if (swarm) {\n                if (swarm[1].length === (32 * 2)) {\n                    return \"bzz:/\\/\" + swarm[1];\n                }\n            }\n            const skynet = hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);\n            if (skynet) {\n                if (skynet[1].length === (34 * 2)) {\n                    // URL Safe base64; https://datatracker.ietf.org/doc/html/rfc4648#section-5\n                    const urlSafe = { \"=\": \"\", \"+\": \"-\", \"/\": \"_\" };\n                    const hash = base64Encode(\"0x\" + skynet[1]).replace(/[=+\\/]/g, (a) => (urlSafe[a]));\n                    return \"sia:/\\/\" + hash;\n                }\n            }\n            return logger.throwError(`invalid or unsupported content hash data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"getContentHash()\",\n                data: hexBytes\n            });\n        });\n    }\n    getText(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // The key encoded as parameter to fetchBytes\n            let keyBytes = toUtf8Bytes(key);\n            // The nodehash consumes the first slot, so the string pointer targets\n            // offset 64, with the length at offset 64 and data starting at offset 96\n            keyBytes = concat([bytes32ify(64), bytes32ify(keyBytes.length), keyBytes]);\n            // Pad to word-size (32 bytes)\n            if ((keyBytes.length % 32) !== 0) {\n                keyBytes = concat([keyBytes, hexZeroPad(\"0x\", 32 - (key.length % 32))]);\n            }\n            const hexBytes = yield this._fetchBytes(\"0x59d1d43c\", hexlify(keyBytes));\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            return toUtf8String(hexBytes);\n        });\n    }\n}\nlet defaultFormatter = null;\nlet nextPollId = 1;\nexport class BaseProvider extends Provider {\n    /**\n     *  ready\n     *\n     *  A Promise<Network> that resolves only once the provider is ready.\n     *\n     *  Sub-classes that call the super with a network without a chainId\n     *  MUST set this. Standard named networks have a known chainId.\n     *\n     */\n    constructor(network) {\n        super();\n        // Events being listened to\n        this._events = [];\n        this._emitted = { block: -2 };\n        this.disableCcipRead = false;\n        this.formatter = new.target.getFormatter();\n        // If network is any, this Provider allows the underlying\n        // network to change dynamically, and we auto-detect the\n        // current network\n        defineReadOnly(this, \"anyNetwork\", (network === \"any\"));\n        if (this.anyNetwork) {\n            network = this.detectNetwork();\n        }\n        if (network instanceof Promise) {\n            this._networkPromise = network;\n            // Squash any \"unhandled promise\" errors; that do not need to be handled\n            network.catch((error) => { });\n            // Trigger initial network setting (async)\n            this._ready().catch((error) => { });\n        }\n        else {\n            const knownNetwork = getStatic(new.target, \"getNetwork\")(network);\n            if (knownNetwork) {\n                defineReadOnly(this, \"_network\", knownNetwork);\n                this.emit(\"network\", knownNetwork, null);\n            }\n            else {\n                logger.throwArgumentError(\"invalid network\", \"network\", network);\n            }\n        }\n        this._maxInternalBlockNumber = -1024;\n        this._lastBlockNumber = -2;\n        this._maxFilterBlockRange = 10;\n        this._pollingInterval = 4000;\n        this._fastQueryDate = 0;\n    }\n    _ready() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._network == null) {\n                let network = null;\n                if (this._networkPromise) {\n                    try {\n                        network = yield this._networkPromise;\n                    }\n                    catch (error) { }\n                }\n                // Try the Provider's network detection (this MUST throw if it cannot)\n                if (network == null) {\n                    network = yield this.detectNetwork();\n                }\n                // This should never happen; every Provider sub-class should have\n                // suggested a network by here (or have thrown).\n                if (!network) {\n                    logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, {});\n                }\n                // Possible this call stacked so do not call defineReadOnly again\n                if (this._network == null) {\n                    if (this.anyNetwork) {\n                        this._network = network;\n                    }\n                    else {\n                        defineReadOnly(this, \"_network\", network);\n                    }\n                    this.emit(\"network\", network, null);\n                }\n            }\n            return this._network;\n        });\n    }\n    // This will always return the most recently established network.\n    // For \"any\", this can change (a \"network\" event is emitted before\n    // any change is reflected); otherwise this cannot change\n    get ready() {\n        return poll(() => {\n            return this._ready().then((network) => {\n                return network;\n            }, (error) => {\n                // If the network isn't running yet, we will wait\n                if (error.code === Logger.errors.NETWORK_ERROR && error.event === \"noNetwork\") {\n                    return undefined;\n                }\n                throw error;\n            });\n        });\n    }\n    // @TODO: Remove this and just create a singleton formatter\n    static getFormatter() {\n        if (defaultFormatter == null) {\n            defaultFormatter = new Formatter();\n        }\n        return defaultFormatter;\n    }\n    // @TODO: Remove this and just use getNetwork\n    static getNetwork(network) {\n        return getNetwork((network == null) ? \"homestead\" : network);\n    }\n    ccipReadFetch(tx, calldata, urls) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disableCcipRead || urls.length === 0) {\n                return null;\n            }\n            const sender = tx.to.toLowerCase();\n            const data = calldata.toLowerCase();\n            const errorMessages = [];\n            for (let i = 0; i < urls.length; i++) {\n                const url = urls[i];\n                // URL expansion\n                const href = url.replace(\"{sender}\", sender).replace(\"{data}\", data);\n                // If no {data} is present, use POST; otherwise GET\n                const json = (url.indexOf(\"{data}\") >= 0) ? null : JSON.stringify({ data, sender });\n                const result = yield fetchJson({ url: href, errorPassThrough: true }, json, (value, response) => {\n                    value.status = response.statusCode;\n                    return value;\n                });\n                if (result.data) {\n                    return result.data;\n                }\n                const errorMessage = (result.message || \"unknown error\");\n                // 4xx indicates the result is not present; stop\n                if (result.status >= 400 && result.status < 500) {\n                    return logger.throwError(`response not found during CCIP fetch: ${errorMessage}`, Logger.errors.SERVER_ERROR, { url, errorMessage });\n                }\n                // 5xx indicates server issue; try the next url\n                errorMessages.push(errorMessage);\n            }\n            return logger.throwError(`error encountered during CCIP fetch: ${errorMessages.map((m) => JSON.stringify(m)).join(\", \")}`, Logger.errors.SERVER_ERROR, {\n                urls, errorMessages\n            });\n        });\n    }\n    // Fetches the blockNumber, but will reuse any result that is less\n    // than maxAge old or has been requested since the last request\n    _getInternalBlockNumber(maxAge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._ready();\n            // Allowing stale data up to maxAge old\n            if (maxAge > 0) {\n                // While there are pending internal block requests...\n                while (this._internalBlockNumber) {\n                    // ...\"remember\" which fetch we started with\n                    const internalBlockNumber = this._internalBlockNumber;\n                    try {\n                        // Check the result is not too stale\n                        const result = yield internalBlockNumber;\n                        if ((getTime() - result.respTime) <= maxAge) {\n                            return result.blockNumber;\n                        }\n                        // Too old; fetch a new value\n                        break;\n                    }\n                    catch (error) {\n                        // The fetch rejected; if we are the first to get the\n                        // rejection, drop through so we replace it with a new\n                        // fetch; all others blocked will then get that fetch\n                        // which won't match the one they \"remembered\" and loop\n                        if (this._internalBlockNumber === internalBlockNumber) {\n                            break;\n                        }\n                    }\n                }\n            }\n            const reqTime = getTime();\n            const checkInternalBlockNumber = resolveProperties({\n                blockNumber: this.perform(\"getBlockNumber\", {}),\n                networkError: this.getNetwork().then((network) => (null), (error) => (error))\n            }).then(({ blockNumber, networkError }) => {\n                if (networkError) {\n                    // Unremember this bad internal block number\n                    if (this._internalBlockNumber === checkInternalBlockNumber) {\n                        this._internalBlockNumber = null;\n                    }\n                    throw networkError;\n                }\n                const respTime = getTime();\n                blockNumber = BigNumber.from(blockNumber).toNumber();\n                if (blockNumber < this._maxInternalBlockNumber) {\n                    blockNumber = this._maxInternalBlockNumber;\n                }\n                this._maxInternalBlockNumber = blockNumber;\n                this._setFastBlockNumber(blockNumber); // @TODO: Still need this?\n                return { blockNumber, reqTime, respTime };\n            });\n            this._internalBlockNumber = checkInternalBlockNumber;\n            // Swallow unhandled exceptions; if needed they are handled else where\n            checkInternalBlockNumber.catch((error) => {\n                // Don't null the dead (rejected) fetch, if it has already been updated\n                if (this._internalBlockNumber === checkInternalBlockNumber) {\n                    this._internalBlockNumber = null;\n                }\n            });\n            return (yield checkInternalBlockNumber).blockNumber;\n        });\n    }\n    poll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const pollId = nextPollId++;\n            // Track all running promises, so we can trigger a post-poll once they are complete\n            const runners = [];\n            let blockNumber = null;\n            try {\n                blockNumber = yield this._getInternalBlockNumber(100 + this.pollingInterval / 2);\n            }\n            catch (error) {\n                this.emit(\"error\", error);\n                return;\n            }\n            this._setFastBlockNumber(blockNumber);\n            // Emit a poll event after we have the latest (fast) block number\n            this.emit(\"poll\", pollId, blockNumber);\n            // If the block has not changed, meh.\n            if (blockNumber === this._lastBlockNumber) {\n                this.emit(\"didPoll\", pollId);\n                return;\n            }\n            // First polling cycle, trigger a \"block\" events\n            if (this._emitted.block === -2) {\n                this._emitted.block = blockNumber - 1;\n            }\n            if (Math.abs((this._emitted.block) - blockNumber) > 1000) {\n                logger.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${blockNumber})`);\n                this.emit(\"error\", logger.makeError(\"network block skew detected\", Logger.errors.NETWORK_ERROR, {\n                    blockNumber: blockNumber,\n                    event: \"blockSkew\",\n                    previousBlockNumber: this._emitted.block\n                }));\n                this.emit(\"block\", blockNumber);\n            }\n            else {\n                // Notify all listener for each block that has passed\n                for (let i = this._emitted.block + 1; i <= blockNumber; i++) {\n                    this.emit(\"block\", i);\n                }\n            }\n            // The emitted block was updated, check for obsolete events\n            if (this._emitted.block !== blockNumber) {\n                this._emitted.block = blockNumber;\n                Object.keys(this._emitted).forEach((key) => {\n                    // The block event does not expire\n                    if (key === \"block\") {\n                        return;\n                    }\n                    // The block we were at when we emitted this event\n                    const eventBlockNumber = this._emitted[key];\n                    // We cannot garbage collect pending transactions or blocks here\n                    // They should be garbage collected by the Provider when setting\n                    // \"pending\" events\n                    if (eventBlockNumber === \"pending\") {\n                        return;\n                    }\n                    // Evict any transaction hashes or block hashes over 12 blocks\n                    // old, since they should not return null anyways\n                    if (blockNumber - eventBlockNumber > 12) {\n                        delete this._emitted[key];\n                    }\n                });\n            }\n            // First polling cycle\n            if (this._lastBlockNumber === -2) {\n                this._lastBlockNumber = blockNumber - 1;\n            }\n            // Find all transaction hashes we are waiting on\n            this._events.forEach((event) => {\n                switch (event.type) {\n                    case \"tx\": {\n                        const hash = event.hash;\n                        let runner = this.getTransactionReceipt(hash).then((receipt) => {\n                            if (!receipt || receipt.blockNumber == null) {\n                                return null;\n                            }\n                            this._emitted[\"t:\" + hash] = receipt.blockNumber;\n                            this.emit(hash, receipt);\n                            return null;\n                        }).catch((error) => { this.emit(\"error\", error); });\n                        runners.push(runner);\n                        break;\n                    }\n                    case \"filter\": {\n                        // We only allow a single getLogs to be in-flight at a time\n                        if (!event._inflight) {\n                            event._inflight = true;\n                            // Filter from the last known event; due to load-balancing\n                            // and some nodes returning updated block numbers before\n                            // indexing events, a logs result with 0 entries cannot be\n                            // trusted and we must retry a range which includes it again\n                            const filter = event.filter;\n                            filter.fromBlock = event._lastBlockNumber + 1;\n                            filter.toBlock = blockNumber;\n                            // Prevent fitler ranges from growing too wild\n                            if (filter.toBlock - this._maxFilterBlockRange > filter.fromBlock) {\n                                filter.fromBlock = filter.toBlock - this._maxFilterBlockRange;\n                            }\n                            const runner = this.getLogs(filter).then((logs) => {\n                                // Allow the next getLogs\n                                event._inflight = false;\n                                if (logs.length === 0) {\n                                    return;\n                                }\n                                logs.forEach((log) => {\n                                    // Only when we get an event for a given block number\n                                    // can we trust the events are indexed\n                                    if (log.blockNumber > event._lastBlockNumber) {\n                                        event._lastBlockNumber = log.blockNumber;\n                                    }\n                                    // Make sure we stall requests to fetch blocks and txs\n                                    this._emitted[\"b:\" + log.blockHash] = log.blockNumber;\n                                    this._emitted[\"t:\" + log.transactionHash] = log.blockNumber;\n                                    this.emit(filter, log);\n                                });\n                            }).catch((error) => {\n                                this.emit(\"error\", error);\n                                // Allow another getLogs (the range was not updated)\n                                event._inflight = false;\n                            });\n                            runners.push(runner);\n                        }\n                        break;\n                    }\n                }\n            });\n            this._lastBlockNumber = blockNumber;\n            // Once all events for this loop have been processed, emit \"didPoll\"\n            Promise.all(runners).then(() => {\n                this.emit(\"didPoll\", pollId);\n            }).catch((error) => { this.emit(\"error\", error); });\n            return;\n        });\n    }\n    // Deprecated; do not use this\n    resetEventsBlock(blockNumber) {\n        this._lastBlockNumber = blockNumber - 1;\n        if (this.polling) {\n            this.poll();\n        }\n    }\n    get network() {\n        return this._network;\n    }\n    // This method should query the network if the underlying network\n    // can change, such as when connected to a JSON-RPC backend\n    detectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return logger.throwError(\"provider does not support network detection\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"provider.detectNetwork\"\n            });\n        });\n    }\n    getNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const network = yield this._ready();\n            // Make sure we are still connected to the same network; this is\n            // only an external call for backends which can have the underlying\n            // network change spontaneously\n            const currentNetwork = yield this.detectNetwork();\n            if (network.chainId !== currentNetwork.chainId) {\n                // We are allowing network changes, things can get complex fast;\n                // make sure you know what you are doing if you use \"any\"\n                if (this.anyNetwork) {\n                    this._network = currentNetwork;\n                    // Reset all internal block number guards and caches\n                    this._lastBlockNumber = -2;\n                    this._fastBlockNumber = null;\n                    this._fastBlockNumberPromise = null;\n                    this._fastQueryDate = 0;\n                    this._emitted.block = -2;\n                    this._maxInternalBlockNumber = -1024;\n                    this._internalBlockNumber = null;\n                    // The \"network\" event MUST happen before this method resolves\n                    // so any events have a chance to unregister, so we stall an\n                    // additional event loop before returning from /this/ call\n                    this.emit(\"network\", currentNetwork, network);\n                    yield stall(0);\n                    return this._network;\n                }\n                const error = logger.makeError(\"underlying network changed\", Logger.errors.NETWORK_ERROR, {\n                    event: \"changed\",\n                    network: network,\n                    detectedNetwork: currentNetwork\n                });\n                this.emit(\"error\", error);\n                throw error;\n            }\n            return network;\n        });\n    }\n    get blockNumber() {\n        this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((blockNumber) => {\n            this._setFastBlockNumber(blockNumber);\n        }, (error) => { });\n        return (this._fastBlockNumber != null) ? this._fastBlockNumber : -1;\n    }\n    get polling() {\n        return (this._poller != null);\n    }\n    set polling(value) {\n        if (value && !this._poller) {\n            this._poller = setInterval(() => { this.poll(); }, this.pollingInterval);\n            if (!this._bootstrapPoll) {\n                this._bootstrapPoll = setTimeout(() => {\n                    this.poll();\n                    // We block additional polls until the polling interval\n                    // is done, to prevent overwhelming the poll function\n                    this._bootstrapPoll = setTimeout(() => {\n                        // If polling was disabled, something may require a poke\n                        // since starting the bootstrap poll and it was disabled\n                        if (!this._poller) {\n                            this.poll();\n                        }\n                        // Clear out the bootstrap so we can do another\n                        this._bootstrapPoll = null;\n                    }, this.pollingInterval);\n                }, 0);\n            }\n        }\n        else if (!value && this._poller) {\n            clearInterval(this._poller);\n            this._poller = null;\n        }\n    }\n    get pollingInterval() {\n        return this._pollingInterval;\n    }\n    set pollingInterval(value) {\n        if (typeof (value) !== \"number\" || value <= 0 || parseInt(String(value)) != value) {\n            throw new Error(\"invalid polling interval\");\n        }\n        this._pollingInterval = value;\n        if (this._poller) {\n            clearInterval(this._poller);\n            this._poller = setInterval(() => { this.poll(); }, this._pollingInterval);\n        }\n    }\n    _getFastBlockNumber() {\n        const now = getTime();\n        // Stale block number, request a newer value\n        if ((now - this._fastQueryDate) > 2 * this._pollingInterval) {\n            this._fastQueryDate = now;\n            this._fastBlockNumberPromise = this.getBlockNumber().then((blockNumber) => {\n                if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n                    this._fastBlockNumber = blockNumber;\n                }\n                return this._fastBlockNumber;\n            });\n        }\n        return this._fastBlockNumberPromise;\n    }\n    _setFastBlockNumber(blockNumber) {\n        // Older block, maybe a stale request\n        if (this._fastBlockNumber != null && blockNumber < this._fastBlockNumber) {\n            return;\n        }\n        // Update the time we updated the blocknumber\n        this._fastQueryDate = getTime();\n        // Newer block number, use  it\n        if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n            this._fastBlockNumber = blockNumber;\n            this._fastBlockNumberPromise = Promise.resolve(blockNumber);\n        }\n    }\n    waitForTransaction(transactionHash, confirmations, timeout) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._waitForTransaction(transactionHash, (confirmations == null) ? 1 : confirmations, timeout || 0, null);\n        });\n    }\n    _waitForTransaction(transactionHash, confirmations, timeout, replaceable) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const receipt = yield this.getTransactionReceipt(transactionHash);\n            // Receipt is already good\n            if ((receipt ? receipt.confirmations : 0) >= confirmations) {\n                return receipt;\n            }\n            // Poll until the receipt is good...\n            return new Promise((resolve, reject) => {\n                const cancelFuncs = [];\n                let done = false;\n                const alreadyDone = function () {\n                    if (done) {\n                        return true;\n                    }\n                    done = true;\n                    cancelFuncs.forEach((func) => { func(); });\n                    return false;\n                };\n                const minedHandler = (receipt) => {\n                    if (receipt.confirmations < confirmations) {\n                        return;\n                    }\n                    if (alreadyDone()) {\n                        return;\n                    }\n                    resolve(receipt);\n                };\n                this.on(transactionHash, minedHandler);\n                cancelFuncs.push(() => { this.removeListener(transactionHash, minedHandler); });\n                if (replaceable) {\n                    let lastBlockNumber = replaceable.startBlock;\n                    let scannedBlock = null;\n                    const replaceHandler = (blockNumber) => __awaiter(this, void 0, void 0, function* () {\n                        if (done) {\n                            return;\n                        }\n                        // Wait 1 second; this is only used in the case of a fault, so\n                        // we will trade off a little bit of latency for more consistent\n                        // results and fewer JSON-RPC calls\n                        yield stall(1000);\n                        this.getTransactionCount(replaceable.from).then((nonce) => __awaiter(this, void 0, void 0, function* () {\n                            if (done) {\n                                return;\n                            }\n                            if (nonce <= replaceable.nonce) {\n                                lastBlockNumber = blockNumber;\n                            }\n                            else {\n                                // First check if the transaction was mined\n                                {\n                                    const mined = yield this.getTransaction(transactionHash);\n                                    if (mined && mined.blockNumber != null) {\n                                        return;\n                                    }\n                                }\n                                // First time scanning. We start a little earlier for some\n                                // wiggle room here to handle the eventually consistent nature\n                                // of blockchain (e.g. the getTransactionCount was for a\n                                // different block)\n                                if (scannedBlock == null) {\n                                    scannedBlock = lastBlockNumber - 3;\n                                    if (scannedBlock < replaceable.startBlock) {\n                                        scannedBlock = replaceable.startBlock;\n                                    }\n                                }\n                                while (scannedBlock <= blockNumber) {\n                                    if (done) {\n                                        return;\n                                    }\n                                    const block = yield this.getBlockWithTransactions(scannedBlock);\n                                    for (let ti = 0; ti < block.transactions.length; ti++) {\n                                        const tx = block.transactions[ti];\n                                        // Successfully mined!\n                                        if (tx.hash === transactionHash) {\n                                            return;\n                                        }\n                                        // Matches our transaction from and nonce; its a replacement\n                                        if (tx.from === replaceable.from && tx.nonce === replaceable.nonce) {\n                                            if (done) {\n                                                return;\n                                            }\n                                            // Get the receipt of the replacement\n                                            const receipt = yield this.waitForTransaction(tx.hash, confirmations);\n                                            // Already resolved or rejected (prolly a timeout)\n                                            if (alreadyDone()) {\n                                                return;\n                                            }\n                                            // The reason we were replaced\n                                            let reason = \"replaced\";\n                                            if (tx.data === replaceable.data && tx.to === replaceable.to && tx.value.eq(replaceable.value)) {\n                                                reason = \"repriced\";\n                                            }\n                                            else if (tx.data === \"0x\" && tx.from === tx.to && tx.value.isZero()) {\n                                                reason = \"cancelled\";\n                                            }\n                                            // Explain why we were replaced\n                                            reject(logger.makeError(\"transaction was replaced\", Logger.errors.TRANSACTION_REPLACED, {\n                                                cancelled: (reason === \"replaced\" || reason === \"cancelled\"),\n                                                reason,\n                                                replacement: this._wrapTransaction(tx),\n                                                hash: transactionHash,\n                                                receipt\n                                            }));\n                                            return;\n                                        }\n                                    }\n                                    scannedBlock++;\n                                }\n                            }\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        }), (error) => {\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        });\n                    });\n                    if (done) {\n                        return;\n                    }\n                    this.once(\"block\", replaceHandler);\n                    cancelFuncs.push(() => {\n                        this.removeListener(\"block\", replaceHandler);\n                    });\n                }\n                if (typeof (timeout) === \"number\" && timeout > 0) {\n                    const timer = setTimeout(() => {\n                        if (alreadyDone()) {\n                            return;\n                        }\n                        reject(logger.makeError(\"timeout exceeded\", Logger.errors.TIMEOUT, { timeout: timeout }));\n                    }, timeout);\n                    if (timer.unref) {\n                        timer.unref();\n                    }\n                    cancelFuncs.push(() => { clearTimeout(timer); });\n                }\n            });\n        });\n    }\n    getBlockNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._getInternalBlockNumber(0);\n        });\n    }\n    getGasPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const result = yield this.perform(\"getGasPrice\", {});\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getGasPrice\",\n                    result, error\n                });\n            }\n        });\n    }\n    getBalance(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getBalance\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getBalance\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getTransactionCount(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getTransactionCount\", params);\n            try {\n                return BigNumber.from(result).toNumber();\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getTransactionCount\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getCode(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getCode\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getCode\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getStorageAt(addressOrName, position, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag),\n                position: Promise.resolve(position).then((p) => hexValue(p))\n            });\n            const result = yield this.perform(\"getStorageAt\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getStorageAt\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    // This should be called by any subclass wrapping a TransactionResponse\n    _wrapTransaction(tx, hash, startBlock) {\n        if (hash != null && hexDataLength(hash) !== 32) {\n            throw new Error(\"invalid response - sendTransaction\");\n        }\n        const result = tx;\n        // Check the hash we expect is the same as the hash the server reported\n        if (hash != null && tx.hash !== hash) {\n            logger.throwError(\"Transaction hash mismatch from Provider.sendTransaction.\", Logger.errors.UNKNOWN_ERROR, { expectedHash: tx.hash, returnedHash: hash });\n        }\n        result.wait = (confirms, timeout) => __awaiter(this, void 0, void 0, function* () {\n            if (confirms == null) {\n                confirms = 1;\n            }\n            if (timeout == null) {\n                timeout = 0;\n            }\n            // Get the details to detect replacement\n            let replacement = undefined;\n            if (confirms !== 0 && startBlock != null) {\n                replacement = {\n                    data: tx.data,\n                    from: tx.from,\n                    nonce: tx.nonce,\n                    to: tx.to,\n                    value: tx.value,\n                    startBlock\n                };\n            }\n            const receipt = yield this._waitForTransaction(tx.hash, confirms, timeout, replacement);\n            if (receipt == null && confirms === 0) {\n                return null;\n            }\n            // No longer pending, allow the polling loop to garbage collect this\n            this._emitted[\"t:\" + tx.hash] = receipt.blockNumber;\n            if (receipt.status === 0) {\n                logger.throwError(\"transaction failed\", Logger.errors.CALL_EXCEPTION, {\n                    transactionHash: tx.hash,\n                    transaction: tx,\n                    receipt: receipt\n                });\n            }\n            return receipt;\n        });\n        return result;\n    }\n    sendTransaction(signedTransaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const hexTx = yield Promise.resolve(signedTransaction).then(t => hexlify(t));\n            const tx = this.formatter.transaction(signedTransaction);\n            if (tx.confirmations == null) {\n                tx.confirmations = 0;\n            }\n            const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n            try {\n                const hash = yield this.perform(\"sendTransaction\", { signedTransaction: hexTx });\n                return this._wrapTransaction(tx, hash, blockNumber);\n            }\n            catch (error) {\n                error.transaction = tx;\n                error.transactionHash = tx.hash;\n                throw error;\n            }\n        });\n    }\n    _getTransactionRequest(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const values = yield transaction;\n            const tx = {};\n            [\"from\", \"to\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? this._getAddress(v) : null));\n            });\n            [\"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"value\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? BigNumber.from(v) : null));\n            });\n            [\"type\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => ((v != null) ? v : null));\n            });\n            if (values.accessList) {\n                tx.accessList = this.formatter.accessList(values.accessList);\n            }\n            [\"data\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? hexlify(v) : null));\n            });\n            return this.formatter.transactionRequest(yield resolveProperties(tx));\n        });\n    }\n    _getFilter(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            filter = yield filter;\n            const result = {};\n            if (filter.address != null) {\n                result.address = this._getAddress(filter.address);\n            }\n            [\"blockHash\", \"topics\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = filter[key];\n            });\n            [\"fromBlock\", \"toBlock\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = this._getBlockTag(filter[key]);\n            });\n            return this.formatter.filter(yield resolveProperties(result));\n        });\n    }\n    _call(transaction, blockTag, attempt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (attempt >= MAX_CCIP_REDIRECTS) {\n                logger.throwError(\"CCIP read exceeded maximum redirections\", Logger.errors.SERVER_ERROR, {\n                    redirects: attempt, transaction\n                });\n            }\n            const txSender = transaction.to;\n            const result = yield this.perform(\"call\", { transaction, blockTag });\n            // CCIP Read request via OffchainLookup(address,string[],bytes,bytes4,bytes)\n            if (attempt >= 0 && blockTag === \"latest\" && txSender != null && result.substring(0, 10) === \"0x556f1830\" && (hexDataLength(result) % 32 === 4)) {\n                try {\n                    const data = hexDataSlice(result, 4);\n                    // Check the sender of the OffchainLookup matches the transaction\n                    const sender = hexDataSlice(data, 0, 32);\n                    if (!BigNumber.from(sender).eq(txSender)) {\n                        logger.throwError(\"CCIP Read sender did not match\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    // Read the URLs from the response\n                    const urls = [];\n                    const urlsOffset = BigNumber.from(hexDataSlice(data, 32, 64)).toNumber();\n                    const urlsLength = BigNumber.from(hexDataSlice(data, urlsOffset, urlsOffset + 32)).toNumber();\n                    const urlsData = hexDataSlice(data, urlsOffset + 32);\n                    for (let u = 0; u < urlsLength; u++) {\n                        const url = _parseString(urlsData, u * 32);\n                        if (url == null) {\n                            logger.throwError(\"CCIP Read contained corrupt URL string\", Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction, data: result\n                            });\n                        }\n                        urls.push(url);\n                    }\n                    // Get the CCIP calldata to forward\n                    const calldata = _parseBytes(data, 64);\n                    // Get the callbackSelector (bytes4)\n                    if (!BigNumber.from(hexDataSlice(data, 100, 128)).isZero()) {\n                        logger.throwError(\"CCIP Read callback selector included junk\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const callbackSelector = hexDataSlice(data, 96, 100);\n                    // Get the extra data to send back to the contract as context\n                    const extraData = _parseBytes(data, 128);\n                    const ccipResult = yield this.ccipReadFetch(transaction, calldata, urls);\n                    if (ccipResult == null) {\n                        logger.throwError(\"CCIP Read disabled or provided no URLs\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const tx = {\n                        to: txSender,\n                        data: hexConcat([callbackSelector, encodeBytes([ccipResult, extraData])])\n                    };\n                    return this._call(tx, blockTag, attempt + 1);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.SERVER_ERROR) {\n                        throw error;\n                    }\n                }\n            }\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"call\",\n                    params: { transaction, blockTag }, result, error\n                });\n            }\n        });\n    }\n    call(transaction, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const resolved = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction),\n                blockTag: this._getBlockTag(blockTag),\n                ccipReadEnabled: Promise.resolve(transaction.ccipReadEnabled)\n            });\n            return this._call(resolved.transaction, resolved.blockTag, resolved.ccipReadEnabled ? 0 : -1);\n        });\n    }\n    estimateGas(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction)\n            });\n            const result = yield this.perform(\"estimateGas\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"estimateGas\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    _getAddress(addressOrName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            addressOrName = yield addressOrName;\n            if (typeof (addressOrName) !== \"string\") {\n                logger.throwArgumentError(\"invalid address or ENS name\", \"name\", addressOrName);\n            }\n            const address = yield this.resolveName(addressOrName);\n            if (address == null) {\n                logger.throwError(\"ENS name not configured\", Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `resolveName(${JSON.stringify(addressOrName)})`\n                });\n            }\n            return address;\n        });\n    }\n    _getBlock(blockHashOrBlockTag, includeTransactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            blockHashOrBlockTag = yield blockHashOrBlockTag;\n            // If blockTag is a number (not \"latest\", etc), this is the block number\n            let blockNumber = -128;\n            const params = {\n                includeTransactions: !!includeTransactions\n            };\n            if (isHexString(blockHashOrBlockTag, 32)) {\n                params.blockHash = blockHashOrBlockTag;\n            }\n            else {\n                try {\n                    params.blockTag = yield this._getBlockTag(blockHashOrBlockTag);\n                    if (isHexString(params.blockTag)) {\n                        blockNumber = parseInt(params.blockTag.substring(2), 16);\n                    }\n                }\n                catch (error) {\n                    logger.throwArgumentError(\"invalid block hash or block tag\", \"blockHashOrBlockTag\", blockHashOrBlockTag);\n                }\n            }\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const block = yield this.perform(\"getBlock\", params);\n                // Block was not found\n                if (block == null) {\n                    // For blockhashes, if we didn't say it existed, that blockhash may\n                    // not exist. If we did see it though, perhaps from a log, we know\n                    // it exists, and this node is just not caught up yet.\n                    if (params.blockHash != null) {\n                        if (this._emitted[\"b:\" + params.blockHash] == null) {\n                            return null;\n                        }\n                    }\n                    // For block tags, if we are asking for a future block, we return null\n                    if (params.blockTag != null) {\n                        if (blockNumber > this._emitted.block) {\n                            return null;\n                        }\n                    }\n                    // Retry on the next block\n                    return undefined;\n                }\n                // Add transactions\n                if (includeTransactions) {\n                    let blockNumber = null;\n                    for (let i = 0; i < block.transactions.length; i++) {\n                        const tx = block.transactions[i];\n                        if (tx.blockNumber == null) {\n                            tx.confirmations = 0;\n                        }\n                        else if (tx.confirmations == null) {\n                            if (blockNumber == null) {\n                                blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                            }\n                            // Add the confirmations using the fast block number (pessimistic)\n                            let confirmations = (blockNumber - tx.blockNumber) + 1;\n                            if (confirmations <= 0) {\n                                confirmations = 1;\n                            }\n                            tx.confirmations = confirmations;\n                        }\n                    }\n                    const blockWithTxs = this.formatter.blockWithTransactions(block);\n                    blockWithTxs.transactions = blockWithTxs.transactions.map((tx) => this._wrapTransaction(tx));\n                    return blockWithTxs;\n                }\n                return this.formatter.block(block);\n            }), { oncePoll: this });\n        });\n    }\n    getBlock(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, false));\n    }\n    getBlockWithTransactions(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, true));\n    }\n    getTransaction(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransaction\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                const tx = this.formatter.transactionResponse(result);\n                if (tx.blockNumber == null) {\n                    tx.confirmations = 0;\n                }\n                else if (tx.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - tx.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    tx.confirmations = confirmations;\n                }\n                return this._wrapTransaction(tx);\n            }), { oncePoll: this });\n        });\n    }\n    getTransactionReceipt(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransactionReceipt\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                // \"geth-etc\" returns receipts before they are ready\n                if (result.blockHash == null) {\n                    return undefined;\n                }\n                const receipt = this.formatter.receipt(result);\n                if (receipt.blockNumber == null) {\n                    receipt.confirmations = 0;\n                }\n                else if (receipt.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - receipt.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    receipt.confirmations = confirmations;\n                }\n                return receipt;\n            }), { oncePoll: this });\n        });\n    }\n    getLogs(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({ filter: this._getFilter(filter) });\n            const logs = yield this.perform(\"getLogs\", params);\n            logs.forEach((log) => {\n                if (log.removed == null) {\n                    log.removed = false;\n                }\n            });\n            return Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs);\n        });\n    }\n    getEtherPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            return this.perform(\"getEtherPrice\", {});\n        });\n    }\n    _getBlockTag(blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            blockTag = yield blockTag;\n            if (typeof (blockTag) === \"number\" && blockTag < 0) {\n                if (blockTag % 1) {\n                    logger.throwArgumentError(\"invalid BlockTag\", \"blockTag\", blockTag);\n                }\n                let blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                blockNumber += blockTag;\n                if (blockNumber < 0) {\n                    blockNumber = 0;\n                }\n                return this.formatter.blockTag(blockNumber);\n            }\n            return this.formatter.blockTag(blockTag);\n        });\n    }\n    getResolver(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let currentName = name;\n            while (true) {\n                if (currentName === \"\" || currentName === \".\") {\n                    return null;\n                }\n                // Optimization since the eth node cannot change and does\n                // not have a wildcard resolver\n                if (name !== \"eth\" && currentName === \"eth\") {\n                    return null;\n                }\n                // Check the current node for a resolver\n                const addr = yield this._getResolver(currentName, \"getResolver\");\n                // Found a resolver!\n                if (addr != null) {\n                    const resolver = new Resolver(this, addr, name);\n                    // Legacy resolver found, using EIP-2544 so it isn't safe to use\n                    if (currentName !== name && !(yield resolver.supportsWildcard())) {\n                        return null;\n                    }\n                    return resolver;\n                }\n                // Get the parent node\n                currentName = currentName.split(\".\").slice(1).join(\".\");\n            }\n        });\n    }\n    _getResolver(name, operation) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (operation == null) {\n                operation = \"ENS\";\n            }\n            const network = yield this.getNetwork();\n            // No ENS...\n            if (!network.ensAddress) {\n                logger.throwError(\"network does not support ENS\", Logger.errors.UNSUPPORTED_OPERATION, { operation, network: network.name });\n            }\n            try {\n                // keccak256(\"resolver(bytes32)\")\n                const addrData = yield this.call({\n                    to: network.ensAddress,\n                    data: (\"0x0178b8bf\" + namehash(name).substring(2))\n                });\n                return this.formatter.callAddress(addrData);\n            }\n            catch (error) {\n                // ENS registry cannot throw errors on resolver(bytes32)\n            }\n            return null;\n        });\n    }\n    resolveName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            name = yield name;\n            // If it is already an address, nothing to resolve\n            try {\n                return Promise.resolve(this.formatter.address(name));\n            }\n            catch (error) {\n                // If is is a hexstring, the address is bad (See #694)\n                if (isHexString(name)) {\n                    throw error;\n                }\n            }\n            if (typeof (name) !== \"string\") {\n                logger.throwArgumentError(\"invalid ENS name\", \"name\", name);\n            }\n            // Get the addr from the resolver\n            const resolver = yield this.getResolver(name);\n            if (!resolver) {\n                return null;\n            }\n            return yield resolver.getAddress();\n        });\n    }\n    lookupAddress(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            address = yield address;\n            address = this.formatter.address(address);\n            const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n            const resolverAddr = yield this._getResolver(node, \"lookupAddress\");\n            if (resolverAddr == null) {\n                return null;\n            }\n            // keccak(\"name(bytes32)\")\n            const name = _parseString(yield this.call({\n                to: resolverAddr,\n                data: (\"0x691f3431\" + namehash(node).substring(2))\n            }), 0);\n            const addr = yield this.resolveName(name);\n            if (addr != address) {\n                return null;\n            }\n            return name;\n        });\n    }\n    getAvatar(nameOrAddress) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resolver = null;\n            if (isHexString(nameOrAddress)) {\n                // Address; reverse lookup\n                const address = this.formatter.address(nameOrAddress);\n                const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n                const resolverAddress = yield this._getResolver(node, \"getAvatar\");\n                if (!resolverAddress) {\n                    return null;\n                }\n                // Try resolving the avatar against the addr.reverse resolver\n                resolver = new Resolver(this, resolverAddress, node);\n                try {\n                    const avatar = yield resolver.getAvatar();\n                    if (avatar) {\n                        return avatar.url;\n                    }\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                }\n                // Try getting the name and performing forward lookup; allowing wildcards\n                try {\n                    // keccak(\"name(bytes32)\")\n                    const name = _parseString(yield this.call({\n                        to: resolverAddress,\n                        data: (\"0x691f3431\" + namehash(node).substring(2))\n                    }), 0);\n                    resolver = yield this.getResolver(name);\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                    return null;\n                }\n            }\n            else {\n                // ENS name; forward lookup with wildcard\n                resolver = yield this.getResolver(nameOrAddress);\n                if (!resolver) {\n                    return null;\n                }\n            }\n            const avatar = yield resolver.getAvatar();\n            if (avatar == null) {\n                return null;\n            }\n            return avatar.url;\n        });\n    }\n    perform(method, params) {\n        return logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n    }\n    _startEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _stopEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _addEventListener(eventName, listener, once) {\n        const event = new Event(getEventTag(eventName), listener, once);\n        this._events.push(event);\n        this._startEvent(event);\n        return this;\n    }\n    on(eventName, listener) {\n        return this._addEventListener(eventName, listener, false);\n    }\n    once(eventName, listener) {\n        return this._addEventListener(eventName, listener, true);\n    }\n    emit(eventName, ...args) {\n        let result = false;\n        let stopped = [];\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag) {\n                return true;\n            }\n            setTimeout(() => {\n                event.listener.apply(this, args);\n            }, 0);\n            result = true;\n            if (event.once) {\n                stopped.push(event);\n                return false;\n            }\n            return true;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return result;\n    }\n    listenerCount(eventName) {\n        if (!eventName) {\n            return this._events.length;\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events.filter((event) => {\n            return (event.tag === eventTag);\n        }).length;\n    }\n    listeners(eventName) {\n        if (eventName == null) {\n            return this._events.map((event) => event.listener);\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events\n            .filter((event) => (event.tag === eventTag))\n            .map((event) => event.listener);\n    }\n    off(eventName, listener) {\n        if (listener == null) {\n            return this.removeAllListeners(eventName);\n        }\n        const stopped = [];\n        let found = false;\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag || event.listener != listener) {\n                return true;\n            }\n            if (found) {\n                return true;\n            }\n            found = true;\n            stopped.push(event);\n            return false;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n    removeAllListeners(eventName) {\n        let stopped = [];\n        if (eventName == null) {\n            stopped = this._events;\n            this._events = [];\n        }\n        else {\n            const eventTag = getEventTag(eventName);\n            this._events = this._events.filter((event) => {\n                if (event.tag !== eventTag) {\n                    return true;\n                }\n                stopped.push(event);\n                return false;\n            });\n        }\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n}\n//# sourceMappingURL=base-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Signer } from \"@ethersproject/abstract-signer\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { _TypedDataEncoder } from \"@ethersproject/hash\";\nimport { checkProperties, deepCopy, defineReadOnly, getStatic, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\nimport { accessListify } from \"@ethersproject/transactions\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { BaseProvider } from \"./base-provider\";\nconst errorGas = [\"call\", \"estimateGas\"];\nfunction spelunk(value, requireData) {\n    if (value == null) {\n        return null;\n    }\n    // These *are* the droids we're looking for.\n    if (typeof (value.message) === \"string\" && value.message.match(\"reverted\")) {\n        const data = isHexString(value.data) ? value.data : null;\n        if (!requireData || data) {\n            return { message: value.message, data };\n        }\n    }\n    // Spelunk further...\n    if (typeof (value) === \"object\") {\n        for (const key in value) {\n            const result = spelunk(value[key], requireData);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n    // Might be a JSON string we can further descend...\n    if (typeof (value) === \"string\") {\n        try {\n            return spelunk(JSON.parse(value), requireData);\n        }\n        catch (error) { }\n    }\n    return null;\n}\nfunction checkError(method, error, params) {\n    const transaction = params.transaction || params.signedTransaction;\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\") {\n        const result = spelunk(error, true);\n        if (result) {\n            return result.data;\n        }\n        // Nothing descriptive..\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", Logger.errors.CALL_EXCEPTION, {\n            data: \"0x\", transaction, error\n        });\n    }\n    if (method === \"estimateGas\") {\n        // Try to find something, with a preference on SERVER_ERROR body\n        let result = spelunk(error.body, false);\n        if (result == null) {\n            result = spelunk(error, false);\n        }\n        // Found \"reverted\", this is a CALL_EXCEPTION\n        if (result) {\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                reason: result.message, method, transaction, error\n            });\n        }\n    }\n    // @TODO: Should we spelunk for message too?\n    let message = error.message;\n    if (error.code === Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \"string\") {\n        message = error.error.message;\n    }\n    else if (typeof (error.body) === \"string\") {\n        message = error.body;\n    }\n    else if (typeof (error.responseText) === \"string\") {\n        message = error.responseText;\n    }\n    message = (message || \"\").toLowerCase();\n    // \"insufficient funds for gas * price + value + cost(data)\"\n    if (message.match(/insufficient funds|base fee exceeds gas limit/i)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\n            error, method, transaction\n        });\n    }\n    // \"nonce too low\"\n    if (message.match(/nonce (is )?too low/i)) {\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\n        logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/only replay-protected/i)) {\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            error, method, transaction\n        });\n    }\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error, method, transaction\n        });\n    }\n    throw error;\n}\nfunction timer(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, timeout);\n    });\n}\nfunction getResult(payload) {\n    if (payload.error) {\n        // @TODO: not any\n        const error = new Error(payload.error.message);\n        error.code = payload.error.code;\n        error.data = payload.error.data;\n        throw error;\n    }\n    return payload.result;\n}\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nconst _constructorGuard = {};\nexport class JsonRpcSigner extends Signer {\n    constructor(constructorGuard, provider, addressOrIndex) {\n        super();\n        if (constructorGuard !== _constructorGuard) {\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\n        }\n        defineReadOnly(this, \"provider\", provider);\n        if (addressOrIndex == null) {\n            addressOrIndex = 0;\n        }\n        if (typeof (addressOrIndex) === \"string\") {\n            defineReadOnly(this, \"_address\", this.provider.formatter.address(addressOrIndex));\n            defineReadOnly(this, \"_index\", null);\n        }\n        else if (typeof (addressOrIndex) === \"number\") {\n            defineReadOnly(this, \"_index\", addressOrIndex);\n            defineReadOnly(this, \"_address\", null);\n        }\n        else {\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\n        }\n    }\n    connect(provider) {\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"connect\"\n        });\n    }\n    connectUnchecked() {\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\n    }\n    getAddress() {\n        if (this._address) {\n            return Promise.resolve(this._address);\n        }\n        return this.provider.send(\"eth_accounts\", []).then((accounts) => {\n            if (accounts.length <= this._index) {\n                logger.throwError(\"unknown account #\" + this._index, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: \"getAddress\"\n                });\n            }\n            return this.provider.formatter.address(accounts[this._index]);\n        });\n    }\n    sendUncheckedTransaction(transaction) {\n        transaction = shallowCopy(transaction);\n        const fromAddress = this.getAddress().then((address) => {\n            if (address) {\n                address = address.toLowerCase();\n            }\n            return address;\n        });\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\n        // wishes to use this, it is easy to specify explicitly, otherwise\n        // we look it up for them.\n        if (transaction.gasLimit == null) {\n            const estimate = shallowCopy(transaction);\n            estimate.from = fromAddress;\n            transaction.gasLimit = this.provider.estimateGas(estimate);\n        }\n        if (transaction.to != null) {\n            transaction.to = Promise.resolve(transaction.to).then((to) => __awaiter(this, void 0, void 0, function* () {\n                if (to == null) {\n                    return null;\n                }\n                const address = yield this.provider.resolveName(to);\n                if (address == null) {\n                    logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                }\n                return address;\n            }));\n        }\n        return resolveProperties({\n            tx: resolveProperties(transaction),\n            sender: fromAddress\n        }).then(({ tx, sender }) => {\n            if (tx.from != null) {\n                if (tx.from.toLowerCase() !== sender) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n            }\n            else {\n                tx.from = sender;\n            }\n            const hexTx = this.provider.constructor.hexlifyTransaction(tx, { from: true });\n            return this.provider.send(\"eth_sendTransaction\", [hexTx]).then((hash) => {\n                return hash;\n            }, (error) => {\n                return checkError(\"sendTransaction\", error, hexTx);\n            });\n        });\n    }\n    signTransaction(transaction) {\n        return logger.throwError(\"signing transactions is unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"signTransaction\"\n        });\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // This cannot be mined any earlier than any recent block\n            const blockNumber = yield this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval);\n            // Send the transaction\n            const hash = yield this.sendUncheckedTransaction(transaction);\n            try {\n                // Unfortunately, JSON-RPC only provides and opaque transaction hash\n                // for a response, and we need the actual transaction, so we poll\n                // for it; it should show up very quickly\n                return yield poll(() => __awaiter(this, void 0, void 0, function* () {\n                    const tx = yield this.provider.getTransaction(hash);\n                    if (tx === null) {\n                        return undefined;\n                    }\n                    return this.provider._wrapTransaction(tx, hash, blockNumber);\n                }), { oncePoll: this.provider });\n            }\n            catch (error) {\n                error.transactionHash = hash;\n                throw error;\n            }\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            return yield this.provider.send(\"personal_sign\", [hexlify(data), address.toLowerCase()]);\n        });\n    }\n    _legacySignMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n            return yield this.provider.send(\"eth_sign\", [address.toLowerCase(), hexlify(data)]);\n        });\n    }\n    _signTypedData(domain, types, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Populate any ENS names (in-place)\n            const populated = yield _TypedDataEncoder.resolveNames(domain, types, value, (name) => {\n                return this.provider.resolveName(name);\n            });\n            const address = yield this.getAddress();\n            return yield this.provider.send(\"eth_signTypedData_v4\", [\n                address.toLowerCase(),\n                JSON.stringify(_TypedDataEncoder.getPayload(populated.domain, types, populated.value))\n            ]);\n        });\n    }\n    unlock(password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const provider = this.provider;\n            const address = yield this.getAddress();\n            return provider.send(\"personal_unlockAccount\", [address.toLowerCase(), password, null]);\n        });\n    }\n}\nclass UncheckedJsonRpcSigner extends JsonRpcSigner {\n    sendTransaction(transaction) {\n        return this.sendUncheckedTransaction(transaction).then((hash) => {\n            return {\n                hash: hash,\n                nonce: null,\n                gasLimit: null,\n                gasPrice: null,\n                data: null,\n                value: null,\n                chainId: null,\n                confirmations: 0,\n                from: null,\n                wait: (confirmations) => { return this.provider.waitForTransaction(hash, confirmations); }\n            };\n        });\n    }\n}\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\n    type: true, accessList: true,\n    maxFeePerGas: true, maxPriorityFeePerGas: true\n};\nexport class JsonRpcProvider extends BaseProvider {\n    constructor(url, network) {\n        let networkOrReady = network;\n        // The network is unknown, query the JSON-RPC for it\n        if (networkOrReady == null) {\n            networkOrReady = new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    this.detectNetwork().then((network) => {\n                        resolve(network);\n                    }, (error) => {\n                        reject(error);\n                    });\n                }, 0);\n            });\n        }\n        super(networkOrReady);\n        // Default URL\n        if (!url) {\n            url = getStatic(this.constructor, \"defaultUrl\")();\n        }\n        if (typeof (url) === \"string\") {\n            defineReadOnly(this, \"connection\", Object.freeze({\n                url: url\n            }));\n        }\n        else {\n            defineReadOnly(this, \"connection\", Object.freeze(shallowCopy(url)));\n        }\n        this._nextId = 42;\n    }\n    get _cache() {\n        if (this._eventLoopCache == null) {\n            this._eventLoopCache = {};\n        }\n        return this._eventLoopCache;\n    }\n    static defaultUrl() {\n        return \"http:/\\/localhost:8545\";\n    }\n    detectNetwork() {\n        if (!this._cache[\"detectNetwork\"]) {\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\n            // Clear this cache at the beginning of the next event loop\n            setTimeout(() => {\n                this._cache[\"detectNetwork\"] = null;\n            }, 0);\n        }\n        return this._cache[\"detectNetwork\"];\n    }\n    _uncachedDetectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield timer(0);\n            let chainId = null;\n            try {\n                chainId = yield this.send(\"eth_chainId\", []);\n            }\n            catch (error) {\n                try {\n                    chainId = yield this.send(\"net_version\", []);\n                }\n                catch (error) { }\n            }\n            if (chainId != null) {\n                const getNetwork = getStatic(this.constructor, \"getNetwork\");\n                try {\n                    return getNetwork(BigNumber.from(chainId).toNumber());\n                }\n                catch (error) {\n                    return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                        chainId: chainId,\n                        event: \"invalidNetwork\",\n                        serverError: error\n                    });\n                }\n            }\n            return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                event: \"noNetwork\"\n            });\n        });\n    }\n    getSigner(addressOrIndex) {\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\n    }\n    getUncheckedSigner(addressOrIndex) {\n        return this.getSigner(addressOrIndex).connectUnchecked();\n    }\n    listAccounts() {\n        return this.send(\"eth_accounts\", []).then((accounts) => {\n            return accounts.map((a) => this.formatter.address(a));\n        });\n    }\n    send(method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        this.emit(\"debug\", {\n            action: \"request\",\n            request: deepCopy(request),\n            provider: this\n        });\n        // We can expand this in the future to any call, but for now these\n        // are the biggest wins and do not require any serializing parameters.\n        const cache = ([\"eth_chainId\", \"eth_blockNumber\"].indexOf(method) >= 0);\n        if (cache && this._cache[method]) {\n            return this._cache[method];\n        }\n        const result = fetchJson(this.connection, JSON.stringify(request), getResult).then((result) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                request: request,\n                response: result,\n                provider: this\n            });\n            return result;\n        }, (error) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                error: error,\n                request: request,\n                provider: this\n            });\n            throw error;\n        });\n        // Cache the fetch, but clear it on the next event loop\n        if (cache) {\n            this._cache[method] = result;\n            setTimeout(() => {\n                this._cache[method] = null;\n            }, 0);\n        }\n        return result;\n    }\n    prepareRequest(method, params) {\n        switch (method) {\n            case \"getBlockNumber\":\n                return [\"eth_blockNumber\", []];\n            case \"getGasPrice\":\n                return [\"eth_gasPrice\", []];\n            case \"getBalance\":\n                return [\"eth_getBalance\", [getLowerCase(params.address), params.blockTag]];\n            case \"getTransactionCount\":\n                return [\"eth_getTransactionCount\", [getLowerCase(params.address), params.blockTag]];\n            case \"getCode\":\n                return [\"eth_getCode\", [getLowerCase(params.address), params.blockTag]];\n            case \"getStorageAt\":\n                return [\"eth_getStorageAt\", [getLowerCase(params.address), hexZeroPad(params.position, 32), params.blockTag]];\n            case \"sendTransaction\":\n                return [\"eth_sendRawTransaction\", [params.signedTransaction]];\n            case \"getBlock\":\n                if (params.blockTag) {\n                    return [\"eth_getBlockByNumber\", [params.blockTag, !!params.includeTransactions]];\n                }\n                else if (params.blockHash) {\n                    return [\"eth_getBlockByHash\", [params.blockHash, !!params.includeTransactions]];\n                }\n                return null;\n            case \"getTransaction\":\n                return [\"eth_getTransactionByHash\", [params.transactionHash]];\n            case \"getTransactionReceipt\":\n                return [\"eth_getTransactionReceipt\", [params.transactionHash]];\n            case \"call\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_call\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\n            }\n            case \"estimateGas\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_estimateGas\", [hexlifyTransaction(params.transaction, { from: true })]];\n            }\n            case \"getLogs\":\n                if (params.filter && params.filter.address != null) {\n                    params.filter.address = getLowerCase(params.filter.address);\n                }\n                return [\"eth_getLogs\", [params.filter]];\n            default:\n                break;\n        }\n        return null;\n    }\n    perform(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Legacy networks do not like the type field being passed along (which\n            // is fair), so we delete type if it is 0 and a non-EIP-1559 network\n            if (method === \"call\" || method === \"estimateGas\") {\n                const tx = params.transaction;\n                if (tx && tx.type != null && BigNumber.from(tx.type).isZero()) {\n                    // If there are no EIP-1559 properties, it might be non-EIP-1559\n                    if (tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null) {\n                        const feeData = yield this.getFeeData();\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\n                            // Network doesn't know about EIP-1559 (and hence type)\n                            params = shallowCopy(params);\n                            params.transaction = shallowCopy(tx);\n                            delete params.transaction.type;\n                        }\n                    }\n                }\n            }\n            const args = this.prepareRequest(method, params);\n            if (args == null) {\n                logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n            }\n            try {\n                return yield this.send(args[0], args[1]);\n            }\n            catch (error) {\n                return checkError(method, error, params);\n            }\n        });\n    }\n    _startEvent(event) {\n        if (event.tag === \"pending\") {\n            this._startPending();\n        }\n        super._startEvent(event);\n    }\n    _startPending() {\n        if (this._pendingFilter != null) {\n            return;\n        }\n        const self = this;\n        const pendingFilter = this.send(\"eth_newPendingTransactionFilter\", []);\n        this._pendingFilter = pendingFilter;\n        pendingFilter.then(function (filterId) {\n            function poll() {\n                self.send(\"eth_getFilterChanges\", [filterId]).then(function (hashes) {\n                    if (self._pendingFilter != pendingFilter) {\n                        return null;\n                    }\n                    let seq = Promise.resolve();\n                    hashes.forEach(function (hash) {\n                        // @TODO: This should be garbage collected at some point... How? When?\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\n                        seq = seq.then(function () {\n                            return self.getTransaction(hash).then(function (tx) {\n                                self.emit(\"pending\", tx);\n                                return null;\n                            });\n                        });\n                    });\n                    return seq.then(function () {\n                        return timer(1000);\n                    });\n                }).then(function () {\n                    if (self._pendingFilter != pendingFilter) {\n                        self.send(\"eth_uninstallFilter\", [filterId]);\n                        return;\n                    }\n                    setTimeout(function () { poll(); }, 0);\n                    return null;\n                }).catch((error) => { });\n            }\n            poll();\n            return filterId;\n        }).catch((error) => { });\n    }\n    _stopEvent(event) {\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\n            this._pendingFilter = null;\n        }\n        super._stopEvent(event);\n    }\n    // Convert an ethers.js transaction into a JSON-RPC transaction\n    //  - gasLimit => gas\n    //  - All values hexlified\n    //  - All numeric values zero-striped\n    //  - All addresses are lowercased\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\n    //       before this is called\n    // @TODO: This will likely be removed in future versions and prepareRequest\n    //        will be the preferred method for this.\n    static hexlifyTransaction(transaction, allowExtra) {\n        // Check only allowed properties are given\n        const allowed = shallowCopy(allowedTransactionKeys);\n        if (allowExtra) {\n            for (const key in allowExtra) {\n                if (allowExtra[key]) {\n                    allowed[key] = true;\n                }\n            }\n        }\n        checkProperties(transaction, allowed);\n        const result = {};\n        // JSON-RPC now requires numeric values to be \"quantity\" values\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            const value = hexValue(BigNumber.from(transaction[key]));\n            if (key === \"gasLimit\") {\n                key = \"gas\";\n            }\n            result[key] = value;\n        });\n        [\"from\", \"to\", \"data\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            result[key] = hexlify(transaction[key]);\n        });\n        if (transaction.accessList) {\n            result[\"accessList\"] = accessListify(transaction.accessList);\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=json-rpc-provider.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nlet WS = null;\ntry {\n    WS = WebSocket;\n    if (WS == null) {\n        throw new Error(\"inject please\");\n    }\n}\ncatch (error) {\n    const logger = new Logger(version);\n    WS = function () {\n        logger.throwError(\"WebSockets not supported in this environment\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"new WebSocket()\"\n        });\n    };\n}\n//export default WS;\n//module.exports = WS;\nexport { WS as WebSocket };\n//# sourceMappingURL=ws.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\nimport { WebSocket } from \"./ws\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n/**\n *  Notes:\n *\n *  This provider differs a bit from the polling providers. One main\n *  difference is how it handles consistency. The polling providers\n *  will stall responses to ensure a consistent state, while this\n *  WebSocket provider assumes the connected backend will manage this.\n *\n *  For example, if a polling provider emits an event which indicates\n *  the event occurred in blockhash XXX, a call to fetch that block by\n *  its hash XXX, if not present will retry until it is present. This\n *  can occur when querying a pool of nodes that are mildly out of sync\n *  with each other.\n */\nlet NextId = 1;\n// For more info about the Real-time Event API see:\n//   https://geth.ethereum.org/docs/rpc/pubsub\nexport class WebSocketProvider extends JsonRpcProvider {\n    constructor(url, network) {\n        // This will be added in the future; please open an issue to expedite\n        if (network === \"any\") {\n            logger.throwError(\"WebSocketProvider does not support 'any' network yet\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"network:any\"\n            });\n        }\n        if (typeof (url) === \"string\") {\n            super(url, network);\n        }\n        else {\n            super(\"_websocket\", network);\n        }\n        this._pollingInterval = -1;\n        this._wsReady = false;\n        if (typeof (url) === \"string\") {\n            defineReadOnly(this, \"_websocket\", new WebSocket(this.connection.url));\n        }\n        else {\n            defineReadOnly(this, \"_websocket\", url);\n        }\n        defineReadOnly(this, \"_requests\", {});\n        defineReadOnly(this, \"_subs\", {});\n        defineReadOnly(this, \"_subIds\", {});\n        defineReadOnly(this, \"_detectNetwork\", super.detectNetwork());\n        // Stall sending requests until the socket is open...\n        this.websocket.onopen = () => {\n            this._wsReady = true;\n            Object.keys(this._requests).forEach((id) => {\n                this.websocket.send(this._requests[id].payload);\n            });\n        };\n        this.websocket.onmessage = (messageEvent) => {\n            const data = messageEvent.data;\n            const result = JSON.parse(data);\n            if (result.id != null) {\n                const id = String(result.id);\n                const request = this._requests[id];\n                delete this._requests[id];\n                if (result.result !== undefined) {\n                    request.callback(null, result.result);\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        request: JSON.parse(request.payload),\n                        response: result.result,\n                        provider: this\n                    });\n                }\n                else {\n                    let error = null;\n                    if (result.error) {\n                        error = new Error(result.error.message || \"unknown error\");\n                        defineReadOnly(error, \"code\", result.error.code || null);\n                        defineReadOnly(error, \"response\", data);\n                    }\n                    else {\n                        error = new Error(\"unknown error\");\n                    }\n                    request.callback(error, undefined);\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        error: error,\n                        request: JSON.parse(request.payload),\n                        provider: this\n                    });\n                }\n            }\n            else if (result.method === \"eth_subscription\") {\n                // Subscription...\n                const sub = this._subs[result.params.subscription];\n                if (sub) {\n                    //this.emit.apply(this,                  );\n                    sub.processFunc(result.params.result);\n                }\n            }\n            else {\n                console.warn(\"this should not happen\");\n            }\n        };\n        // This Provider does not actually poll, but we want to trigger\n        // poll events for things that depend on them (like stalling for\n        // block and transaction lookups)\n        const fauxPoll = setInterval(() => {\n            this.emit(\"poll\");\n        }, 1000);\n        if (fauxPoll.unref) {\n            fauxPoll.unref();\n        }\n    }\n    // Cannot narrow the type of _websocket, as that is not backwards compatible\n    // so we add a getter and let the WebSocket be a public API.\n    get websocket() { return this._websocket; }\n    detectNetwork() {\n        return this._detectNetwork;\n    }\n    get pollingInterval() {\n        return 0;\n    }\n    resetEventsBlock(blockNumber) {\n        logger.throwError(\"cannot reset events block on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"resetEventBlock\"\n        });\n    }\n    set pollingInterval(value) {\n        logger.throwError(\"cannot set polling interval on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"setPollingInterval\"\n        });\n    }\n    poll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return null;\n        });\n    }\n    set polling(value) {\n        if (!value) {\n            return;\n        }\n        logger.throwError(\"cannot set polling on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"setPolling\"\n        });\n    }\n    send(method, params) {\n        const rid = NextId++;\n        return new Promise((resolve, reject) => {\n            function callback(error, result) {\n                if (error) {\n                    return reject(error);\n                }\n                return resolve(result);\n            }\n            const payload = JSON.stringify({\n                method: method,\n                params: params,\n                id: rid,\n                jsonrpc: \"2.0\"\n            });\n            this.emit(\"debug\", {\n                action: \"request\",\n                request: JSON.parse(payload),\n                provider: this\n            });\n            this._requests[String(rid)] = { callback, payload };\n            if (this._wsReady) {\n                this.websocket.send(payload);\n            }\n        });\n    }\n    static defaultUrl() {\n        return \"ws:/\\/localhost:8546\";\n    }\n    _subscribe(tag, param, processFunc) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let subIdPromise = this._subIds[tag];\n            if (subIdPromise == null) {\n                subIdPromise = Promise.all(param).then((param) => {\n                    return this.send(\"eth_subscribe\", param);\n                });\n                this._subIds[tag] = subIdPromise;\n            }\n            const subId = yield subIdPromise;\n            this._subs[subId] = { tag, processFunc };\n        });\n    }\n    _startEvent(event) {\n        switch (event.type) {\n            case \"block\":\n                this._subscribe(\"block\", [\"newHeads\"], (result) => {\n                    const blockNumber = BigNumber.from(result.number).toNumber();\n                    this._emitted.block = blockNumber;\n                    this.emit(\"block\", blockNumber);\n                });\n                break;\n            case \"pending\":\n                this._subscribe(\"pending\", [\"newPendingTransactions\"], (result) => {\n                    this.emit(\"pending\", result);\n                });\n                break;\n            case \"filter\":\n                this._subscribe(event.tag, [\"logs\", this._getFilter(event.filter)], (result) => {\n                    if (result.removed == null) {\n                        result.removed = false;\n                    }\n                    this.emit(event.filter, this.formatter.filterLog(result));\n                });\n                break;\n            case \"tx\": {\n                const emitReceipt = (event) => {\n                    const hash = event.hash;\n                    this.getTransactionReceipt(hash).then((receipt) => {\n                        if (!receipt) {\n                            return;\n                        }\n                        this.emit(hash, receipt);\n                    });\n                };\n                // In case it is already mined\n                emitReceipt(event);\n                // To keep things simple, we start up a single newHeads subscription\n                // to keep an eye out for transactions we are watching for.\n                // Starting a subscription for an event (i.e. \"tx\") that is already\n                // running is (basically) a nop.\n                this._subscribe(\"tx\", [\"newHeads\"], (result) => {\n                    this._events.filter((e) => (e.type === \"tx\")).forEach(emitReceipt);\n                });\n                break;\n            }\n            // Nothing is needed\n            case \"debug\":\n            case \"poll\":\n            case \"willPoll\":\n            case \"didPoll\":\n            case \"error\":\n                break;\n            default:\n                console.log(\"unhandled:\", event);\n                break;\n        }\n    }\n    _stopEvent(event) {\n        let tag = event.tag;\n        if (event.type === \"tx\") {\n            // There are remaining transaction event listeners\n            if (this._events.filter((e) => (e.type === \"tx\")).length) {\n                return;\n            }\n            tag = \"tx\";\n        }\n        else if (this.listenerCount(event.event)) {\n            // There are remaining event listeners\n            return;\n        }\n        const subId = this._subIds[tag];\n        if (!subId) {\n            return;\n        }\n        delete this._subIds[tag];\n        subId.then((subId) => {\n            if (!this._subs[subId]) {\n                return;\n            }\n            delete this._subs[subId];\n            this.send(\"eth_unsubscribe\", [subId]);\n        });\n    }\n    destroy() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Wait until we have connected before trying to disconnect\n            if (this.websocket.readyState === WebSocket.CONNECTING) {\n                yield (new Promise((resolve) => {\n                    this.websocket.onopen = function () {\n                        resolve(true);\n                    };\n                    this.websocket.onerror = function () {\n                        resolve(false);\n                    };\n                }));\n            }\n            // Hangup\n            // See: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n            this.websocket.close(1000);\n        });\n    }\n}\n//# sourceMappingURL=websocket-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { defineReadOnly, getStatic } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\n// A StaticJsonRpcProvider is useful when you *know* for certain that\n// the backend will never change, as it never calls eth_chainId to\n// verify its backend. However, if the backend does change, the effects\n// are undefined and may include:\n// - inconsistent results\n// - locking up the UI\n// - block skew warnings\n// - wrong results\n// If the network is not explicit (i.e. auto-detection is expected), the\n// node MUST be running and available to respond to requests BEFORE this\n// is instantiated.\nexport class StaticJsonRpcProvider extends JsonRpcProvider {\n    detectNetwork() {\n        const _super = Object.create(null, {\n            detectNetwork: { get: () => super.detectNetwork }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            let network = this.network;\n            if (network == null) {\n                network = yield _super.detectNetwork.call(this);\n                if (!network) {\n                    logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, {});\n                }\n                // If still not set, set it\n                if (this._network == null) {\n                    // A static network does not support \"any\"\n                    defineReadOnly(this, \"_network\", network);\n                    this.emit(\"network\", network, null);\n                }\n            }\n            return network;\n        });\n    }\n}\nexport class UrlJsonRpcProvider extends StaticJsonRpcProvider {\n    constructor(network, apiKey) {\n        logger.checkAbstract(new.target, UrlJsonRpcProvider);\n        // Normalize the Network and API Key\n        network = getStatic(new.target, \"getNetwork\")(network);\n        apiKey = getStatic(new.target, \"getApiKey\")(apiKey);\n        const connection = getStatic(new.target, \"getUrl\")(network, apiKey);\n        super(connection, network);\n        if (typeof (apiKey) === \"string\") {\n            defineReadOnly(this, \"apiKey\", apiKey);\n        }\n        else if (apiKey != null) {\n            Object.keys(apiKey).forEach((key) => {\n                defineReadOnly(this, key, apiKey[key]);\n            });\n        }\n    }\n    _startPending() {\n        logger.warn(\"WARNING: API provider does not support pending filters\");\n    }\n    isCommunityResource() {\n        return false;\n    }\n    getSigner(address) {\n        return logger.throwError(\"API provider does not support signing\", Logger.errors.UNSUPPORTED_OPERATION, { operation: \"getSigner\" });\n    }\n    listAccounts() {\n        return Promise.resolve([]);\n    }\n    // Return a defaultApiKey if null, otherwise validate the API key\n    static getApiKey(apiKey) {\n        return apiKey;\n    }\n    // Returns the url or connection for the given network and API key. The\n    // API key will have been sanitized by the getApiKey first, so any validation\n    // or transformations can be done there.\n    static getUrl(network, apiKey) {\n        return logger.throwError(\"not implemented; sub-classes must override getUrl\", Logger.errors.NOT_IMPLEMENTED, {\n            operation: \"getUrl\"\n        });\n    }\n}\n//# sourceMappingURL=url-json-rpc-provider.js.map","\"use strict\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { showThrottleMessage } from \"./formatter\";\nimport { WebSocketProvider } from \"./websocket-provider\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\n// This key was provided to ethers.js by Alchemy to be used by the\n// default provider, but it is recommended that for your own\n// production environments, that you acquire your own API key at:\n//   https://dashboard.alchemyapi.io\nconst defaultApiKey = \"_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC\";\nexport class AlchemyWebSocketProvider extends WebSocketProvider {\n    constructor(network, apiKey) {\n        const provider = new AlchemyProvider(network, apiKey);\n        const url = provider.connection.url.replace(/^http/i, \"ws\")\n            .replace(\".alchemyapi.\", \".ws.alchemyapi.\");\n        super(url, provider.network);\n        defineReadOnly(this, \"apiKey\", provider.apiKey);\n    }\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n}\nexport class AlchemyProvider extends UrlJsonRpcProvider {\n    static getWebSocketProvider(network, apiKey) {\n        return new AlchemyWebSocketProvider(network, apiKey);\n    }\n    static getApiKey(apiKey) {\n        if (apiKey == null) {\n            return defaultApiKey;\n        }\n        if (apiKey && typeof (apiKey) !== \"string\") {\n            logger.throwArgumentError(\"invalid apiKey\", \"apiKey\", apiKey);\n        }\n        return apiKey;\n    }\n    static getUrl(network, apiKey) {\n        let host = null;\n        switch (network.name) {\n            case \"homestead\":\n                host = \"eth-mainnet.alchemyapi.io/v2/\";\n                break;\n            case \"ropsten\":\n                host = \"eth-ropsten.alchemyapi.io/v2/\";\n                break;\n            case \"rinkeby\":\n                host = \"eth-rinkeby.alchemyapi.io/v2/\";\n                break;\n            case \"goerli\":\n                host = \"eth-goerli.alchemyapi.io/v2/\";\n                break;\n            case \"kovan\":\n                host = \"eth-kovan.alchemyapi.io/v2/\";\n                break;\n            case \"matic\":\n                host = \"polygon-mainnet.g.alchemy.com/v2/\";\n                break;\n            case \"maticmum\":\n                host = \"polygon-mumbai.g.alchemy.com/v2/\";\n                break;\n            case \"arbitrum\":\n                host = \"arb-mainnet.g.alchemy.com/v2/\";\n                break;\n            case \"arbitrum-rinkeby\":\n                host = \"arb-rinkeby.g.alchemy.com/v2/\";\n                break;\n            case \"optimism\":\n                host = \"opt-mainnet.g.alchemy.com/v2/\";\n                break;\n            case \"optimism-kovan\":\n                host = \"opt-kovan.g.alchemy.com/v2/\";\n                break;\n            default:\n                logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\n        }\n        return {\n            allowGzip: true,\n            url: (\"https:/\" + \"/\" + host + apiKey),\n            throttleCallback: (attempt, url) => {\n                if (apiKey === defaultApiKey) {\n                    showThrottleMessage();\n                }\n                return Promise.resolve(true);\n            }\n        };\n    }\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n}\n//# sourceMappingURL=alchemy-provider.js.map","import { showThrottleMessage } from \"./formatter\";\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst defaultApiKey = \"9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972\";\nfunction getHost(name) {\n    switch (name) {\n        case \"homestead\":\n            return \"rpc.ankr.com/eth/\";\n        case \"ropsten\":\n            return \"rpc.ankr.com/eth_ropsten/\";\n        case \"rinkeby\":\n            return \"rpc.ankr.com/eth_rinkeby/\";\n        case \"goerli\":\n            return \"rpc.ankr.com/eth_goerli/\";\n        case \"matic\":\n            return \"rpc.ankr.com/polygon/\";\n        case \"arbitrum\":\n            return \"rpc.ankr.com/arbitrum/\";\n    }\n    return logger.throwArgumentError(\"unsupported network\", \"name\", name);\n}\nexport class AnkrProvider extends UrlJsonRpcProvider {\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n    static getApiKey(apiKey) {\n        if (apiKey == null) {\n            return defaultApiKey;\n        }\n        return apiKey;\n    }\n    static getUrl(network, apiKey) {\n        if (apiKey == null) {\n            apiKey = defaultApiKey;\n        }\n        const connection = {\n            allowGzip: true,\n            url: (\"https:/\\/\" + getHost(network.name) + apiKey),\n            throttleCallback: (attempt, url) => {\n                if (apiKey.apiKey === defaultApiKey) {\n                    showThrottleMessage();\n                }\n                return Promise.resolve(true);\n            }\n        };\n        if (apiKey.projectSecret != null) {\n            connection.user = \"\";\n            connection.password = apiKey.projectSecret;\n        }\n        return connection;\n    }\n}\n//# sourceMappingURL=ankr-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport class CloudflareProvider extends UrlJsonRpcProvider {\n    static getApiKey(apiKey) {\n        if (apiKey != null) {\n            logger.throwArgumentError(\"apiKey not supported for cloudflare\", \"apiKey\", apiKey);\n        }\n        return null;\n    }\n    static getUrl(network, apiKey) {\n        let host = null;\n        switch (network.name) {\n            case \"homestead\":\n                host = \"https://cloudflare-eth.com/\";\n                break;\n            default:\n                logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\n        }\n        return host;\n    }\n    perform(method, params) {\n        const _super = Object.create(null, {\n            perform: { get: () => super.perform }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            // The Cloudflare provider does not support eth_blockNumber,\n            // so we get the latest block and pull it from that\n            if (method === \"getBlockNumber\") {\n                const block = yield _super.perform.call(this, \"getBlock\", { blockTag: \"latest\" });\n                return block.number;\n            }\n            return _super.perform.call(this, method, params);\n        });\n    }\n}\n//# sourceMappingURL=cloudflare-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { hexlify, hexValue, isHexString } from \"@ethersproject/bytes\";\nimport { deepCopy, defineReadOnly } from \"@ethersproject/properties\";\nimport { accessListify } from \"@ethersproject/transactions\";\nimport { fetchJson } from \"@ethersproject/web\";\nimport { showThrottleMessage } from \"./formatter\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { BaseProvider } from \"./base-provider\";\n// The transaction has already been sanitized by the calls in Provider\nfunction getTransactionPostData(transaction) {\n    const result = {};\n    for (let key in transaction) {\n        if (transaction[key] == null) {\n            continue;\n        }\n        let value = transaction[key];\n        if (key === \"type\" && value === 0) {\n            continue;\n        }\n        // Quantity-types require no leading zero, unless 0\n        if ({ type: true, gasLimit: true, gasPrice: true, maxFeePerGs: true, maxPriorityFeePerGas: true, nonce: true, value: true }[key]) {\n            value = hexValue(hexlify(value));\n        }\n        else if (key === \"accessList\") {\n            value = \"[\" + accessListify(value).map((set) => {\n                return `{address:\"${set.address}\",storageKeys:[\"${set.storageKeys.join('\",\"')}\"]}`;\n            }).join(\",\") + \"]\";\n        }\n        else {\n            value = hexlify(value);\n        }\n        result[key] = value;\n    }\n    return result;\n}\nfunction getResult(result) {\n    // getLogs, getHistory have weird success responses\n    if (result.status == 0 && (result.message === \"No records found\" || result.message === \"No transactions found\")) {\n        return result.result;\n    }\n    if (result.status != 1 || result.message != \"OK\") {\n        const error = new Error(\"invalid response\");\n        error.result = JSON.stringify(result);\n        if ((result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\n            error.throttleRetry = true;\n        }\n        throw error;\n    }\n    return result.result;\n}\nfunction getJsonResult(result) {\n    // This response indicates we are being throttled\n    if (result && result.status == 0 && result.message == \"NOTOK\" && (result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\n        const error = new Error(\"throttled response\");\n        error.result = JSON.stringify(result);\n        error.throttleRetry = true;\n        throw error;\n    }\n    if (result.jsonrpc != \"2.0\") {\n        // @TODO: not any\n        const error = new Error(\"invalid response\");\n        error.result = JSON.stringify(result);\n        throw error;\n    }\n    if (result.error) {\n        // @TODO: not any\n        const error = new Error(result.error.message || \"unknown error\");\n        if (result.error.code) {\n            error.code = result.error.code;\n        }\n        if (result.error.data) {\n            error.data = result.error.data;\n        }\n        throw error;\n    }\n    return result.result;\n}\n// The blockTag was normalized as a string by the Provider pre-perform operations\nfunction checkLogTag(blockTag) {\n    if (blockTag === \"pending\") {\n        throw new Error(\"pending not supported\");\n    }\n    if (blockTag === \"latest\") {\n        return blockTag;\n    }\n    return parseInt(blockTag.substring(2), 16);\n}\nconst defaultApiKey = \"9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB\";\nfunction checkError(method, error, transaction) {\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\" && error.code === Logger.errors.SERVER_ERROR) {\n        const e = error.error;\n        // Etherscan keeps changing their string\n        if (e && (e.message.match(/reverted/i) || e.message.match(/VM execution error/i))) {\n            // Etherscan prefixes the data like \"Reverted 0x1234\"\n            let data = e.data;\n            if (data) {\n                data = \"0x\" + data.replace(/^.*0x/i, \"\");\n            }\n            if (isHexString(data)) {\n                return data;\n            }\n            logger.throwError(\"missing revert data in call exception\", Logger.errors.CALL_EXCEPTION, {\n                error, data: \"0x\"\n            });\n        }\n    }\n    // Get the message from any nested error structure\n    let message = error.message;\n    if (error.code === Logger.errors.SERVER_ERROR) {\n        if (error.error && typeof (error.error.message) === \"string\") {\n            message = error.error.message;\n        }\n        else if (typeof (error.body) === \"string\") {\n            message = error.body;\n        }\n        else if (typeof (error.responseText) === \"string\") {\n            message = error.responseText;\n        }\n    }\n    message = (message || \"\").toLowerCase();\n    // \"Insufficient funds. The account you tried to send transaction from does not have enough funds. Required 21464000000000 and got: 0\"\n    if (message.match(/insufficient funds/)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\n            error, method, transaction\n        });\n    }\n    // \"Transaction with the same hash was already imported.\"\n    if (message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)) {\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\n            error, method, transaction\n        });\n    }\n    // \"Transaction gas price is too low. There is another transaction with same nonce in the queue. Try increasing the gas price or incrementing the nonce.\"\n    if (message.match(/another transaction with same nonce/)) {\n        logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error, method, transaction\n        });\n    }\n    if (message.match(/execution failed due to an exception|execution reverted/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error, method, transaction\n        });\n    }\n    throw error;\n}\nexport class EtherscanProvider extends BaseProvider {\n    constructor(network, apiKey) {\n        super(network);\n        defineReadOnly(this, \"baseUrl\", this.getBaseUrl());\n        defineReadOnly(this, \"apiKey\", apiKey || defaultApiKey);\n    }\n    getBaseUrl() {\n        switch (this.network ? this.network.name : \"invalid\") {\n            case \"homestead\":\n                return \"https:/\\/api.etherscan.io\";\n            case \"ropsten\":\n                return \"https:/\\/api-ropsten.etherscan.io\";\n            case \"rinkeby\":\n                return \"https:/\\/api-rinkeby.etherscan.io\";\n            case \"kovan\":\n                return \"https:/\\/api-kovan.etherscan.io\";\n            case \"goerli\":\n                return \"https:/\\/api-goerli.etherscan.io\";\n            case \"optimism\":\n                return \"https:/\\/api-optimistic.etherscan.io\";\n            default:\n        }\n        return logger.throwArgumentError(\"unsupported network\", \"network\", this.network.name);\n    }\n    getUrl(module, params) {\n        const query = Object.keys(params).reduce((accum, key) => {\n            const value = params[key];\n            if (value != null) {\n                accum += `&${key}=${value}`;\n            }\n            return accum;\n        }, \"\");\n        const apiKey = ((this.apiKey) ? `&apikey=${this.apiKey}` : \"\");\n        return `${this.baseUrl}/api?module=${module}${query}${apiKey}`;\n    }\n    getPostUrl() {\n        return `${this.baseUrl}/api`;\n    }\n    getPostData(module, params) {\n        params.module = module;\n        params.apikey = this.apiKey;\n        return params;\n    }\n    fetch(module, params, post) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = (post ? this.getPostUrl() : this.getUrl(module, params));\n            const payload = (post ? this.getPostData(module, params) : null);\n            const procFunc = (module === \"proxy\") ? getJsonResult : getResult;\n            this.emit(\"debug\", {\n                action: \"request\",\n                request: url,\n                provider: this\n            });\n            const connection = {\n                url: url,\n                throttleSlotInterval: 1000,\n                throttleCallback: (attempt, url) => {\n                    if (this.isCommunityResource()) {\n                        showThrottleMessage();\n                    }\n                    return Promise.resolve(true);\n                }\n            };\n            let payloadStr = null;\n            if (payload) {\n                connection.headers = { \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\" };\n                payloadStr = Object.keys(payload).map((key) => {\n                    return `${key}=${payload[key]}`;\n                }).join(\"&\");\n            }\n            const result = yield fetchJson(connection, payloadStr, procFunc || getJsonResult);\n            this.emit(\"debug\", {\n                action: \"response\",\n                request: url,\n                response: deepCopy(result),\n                provider: this\n            });\n            return result;\n        });\n    }\n    detectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.network;\n        });\n    }\n    perform(method, params) {\n        const _super = Object.create(null, {\n            perform: { get: () => super.perform }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            switch (method) {\n                case \"getBlockNumber\":\n                    return this.fetch(\"proxy\", { action: \"eth_blockNumber\" });\n                case \"getGasPrice\":\n                    return this.fetch(\"proxy\", { action: \"eth_gasPrice\" });\n                case \"getBalance\":\n                    // Returns base-10 result\n                    return this.fetch(\"account\", {\n                        action: \"balance\",\n                        address: params.address,\n                        tag: params.blockTag\n                    });\n                case \"getTransactionCount\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getTransactionCount\",\n                        address: params.address,\n                        tag: params.blockTag\n                    });\n                case \"getCode\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getCode\",\n                        address: params.address,\n                        tag: params.blockTag\n                    });\n                case \"getStorageAt\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getStorageAt\",\n                        address: params.address,\n                        position: params.position,\n                        tag: params.blockTag\n                    });\n                case \"sendTransaction\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_sendRawTransaction\",\n                        hex: params.signedTransaction\n                    }, true).catch((error) => {\n                        return checkError(\"sendTransaction\", error, params.signedTransaction);\n                    });\n                case \"getBlock\":\n                    if (params.blockTag) {\n                        return this.fetch(\"proxy\", {\n                            action: \"eth_getBlockByNumber\",\n                            tag: params.blockTag,\n                            boolean: (params.includeTransactions ? \"true\" : \"false\")\n                        });\n                    }\n                    throw new Error(\"getBlock by blockHash not implemented\");\n                case \"getTransaction\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getTransactionByHash\",\n                        txhash: params.transactionHash\n                    });\n                case \"getTransactionReceipt\":\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getTransactionReceipt\",\n                        txhash: params.transactionHash\n                    });\n                case \"call\": {\n                    if (params.blockTag !== \"latest\") {\n                        throw new Error(\"EtherscanProvider does not support blockTag for call\");\n                    }\n                    const postData = getTransactionPostData(params.transaction);\n                    postData.module = \"proxy\";\n                    postData.action = \"eth_call\";\n                    try {\n                        return yield this.fetch(\"proxy\", postData, true);\n                    }\n                    catch (error) {\n                        return checkError(\"call\", error, params.transaction);\n                    }\n                }\n                case \"estimateGas\": {\n                    const postData = getTransactionPostData(params.transaction);\n                    postData.module = \"proxy\";\n                    postData.action = \"eth_estimateGas\";\n                    try {\n                        return yield this.fetch(\"proxy\", postData, true);\n                    }\n                    catch (error) {\n                        return checkError(\"estimateGas\", error, params.transaction);\n                    }\n                }\n                case \"getLogs\": {\n                    const args = { action: \"getLogs\" };\n                    if (params.filter.fromBlock) {\n                        args.fromBlock = checkLogTag(params.filter.fromBlock);\n                    }\n                    if (params.filter.toBlock) {\n                        args.toBlock = checkLogTag(params.filter.toBlock);\n                    }\n                    if (params.filter.address) {\n                        args.address = params.filter.address;\n                    }\n                    // @TODO: We can handle slightly more complicated logs using the logs API\n                    if (params.filter.topics && params.filter.topics.length > 0) {\n                        if (params.filter.topics.length > 1) {\n                            logger.throwError(\"unsupported topic count\", Logger.errors.UNSUPPORTED_OPERATION, { topics: params.filter.topics });\n                        }\n                        if (params.filter.topics.length === 1) {\n                            const topic0 = params.filter.topics[0];\n                            if (typeof (topic0) !== \"string\" || topic0.length !== 66) {\n                                logger.throwError(\"unsupported topic format\", Logger.errors.UNSUPPORTED_OPERATION, { topic0: topic0 });\n                            }\n                            args.topic0 = topic0;\n                        }\n                    }\n                    const logs = yield this.fetch(\"logs\", args);\n                    // Cache txHash => blockHash\n                    let blocks = {};\n                    // Add any missing blockHash to the logs\n                    for (let i = 0; i < logs.length; i++) {\n                        const log = logs[i];\n                        if (log.blockHash != null) {\n                            continue;\n                        }\n                        if (blocks[log.blockNumber] == null) {\n                            const block = yield this.getBlock(log.blockNumber);\n                            if (block) {\n                                blocks[log.blockNumber] = block.hash;\n                            }\n                        }\n                        log.blockHash = blocks[log.blockNumber];\n                    }\n                    return logs;\n                }\n                case \"getEtherPrice\":\n                    if (this.network.name !== \"homestead\") {\n                        return 0.0;\n                    }\n                    return parseFloat((yield this.fetch(\"stats\", { action: \"ethprice\" })).ethusd);\n                default:\n                    break;\n            }\n            return _super.perform.call(this, method, params);\n        });\n    }\n    // Note: The `page` page parameter only allows pagination within the\n    //       10,000 window available without a page and offset parameter\n    //       Error: Result window is too large, PageNo x Offset size must\n    //              be less than or equal to 10000\n    getHistory(addressOrName, startBlock, endBlock) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const params = {\n                action: \"txlist\",\n                address: (yield this.resolveName(addressOrName)),\n                startblock: ((startBlock == null) ? 0 : startBlock),\n                endblock: ((endBlock == null) ? 99999999 : endBlock),\n                sort: \"asc\"\n            };\n            const result = yield this.fetch(\"account\", params);\n            return result.map((tx) => {\n                [\"contractAddress\", \"to\"].forEach(function (key) {\n                    if (tx[key] == \"\") {\n                        delete tx[key];\n                    }\n                });\n                if (tx.creates == null && tx.contractAddress != null) {\n                    tx.creates = tx.contractAddress;\n                }\n                const item = this.formatter.transactionResponse(tx);\n                if (tx.timeStamp) {\n                    item.timestamp = parseInt(tx.timeStamp);\n                }\n                return item;\n            });\n        });\n    }\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n}\n//# sourceMappingURL=etherscan-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Provider } from \"@ethersproject/abstract-provider\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { isHexString } from \"@ethersproject/bytes\";\nimport { deepCopy, defineReadOnly, shallowCopy } from \"@ethersproject/properties\";\nimport { shuffled } from \"@ethersproject/random\";\nimport { poll } from \"@ethersproject/web\";\nimport { BaseProvider } from \"./base-provider\";\nimport { isCommunityResource } from \"./formatter\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction now() { return (new Date()).getTime(); }\n// Returns to network as long as all agree, or null if any is null.\n// Throws an error if any two networks do not match.\nfunction checkNetworks(networks) {\n    let result = null;\n    for (let i = 0; i < networks.length; i++) {\n        const network = networks[i];\n        // Null! We do not know our network; bail.\n        if (network == null) {\n            return null;\n        }\n        if (result) {\n            // Make sure the network matches the previous networks\n            if (!(result.name === network.name && result.chainId === network.chainId &&\n                ((result.ensAddress === network.ensAddress) || (result.ensAddress == null && network.ensAddress == null)))) {\n                logger.throwArgumentError(\"provider mismatch\", \"networks\", networks);\n            }\n        }\n        else {\n            result = network;\n        }\n    }\n    return result;\n}\nfunction median(values, maxDelta) {\n    values = values.slice().sort();\n    const middle = Math.floor(values.length / 2);\n    // Odd length; take the middle\n    if (values.length % 2) {\n        return values[middle];\n    }\n    // Even length; take the average of the two middle\n    const a = values[middle - 1], b = values[middle];\n    if (maxDelta != null && Math.abs(a - b) > maxDelta) {\n        return null;\n    }\n    return (a + b) / 2;\n}\nfunction serialize(value) {\n    if (value === null) {\n        return \"null\";\n    }\n    else if (typeof (value) === \"number\" || typeof (value) === \"boolean\") {\n        return JSON.stringify(value);\n    }\n    else if (typeof (value) === \"string\") {\n        return value;\n    }\n    else if (BigNumber.isBigNumber(value)) {\n        return value.toString();\n    }\n    else if (Array.isArray(value)) {\n        return JSON.stringify(value.map((i) => serialize(i)));\n    }\n    else if (typeof (value) === \"object\") {\n        const keys = Object.keys(value);\n        keys.sort();\n        return \"{\" + keys.map((key) => {\n            let v = value[key];\n            if (typeof (v) === \"function\") {\n                v = \"[function]\";\n            }\n            else {\n                v = serialize(v);\n            }\n            return JSON.stringify(key) + \":\" + v;\n        }).join(\",\") + \"}\";\n    }\n    throw new Error(\"unknown value type: \" + typeof (value));\n}\n// Next request ID to use for emitting debug info\nlet nextRid = 1;\n;\nfunction stall(duration) {\n    let cancel = null;\n    let timer = null;\n    let promise = (new Promise((resolve) => {\n        cancel = function () {\n            if (timer) {\n                clearTimeout(timer);\n                timer = null;\n            }\n            resolve();\n        };\n        timer = setTimeout(cancel, duration);\n    }));\n    const wait = (func) => {\n        promise = promise.then(func);\n        return promise;\n    };\n    function getPromise() {\n        return promise;\n    }\n    return { cancel, getPromise, wait };\n}\nconst ForwardErrors = [\n    Logger.errors.CALL_EXCEPTION,\n    Logger.errors.INSUFFICIENT_FUNDS,\n    Logger.errors.NONCE_EXPIRED,\n    Logger.errors.REPLACEMENT_UNDERPRICED,\n    Logger.errors.UNPREDICTABLE_GAS_LIMIT\n];\nconst ForwardProperties = [\n    \"address\",\n    \"args\",\n    \"errorArgs\",\n    \"errorSignature\",\n    \"method\",\n    \"transaction\",\n];\n;\nfunction exposeDebugConfig(config, now) {\n    const result = {\n        weight: config.weight\n    };\n    Object.defineProperty(result, \"provider\", { get: () => config.provider });\n    if (config.start) {\n        result.start = config.start;\n    }\n    if (now) {\n        result.duration = (now - config.start);\n    }\n    if (config.done) {\n        if (config.error) {\n            result.error = config.error;\n        }\n        else {\n            result.result = config.result || null;\n        }\n    }\n    return result;\n}\nfunction normalizedTally(normalize, quorum) {\n    return function (configs) {\n        // Count the votes for each result\n        const tally = {};\n        configs.forEach((c) => {\n            const value = normalize(c.result);\n            if (!tally[value]) {\n                tally[value] = { count: 0, result: c.result };\n            }\n            tally[value].count++;\n        });\n        // Check for a quorum on any given result\n        const keys = Object.keys(tally);\n        for (let i = 0; i < keys.length; i++) {\n            const check = tally[keys[i]];\n            if (check.count >= quorum) {\n                return check.result;\n            }\n        }\n        // No quroum\n        return undefined;\n    };\n}\nfunction getProcessFunc(provider, method, params) {\n    let normalize = serialize;\n    switch (method) {\n        case \"getBlockNumber\":\n            // Return the median value, unless there is (median + 1) is also\n            // present, in which case that is probably true and the median\n            // is going to be stale soon. In the event of a malicious node,\n            // the lie will be true soon enough.\n            return function (configs) {\n                const values = configs.map((c) => c.result);\n                // Get the median block number\n                let blockNumber = median(configs.map((c) => c.result), 2);\n                if (blockNumber == null) {\n                    return undefined;\n                }\n                blockNumber = Math.ceil(blockNumber);\n                // If the next block height is present, its prolly safe to use\n                if (values.indexOf(blockNumber + 1) >= 0) {\n                    blockNumber++;\n                }\n                // Don't ever roll back the blockNumber\n                if (blockNumber >= provider._highestBlockNumber) {\n                    provider._highestBlockNumber = blockNumber;\n                }\n                return provider._highestBlockNumber;\n            };\n        case \"getGasPrice\":\n            // Return the middle (round index up) value, similar to median\n            // but do not average even entries and choose the higher.\n            // Malicious actors must compromise 50% of the nodes to lie.\n            return function (configs) {\n                const values = configs.map((c) => c.result);\n                values.sort();\n                return values[Math.floor(values.length / 2)];\n            };\n        case \"getEtherPrice\":\n            // Returns the median price. Malicious actors must compromise at\n            // least 50% of the nodes to lie (in a meaningful way).\n            return function (configs) {\n                return median(configs.map((c) => c.result));\n            };\n        // No additional normalizing required; serialize is enough\n        case \"getBalance\":\n        case \"getTransactionCount\":\n        case \"getCode\":\n        case \"getStorageAt\":\n        case \"call\":\n        case \"estimateGas\":\n        case \"getLogs\":\n            break;\n        // We drop the confirmations from transactions as it is approximate\n        case \"getTransaction\":\n        case \"getTransactionReceipt\":\n            normalize = function (tx) {\n                if (tx == null) {\n                    return null;\n                }\n                tx = shallowCopy(tx);\n                tx.confirmations = -1;\n                return serialize(tx);\n            };\n            break;\n        // We drop the confirmations from transactions as it is approximate\n        case \"getBlock\":\n            // We drop the confirmations from transactions as it is approximate\n            if (params.includeTransactions) {\n                normalize = function (block) {\n                    if (block == null) {\n                        return null;\n                    }\n                    block = shallowCopy(block);\n                    block.transactions = block.transactions.map((tx) => {\n                        tx = shallowCopy(tx);\n                        tx.confirmations = -1;\n                        return tx;\n                    });\n                    return serialize(block);\n                };\n            }\n            else {\n                normalize = function (block) {\n                    if (block == null) {\n                        return null;\n                    }\n                    return serialize(block);\n                };\n            }\n            break;\n        default:\n            throw new Error(\"unknown method: \" + method);\n    }\n    // Return the result if and only if the expected quorum is\n    // satisfied and agreed upon for the final result.\n    return normalizedTally(normalize, provider.quorum);\n}\n// If we are doing a blockTag query, we need to make sure the backend is\n// caught up to the FallbackProvider, before sending a request to it.\nfunction waitForSync(config, blockNumber) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const provider = (config.provider);\n        if ((provider.blockNumber != null && provider.blockNumber >= blockNumber) || blockNumber === -1) {\n            return provider;\n        }\n        return poll(() => {\n            return new Promise((resolve, reject) => {\n                setTimeout(function () {\n                    // We are synced\n                    if (provider.blockNumber >= blockNumber) {\n                        return resolve(provider);\n                    }\n                    // We're done; just quit\n                    if (config.cancelled) {\n                        return resolve(null);\n                    }\n                    // Try again, next block\n                    return resolve(undefined);\n                }, 0);\n            });\n        }, { oncePoll: provider });\n    });\n}\nfunction getRunner(config, currentBlockNumber, method, params) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let provider = config.provider;\n        switch (method) {\n            case \"getBlockNumber\":\n            case \"getGasPrice\":\n                return provider[method]();\n            case \"getEtherPrice\":\n                if (provider.getEtherPrice) {\n                    return provider.getEtherPrice();\n                }\n                break;\n            case \"getBalance\":\n            case \"getTransactionCount\":\n            case \"getCode\":\n                if (params.blockTag && isHexString(params.blockTag)) {\n                    provider = yield waitForSync(config, currentBlockNumber);\n                }\n                return provider[method](params.address, params.blockTag || \"latest\");\n            case \"getStorageAt\":\n                if (params.blockTag && isHexString(params.blockTag)) {\n                    provider = yield waitForSync(config, currentBlockNumber);\n                }\n                return provider.getStorageAt(params.address, params.position, params.blockTag || \"latest\");\n            case \"getBlock\":\n                if (params.blockTag && isHexString(params.blockTag)) {\n                    provider = yield waitForSync(config, currentBlockNumber);\n                }\n                return provider[(params.includeTransactions ? \"getBlockWithTransactions\" : \"getBlock\")](params.blockTag || params.blockHash);\n            case \"call\":\n            case \"estimateGas\":\n                if (params.blockTag && isHexString(params.blockTag)) {\n                    provider = yield waitForSync(config, currentBlockNumber);\n                }\n                return provider[method](params.transaction);\n            case \"getTransaction\":\n            case \"getTransactionReceipt\":\n                return provider[method](params.transactionHash);\n            case \"getLogs\": {\n                let filter = params.filter;\n                if ((filter.fromBlock && isHexString(filter.fromBlock)) || (filter.toBlock && isHexString(filter.toBlock))) {\n                    provider = yield waitForSync(config, currentBlockNumber);\n                }\n                return provider.getLogs(filter);\n            }\n        }\n        return logger.throwError(\"unknown method error\", Logger.errors.UNKNOWN_ERROR, {\n            method: method,\n            params: params\n        });\n    });\n}\nexport class FallbackProvider extends BaseProvider {\n    constructor(providers, quorum) {\n        if (providers.length === 0) {\n            logger.throwArgumentError(\"missing providers\", \"providers\", providers);\n        }\n        const providerConfigs = providers.map((configOrProvider, index) => {\n            if (Provider.isProvider(configOrProvider)) {\n                const stallTimeout = isCommunityResource(configOrProvider) ? 2000 : 750;\n                const priority = 1;\n                return Object.freeze({ provider: configOrProvider, weight: 1, stallTimeout, priority });\n            }\n            const config = shallowCopy(configOrProvider);\n            if (config.priority == null) {\n                config.priority = 1;\n            }\n            if (config.stallTimeout == null) {\n                config.stallTimeout = isCommunityResource(configOrProvider) ? 2000 : 750;\n            }\n            if (config.weight == null) {\n                config.weight = 1;\n            }\n            const weight = config.weight;\n            if (weight % 1 || weight > 512 || weight < 1) {\n                logger.throwArgumentError(\"invalid weight; must be integer in [1, 512]\", `providers[${index}].weight`, weight);\n            }\n            return Object.freeze(config);\n        });\n        const total = providerConfigs.reduce((accum, c) => (accum + c.weight), 0);\n        if (quorum == null) {\n            quorum = total / 2;\n        }\n        else if (quorum > total) {\n            logger.throwArgumentError(\"quorum will always fail; larger than total weight\", \"quorum\", quorum);\n        }\n        // Are all providers' networks are known\n        let networkOrReady = checkNetworks(providerConfigs.map((c) => (c.provider).network));\n        // Not all networks are known; we must stall\n        if (networkOrReady == null) {\n            networkOrReady = new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    this.detectNetwork().then(resolve, reject);\n                }, 0);\n            });\n        }\n        super(networkOrReady);\n        // Preserve a copy, so we do not get mutated\n        defineReadOnly(this, \"providerConfigs\", Object.freeze(providerConfigs));\n        defineReadOnly(this, \"quorum\", quorum);\n        this._highestBlockNumber = -1;\n    }\n    detectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const networks = yield Promise.all(this.providerConfigs.map((c) => c.provider.getNetwork()));\n            return checkNetworks(networks);\n        });\n    }\n    perform(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Sending transactions is special; always broadcast it to all backends\n            if (method === \"sendTransaction\") {\n                const results = yield Promise.all(this.providerConfigs.map((c) => {\n                    return c.provider.sendTransaction(params.signedTransaction).then((result) => {\n                        return result.hash;\n                    }, (error) => {\n                        return error;\n                    });\n                }));\n                // Any success is good enough (other errors are likely \"already seen\" errors\n                for (let i = 0; i < results.length; i++) {\n                    const result = results[i];\n                    if (typeof (result) === \"string\") {\n                        return result;\n                    }\n                }\n                // They were all an error; pick the first error\n                throw results[0];\n            }\n            // We need to make sure we are in sync with our backends, so we need\n            // to know this before we can make a lot of calls\n            if (this._highestBlockNumber === -1 && method !== \"getBlockNumber\") {\n                yield this.getBlockNumber();\n            }\n            const processFunc = getProcessFunc(this, method, params);\n            // Shuffle the providers and then sort them by their priority; we\n            // shallowCopy them since we will store the result in them too\n            const configs = shuffled(this.providerConfigs.map(shallowCopy));\n            configs.sort((a, b) => (a.priority - b.priority));\n            const currentBlockNumber = this._highestBlockNumber;\n            let i = 0;\n            let first = true;\n            while (true) {\n                const t0 = now();\n                // Compute the inflight weight (exclude anything past)\n                let inflightWeight = configs.filter((c) => (c.runner && ((t0 - c.start) < c.stallTimeout)))\n                    .reduce((accum, c) => (accum + c.weight), 0);\n                // Start running enough to meet quorum\n                while (inflightWeight < this.quorum && i < configs.length) {\n                    const config = configs[i++];\n                    const rid = nextRid++;\n                    config.start = now();\n                    config.staller = stall(config.stallTimeout);\n                    config.staller.wait(() => { config.staller = null; });\n                    config.runner = getRunner(config, currentBlockNumber, method, params).then((result) => {\n                        config.done = true;\n                        config.result = result;\n                        if (this.listenerCount(\"debug\")) {\n                            this.emit(\"debug\", {\n                                action: \"request\",\n                                rid: rid,\n                                backend: exposeDebugConfig(config, now()),\n                                request: { method: method, params: deepCopy(params) },\n                                provider: this\n                            });\n                        }\n                    }, (error) => {\n                        config.done = true;\n                        config.error = error;\n                        if (this.listenerCount(\"debug\")) {\n                            this.emit(\"debug\", {\n                                action: \"request\",\n                                rid: rid,\n                                backend: exposeDebugConfig(config, now()),\n                                request: { method: method, params: deepCopy(params) },\n                                provider: this\n                            });\n                        }\n                    });\n                    if (this.listenerCount(\"debug\")) {\n                        this.emit(\"debug\", {\n                            action: \"request\",\n                            rid: rid,\n                            backend: exposeDebugConfig(config, null),\n                            request: { method: method, params: deepCopy(params) },\n                            provider: this\n                        });\n                    }\n                    inflightWeight += config.weight;\n                }\n                // Wait for anything meaningful to finish or stall out\n                const waiting = [];\n                configs.forEach((c) => {\n                    if (c.done || !c.runner) {\n                        return;\n                    }\n                    waiting.push(c.runner);\n                    if (c.staller) {\n                        waiting.push(c.staller.getPromise());\n                    }\n                });\n                if (waiting.length) {\n                    yield Promise.race(waiting);\n                }\n                // Check the quorum and process the results; the process function\n                // may additionally decide the quorum is not met\n                const results = configs.filter((c) => (c.done && c.error == null));\n                if (results.length >= this.quorum) {\n                    const result = processFunc(results);\n                    if (result !== undefined) {\n                        // Shut down any stallers\n                        configs.forEach(c => {\n                            if (c.staller) {\n                                c.staller.cancel();\n                            }\n                            c.cancelled = true;\n                        });\n                        return result;\n                    }\n                    if (!first) {\n                        yield stall(100).getPromise();\n                    }\n                    first = false;\n                }\n                // No result, check for errors that should be forwarded\n                const errors = configs.reduce((accum, c) => {\n                    if (!c.done || c.error == null) {\n                        return accum;\n                    }\n                    const code = (c.error).code;\n                    if (ForwardErrors.indexOf(code) >= 0) {\n                        if (!accum[code]) {\n                            accum[code] = { error: c.error, weight: 0 };\n                        }\n                        accum[code].weight += c.weight;\n                    }\n                    return accum;\n                }, ({}));\n                Object.keys(errors).forEach((errorCode) => {\n                    const tally = errors[errorCode];\n                    if (tally.weight < this.quorum) {\n                        return;\n                    }\n                    // Shut down any stallers\n                    configs.forEach(c => {\n                        if (c.staller) {\n                            c.staller.cancel();\n                        }\n                        c.cancelled = true;\n                    });\n                    const e = (tally.error);\n                    const props = {};\n                    ForwardProperties.forEach((name) => {\n                        if (e[name] == null) {\n                            return;\n                        }\n                        props[name] = e[name];\n                    });\n                    logger.throwError(e.reason || e.message, errorCode, props);\n                });\n                // All configs have run to completion; we will never get more data\n                if (configs.filter((c) => !c.done).length === 0) {\n                    break;\n                }\n            }\n            // Shut down any stallers; shouldn't be any\n            configs.forEach(c => {\n                if (c.staller) {\n                    c.staller.cancel();\n                }\n                c.cancelled = true;\n            });\n            return logger.throwError(\"failed to meet quorum\", Logger.errors.SERVER_ERROR, {\n                method: method,\n                params: params,\n                //results: configs.map((c) => c.result),\n                //errors: configs.map((c) => c.error),\n                results: configs.map((c) => exposeDebugConfig(c)),\n                provider: this\n            });\n        });\n    }\n}\n//# sourceMappingURL=fallback-provider.js.map","\"use strict\";\nconst IpcProvider = null;\nexport { IpcProvider };\n//# sourceMappingURL=ipc-provider.js.map","\"use strict\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { WebSocketProvider } from \"./websocket-provider\";\nimport { showThrottleMessage } from \"./formatter\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nconst defaultProjectId = \"84842078b09946638c03157f83405213\";\nexport class InfuraWebSocketProvider extends WebSocketProvider {\n    constructor(network, apiKey) {\n        const provider = new InfuraProvider(network, apiKey);\n        const connection = provider.connection;\n        if (connection.password) {\n            logger.throwError(\"INFURA WebSocket project secrets unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"InfuraProvider.getWebSocketProvider()\"\n            });\n        }\n        const url = connection.url.replace(/^http/i, \"ws\").replace(\"/v3/\", \"/ws/v3/\");\n        super(url, network);\n        defineReadOnly(this, \"apiKey\", provider.projectId);\n        defineReadOnly(this, \"projectId\", provider.projectId);\n        defineReadOnly(this, \"projectSecret\", provider.projectSecret);\n    }\n    isCommunityResource() {\n        return (this.projectId === defaultProjectId);\n    }\n}\nexport class InfuraProvider extends UrlJsonRpcProvider {\n    static getWebSocketProvider(network, apiKey) {\n        return new InfuraWebSocketProvider(network, apiKey);\n    }\n    static getApiKey(apiKey) {\n        const apiKeyObj = {\n            apiKey: defaultProjectId,\n            projectId: defaultProjectId,\n            projectSecret: null\n        };\n        if (apiKey == null) {\n            return apiKeyObj;\n        }\n        if (typeof (apiKey) === \"string\") {\n            apiKeyObj.projectId = apiKey;\n        }\n        else if (apiKey.projectSecret != null) {\n            logger.assertArgument((typeof (apiKey.projectId) === \"string\"), \"projectSecret requires a projectId\", \"projectId\", apiKey.projectId);\n            logger.assertArgument((typeof (apiKey.projectSecret) === \"string\"), \"invalid projectSecret\", \"projectSecret\", \"[REDACTED]\");\n            apiKeyObj.projectId = apiKey.projectId;\n            apiKeyObj.projectSecret = apiKey.projectSecret;\n        }\n        else if (apiKey.projectId) {\n            apiKeyObj.projectId = apiKey.projectId;\n        }\n        apiKeyObj.apiKey = apiKeyObj.projectId;\n        return apiKeyObj;\n    }\n    static getUrl(network, apiKey) {\n        let host = null;\n        switch (network ? network.name : \"unknown\") {\n            case \"homestead\":\n                host = \"mainnet.infura.io\";\n                break;\n            case \"ropsten\":\n                host = \"ropsten.infura.io\";\n                break;\n            case \"rinkeby\":\n                host = \"rinkeby.infura.io\";\n                break;\n            case \"kovan\":\n                host = \"kovan.infura.io\";\n                break;\n            case \"goerli\":\n                host = \"goerli.infura.io\";\n                break;\n            case \"matic\":\n                host = \"polygon-mainnet.infura.io\";\n                break;\n            case \"maticmum\":\n                host = \"polygon-mumbai.infura.io\";\n                break;\n            case \"optimism\":\n                host = \"optimism-mainnet.infura.io\";\n                break;\n            case \"optimism-kovan\":\n                host = \"optimism-kovan.infura.io\";\n                break;\n            case \"arbitrum\":\n                host = \"arbitrum-mainnet.infura.io\";\n                break;\n            case \"arbitrum-rinkeby\":\n                host = \"arbitrum-rinkeby.infura.io\";\n                break;\n            default:\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"network\",\n                    value: network\n                });\n        }\n        const connection = {\n            allowGzip: true,\n            url: (\"https:/\" + \"/\" + host + \"/v3/\" + apiKey.projectId),\n            throttleCallback: (attempt, url) => {\n                if (apiKey.projectId === defaultProjectId) {\n                    showThrottleMessage();\n                }\n                return Promise.resolve(true);\n            }\n        };\n        if (apiKey.projectSecret != null) {\n            connection.user = \"\";\n            connection.password = apiKey.projectSecret;\n        }\n        return connection;\n    }\n    isCommunityResource() {\n        return (this.projectId === defaultProjectId);\n    }\n}\n//# sourceMappingURL=infura-provider.js.map","import { deepCopy } from \"@ethersproject/properties\";\nimport { fetchJson } from \"@ethersproject/web\";\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\n// Experimental\nexport class JsonRpcBatchProvider extends JsonRpcProvider {\n    send(method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        if (this._pendingBatch == null) {\n            this._pendingBatch = [];\n        }\n        const inflightRequest = { request, resolve: null, reject: null };\n        const promise = new Promise((resolve, reject) => {\n            inflightRequest.resolve = resolve;\n            inflightRequest.reject = reject;\n        });\n        this._pendingBatch.push(inflightRequest);\n        if (!this._pendingBatchAggregator) {\n            // Schedule batch for next event loop + short duration\n            this._pendingBatchAggregator = setTimeout(() => {\n                // Get teh current batch and clear it, so new requests\n                // go into the next batch\n                const batch = this._pendingBatch;\n                this._pendingBatch = null;\n                this._pendingBatchAggregator = null;\n                // Get the request as an array of requests\n                const request = batch.map((inflight) => inflight.request);\n                this.emit(\"debug\", {\n                    action: \"requestBatch\",\n                    request: deepCopy(request),\n                    provider: this\n                });\n                return fetchJson(this.connection, JSON.stringify(request)).then((result) => {\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        request: request,\n                        response: result,\n                        provider: this\n                    });\n                    // For each result, feed it to the correct Promise, depending\n                    // on whether it was a success or error\n                    batch.forEach((inflightRequest, index) => {\n                        const payload = result[index];\n                        if (payload.error) {\n                            const error = new Error(payload.error.message);\n                            error.code = payload.error.code;\n                            error.data = payload.error.data;\n                            inflightRequest.reject(error);\n                        }\n                        else {\n                            inflightRequest.resolve(payload.result);\n                        }\n                    });\n                }, (error) => {\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        error: error,\n                        request: request,\n                        provider: this\n                    });\n                    batch.forEach((inflightRequest) => {\n                        inflightRequest.reject(error);\n                    });\n                });\n            }, 10);\n        }\n        return promise;\n    }\n}\n//# sourceMappingURL=json-rpc-batch-provider.js.map","/* istanbul ignore file */\n\"use strict\";\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n// Special API key provided by Nodesmith for ethers.js\nconst defaultApiKey = \"ETHERS_JS_SHARED\";\nexport class NodesmithProvider extends UrlJsonRpcProvider {\n    static getApiKey(apiKey) {\n        if (apiKey && typeof (apiKey) !== \"string\") {\n            logger.throwArgumentError(\"invalid apiKey\", \"apiKey\", apiKey);\n        }\n        return apiKey || defaultApiKey;\n    }\n    static getUrl(network, apiKey) {\n        logger.warn(\"NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.\");\n        let host = null;\n        switch (network.name) {\n            case \"homestead\":\n                host = \"https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc\";\n                break;\n            case \"ropsten\":\n                host = \"https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc\";\n                break;\n            case \"rinkeby\":\n                host = \"https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc\";\n                break;\n            case \"goerli\":\n                host = \"https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc\";\n                break;\n            case \"kovan\":\n                host = \"https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc\";\n                break;\n            default:\n                logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\n        }\n        return (host + \"?apiKey=\" + apiKey);\n    }\n}\n//# sourceMappingURL=nodesmith-provider.js.map","\"use strict\";\nimport { getStatic } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\n// These are load-balancer-based application IDs\nconst defaultApplicationIds = {\n    homestead: \"6004bcd10040261633ade990\",\n    ropsten: \"6004bd4d0040261633ade991\",\n    rinkeby: \"6004bda20040261633ade994\",\n    goerli: \"6004bd860040261633ade992\",\n};\nexport class PocketProvider extends UrlJsonRpcProvider {\n    constructor(network, apiKey) {\n        // We need a bit of creativity in the constructor because\n        // Pocket uses different default API keys based on the network\n        if (apiKey == null) {\n            const n = getStatic(new.target, \"getNetwork\")(network);\n            if (n) {\n                const applicationId = defaultApplicationIds[n.name];\n                if (applicationId) {\n                    apiKey = {\n                        applicationId: applicationId,\n                        loadBalancer: true\n                    };\n                }\n            }\n            // If there was any issue above, we don't know this network\n            if (apiKey == null) {\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"network\",\n                    value: network\n                });\n            }\n        }\n        super(network, apiKey);\n    }\n    static getApiKey(apiKey) {\n        // Most API Providers allow null to get the default configuration, but\n        // Pocket requires the network to decide the default provider, so we\n        // rely on hijacking the constructor to add a sensible default for us\n        if (apiKey == null) {\n            logger.throwArgumentError(\"PocketProvider.getApiKey does not support null apiKey\", \"apiKey\", apiKey);\n        }\n        const apiKeyObj = {\n            applicationId: null,\n            loadBalancer: false,\n            applicationSecretKey: null\n        };\n        // Parse applicationId and applicationSecretKey\n        if (typeof (apiKey) === \"string\") {\n            apiKeyObj.applicationId = apiKey;\n        }\n        else if (apiKey.applicationSecretKey != null) {\n            logger.assertArgument((typeof (apiKey.applicationId) === \"string\"), \"applicationSecretKey requires an applicationId\", \"applicationId\", apiKey.applicationId);\n            logger.assertArgument((typeof (apiKey.applicationSecretKey) === \"string\"), \"invalid applicationSecretKey\", \"applicationSecretKey\", \"[REDACTED]\");\n            apiKeyObj.applicationId = apiKey.applicationId;\n            apiKeyObj.applicationSecretKey = apiKey.applicationSecretKey;\n            apiKeyObj.loadBalancer = !!apiKey.loadBalancer;\n        }\n        else if (apiKey.applicationId) {\n            logger.assertArgument((typeof (apiKey.applicationId) === \"string\"), \"apiKey.applicationId must be a string\", \"apiKey.applicationId\", apiKey.applicationId);\n            apiKeyObj.applicationId = apiKey.applicationId;\n            apiKeyObj.loadBalancer = !!apiKey.loadBalancer;\n        }\n        else {\n            logger.throwArgumentError(\"unsupported PocketProvider apiKey\", \"apiKey\", apiKey);\n        }\n        return apiKeyObj;\n    }\n    static getUrl(network, apiKey) {\n        let host = null;\n        switch (network ? network.name : \"unknown\") {\n            case \"homestead\":\n                host = \"eth-mainnet.gateway.pokt.network\";\n                break;\n            case \"ropsten\":\n                host = \"eth-ropsten.gateway.pokt.network\";\n                break;\n            case \"rinkeby\":\n                host = \"eth-rinkeby.gateway.pokt.network\";\n                break;\n            case \"goerli\":\n                host = \"eth-goerli.gateway.pokt.network\";\n                break;\n            default:\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"network\",\n                    value: network\n                });\n        }\n        let url = null;\n        if (apiKey.loadBalancer) {\n            url = `https:/\\/${host}/v1/lb/${apiKey.applicationId}`;\n        }\n        else {\n            url = `https:/\\/${host}/v1/${apiKey.applicationId}`;\n        }\n        const connection = { url };\n        // Initialize empty headers\n        connection.headers = {};\n        // Apply application secret key\n        if (apiKey.applicationSecretKey != null) {\n            connection.user = \"\";\n            connection.password = apiKey.applicationSecretKey;\n        }\n        return connection;\n    }\n    isCommunityResource() {\n        return (this.applicationId === defaultApplicationIds[this.network.name]);\n    }\n}\n//# sourceMappingURL=pocket-provider.js.map","\"use strict\";\nimport { deepCopy, defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\nlet _nextId = 1;\nfunction buildWeb3LegacyFetcher(provider, sendFunc) {\n    const fetcher = \"Web3LegacyFetcher\";\n    return function (method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (_nextId++),\n            jsonrpc: \"2.0\"\n        };\n        return new Promise((resolve, reject) => {\n            this.emit(\"debug\", {\n                action: \"request\",\n                fetcher,\n                request: deepCopy(request),\n                provider: this\n            });\n            sendFunc(request, (error, response) => {\n                if (error) {\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        fetcher,\n                        error,\n                        request,\n                        provider: this\n                    });\n                    return reject(error);\n                }\n                this.emit(\"debug\", {\n                    action: \"response\",\n                    fetcher,\n                    request,\n                    response,\n                    provider: this\n                });\n                if (response.error) {\n                    const error = new Error(response.error.message);\n                    error.code = response.error.code;\n                    error.data = response.error.data;\n                    return reject(error);\n                }\n                resolve(response.result);\n            });\n        });\n    };\n}\nfunction buildEip1193Fetcher(provider) {\n    return function (method, params) {\n        if (params == null) {\n            params = [];\n        }\n        const request = { method, params };\n        this.emit(\"debug\", {\n            action: \"request\",\n            fetcher: \"Eip1193Fetcher\",\n            request: deepCopy(request),\n            provider: this\n        });\n        return provider.request(request).then((response) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                fetcher: \"Eip1193Fetcher\",\n                request,\n                response,\n                provider: this\n            });\n            return response;\n        }, (error) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                fetcher: \"Eip1193Fetcher\",\n                request,\n                error,\n                provider: this\n            });\n            throw error;\n        });\n    };\n}\nexport class Web3Provider extends JsonRpcProvider {\n    constructor(provider, network) {\n        if (provider == null) {\n            logger.throwArgumentError(\"missing provider\", \"provider\", provider);\n        }\n        let path = null;\n        let jsonRpcFetchFunc = null;\n        let subprovider = null;\n        if (typeof (provider) === \"function\") {\n            path = \"unknown:\";\n            jsonRpcFetchFunc = provider;\n        }\n        else {\n            path = provider.host || provider.path || \"\";\n            if (!path && provider.isMetaMask) {\n                path = \"metamask\";\n            }\n            subprovider = provider;\n            if (provider.request) {\n                if (path === \"\") {\n                    path = \"eip-1193:\";\n                }\n                jsonRpcFetchFunc = buildEip1193Fetcher(provider);\n            }\n            else if (provider.sendAsync) {\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.sendAsync.bind(provider));\n            }\n            else if (provider.send) {\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.send.bind(provider));\n            }\n            else {\n                logger.throwArgumentError(\"unsupported provider\", \"provider\", provider);\n            }\n            if (!path) {\n                path = \"unknown:\";\n            }\n        }\n        super(path, network);\n        defineReadOnly(this, \"jsonRpcFetchFunc\", jsonRpcFetchFunc);\n        defineReadOnly(this, \"provider\", subprovider);\n    }\n    send(method, params) {\n        return this.jsonRpcFetchFunc(method, params);\n    }\n}\n//# sourceMappingURL=web3-provider.js.map","\"use strict\";\nimport { Provider } from \"@ethersproject/abstract-provider\";\nimport { getNetwork } from \"@ethersproject/networks\";\nimport { BaseProvider, Resolver } from \"./base-provider\";\nimport { AlchemyProvider, AlchemyWebSocketProvider } from \"./alchemy-provider\";\nimport { AnkrProvider } from \"./ankr-provider\";\nimport { CloudflareProvider } from \"./cloudflare-provider\";\nimport { EtherscanProvider } from \"./etherscan-provider\";\nimport { FallbackProvider } from \"./fallback-provider\";\nimport { IpcProvider } from \"./ipc-provider\";\nimport { InfuraProvider, InfuraWebSocketProvider } from \"./infura-provider\";\nimport { JsonRpcProvider, JsonRpcSigner } from \"./json-rpc-provider\";\nimport { JsonRpcBatchProvider } from \"./json-rpc-batch-provider\";\nimport { NodesmithProvider } from \"./nodesmith-provider\";\nimport { PocketProvider } from \"./pocket-provider\";\nimport { StaticJsonRpcProvider, UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nimport { Web3Provider } from \"./web3-provider\";\nimport { WebSocketProvider } from \"./websocket-provider\";\nimport { Formatter, isCommunityResourcable, isCommunityResource, showThrottleMessage } from \"./formatter\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n////////////////////////\n// Helper Functions\nfunction getDefaultProvider(network, options) {\n    if (network == null) {\n        network = \"homestead\";\n    }\n    // If passed a URL, figure out the right type of provider based on the scheme\n    if (typeof (network) === \"string\") {\n        // @TODO: Add support for IpcProvider; maybe if it ends in \".ipc\"?\n        // Handle http and ws (and their secure variants)\n        const match = network.match(/^(ws|http)s?:/i);\n        if (match) {\n            switch (match[1].toLowerCase()) {\n                case \"http\":\n                case \"https\":\n                    return new JsonRpcProvider(network);\n                case \"ws\":\n                case \"wss\":\n                    return new WebSocketProvider(network);\n                default:\n                    logger.throwArgumentError(\"unsupported URL scheme\", \"network\", network);\n            }\n        }\n    }\n    const n = getNetwork(network);\n    if (!n || !n._defaultProvider) {\n        logger.throwError(\"unsupported getDefaultProvider network\", Logger.errors.NETWORK_ERROR, {\n            operation: \"getDefaultProvider\",\n            network: network\n        });\n    }\n    return n._defaultProvider({\n        FallbackProvider,\n        AlchemyProvider,\n        AnkrProvider,\n        CloudflareProvider,\n        EtherscanProvider,\n        InfuraProvider,\n        JsonRpcProvider,\n        NodesmithProvider,\n        PocketProvider,\n        Web3Provider,\n        IpcProvider,\n    }, options);\n}\n////////////////////////\n// Exports\nexport { \n// Abstract Providers (or Abstract-ish)\nProvider, BaseProvider, Resolver, UrlJsonRpcProvider, \n///////////////////////\n// Concrete Providers\nFallbackProvider, AlchemyProvider, AlchemyWebSocketProvider, AnkrProvider, CloudflareProvider, EtherscanProvider, InfuraProvider, InfuraWebSocketProvider, JsonRpcProvider, JsonRpcBatchProvider, NodesmithProvider, PocketProvider, StaticJsonRpcProvider, Web3Provider, WebSocketProvider, IpcProvider, \n///////////////////////\n// Signer\nJsonRpcSigner, \n///////////////////////\n// Functions\ngetDefaultProvider, getNetwork, isCommunityResource, isCommunityResourcable, showThrottleMessage, \n///////////////////////\n// Objects\nFormatter };\n//# sourceMappingURL=index.js.map","export function networkStatesReducer(prevState, actions) {\n    switch (actions.type) {\n        case 'UPDATE_NON_STATIC_CALLS_COUNT': {\n            const newState = Object.assign({}, prevState);\n            newState[actions.chainId] = Object.assign(Object.assign({}, newState[actions.chainId]), { nonStaticCalls: actions.count });\n            return newState;\n        }\n        default:\n            return prevState;\n    }\n}\n//# sourceMappingURL=reducer.js.map","import { providers } from 'ethers';\nexport const isWebSocketProvider = (provider) => {\n    return provider instanceof providers.WebSocketProvider || !!provider._websocket; // Could be a different instance of ethers.\n};\n//# sourceMappingURL=isWebSocketProvider.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\nimport { providers } from 'ethers';\nimport { useConfig } from '../../../hooks';\nimport { ReadonlyNetworksContext } from './context';\nimport { fromEntries } from '../../../helpers/fromEntries';\nimport { networkStatesReducer } from './reducer';\nimport { useWindow } from '../../window';\nimport { isWebSocketProvider } from '../../../helpers';\nconst { Provider, StaticJsonRpcProvider } = providers;\nconst getProviderFromConfig = (urlOrProviderOrProviderFunction) => {\n    if (Provider.isProvider(urlOrProviderOrProviderFunction)) {\n        return urlOrProviderOrProviderFunction;\n    }\n    if (typeof urlOrProviderOrProviderFunction === 'function') {\n        return urlOrProviderOrProviderFunction();\n    }\n    return new StaticJsonRpcProvider(urlOrProviderOrProviderFunction);\n};\nexport const getProvidersFromConfig = (readOnlyUrls) => fromEntries(Object.entries(readOnlyUrls).map(([chainId, urlOrProviderOrProviderFunction]) => [\n    chainId,\n    getProviderFromConfig(urlOrProviderOrProviderFunction),\n]));\nexport function ReadonlyNetworksProvider({ providerOverrides = {}, children }) {\n    const { readOnlyUrls = {}, pollingInterval, pollingIntervals } = useConfig();\n    const { isActive } = useWindow();\n    const [providers, setProviders] = useState(() => (Object.assign(Object.assign({}, getProvidersFromConfig(readOnlyUrls)), providerOverrides)));\n    const [networkStates, dispatchNetworkState] = useReducer(networkStatesReducer, Object.assign({}, fromEntries(Object.keys(Object.assign(Object.assign({}, readOnlyUrls), providerOverrides)).map((chainId) => [chainId, { nonStaticCalls: 0 }]))));\n    const getPollingInterval = useCallback((chainId) => { var _a; return (_a = pollingIntervals === null || pollingIntervals === void 0 ? void 0 : pollingIntervals[chainId]) !== null && _a !== void 0 ? _a : pollingInterval; }, [\n        pollingInterval,\n        pollingIntervals,\n    ]);\n    useEffect(() => {\n        setProviders(Object.assign(Object.assign({}, getProvidersFromConfig(readOnlyUrls)), providerOverrides));\n    }, Object.entries(readOnlyUrls).flat());\n    useEffect(() => {\n        for (const [chainId, { nonStaticCalls }] of Object.entries(networkStates)) {\n            const provider = providers[chainId];\n            if (provider) {\n                provider.polling = isActive && nonStaticCalls > 0;\n            }\n        }\n    }, [networkStates, isActive]);\n    useEffect(() => {\n        for (const [chainId, provider] of Object.entries(providers)) {\n            if (!isWebSocketProvider(provider)) {\n                provider.pollingInterval = getPollingInterval(Number(chainId));\n            }\n        }\n    }, [providers, getPollingInterval]);\n    const networks = useMemo(() => ({\n        providers,\n        updateNetworkState: dispatchNetworkState,\n    }), [providers, dispatchNetworkState]);\n    return _jsx(ReadonlyNetworksContext.Provider, Object.assign({ value: networks }, { children: children }));\n}\n//# sourceMappingURL=provider.js.map","export const defaultNetworkState = {\n    provider: undefined,\n    chainId: undefined,\n    accounts: [],\n    errors: [],\n};\nexport function networkReducer(prevState, actions) {\n    switch (actions.type) {\n        case 'UPDATE_NETWORK':\n            return Object.assign(Object.assign({}, prevState), actions.network);\n        case 'ADD_ERROR':\n            return Object.assign(Object.assign({}, prevState), { errors: [...prevState.errors, actions.error] });\n        default:\n            return prevState;\n    }\n}\n//# sourceMappingURL=reducer.js.map","import detectEthereumProvider from '@metamask/detect-provider';\nimport { providers } from 'ethers';\nimport { isWebSocketProvider } from './isWebSocketProvider';\nconst GET_METAMASK_LINK = 'https://metamask.io/download.html';\nexport async function getInjectedProvider(getPollingInterval) {\n    var _a;\n    if (!window.ethereum) {\n        window.open(GET_METAMASK_LINK);\n        return undefined;\n    }\n    const injectedProviders = (window === null || window === void 0 ? void 0 : window.ethereum).providers || [];\n    const injectedProvider = (_a = injectedProviders.find((provider) => {\n        var _a;\n        return (_a = provider.isMetaMask) !== null && _a !== void 0 ? _a : false;\n    })) !== null && _a !== void 0 ? _a : (await detectEthereumProvider());\n    if (!injectedProvider) {\n        window.open(GET_METAMASK_LINK);\n        return undefined;\n    }\n    const provider = new providers.Web3Provider(injectedProvider, 'any');\n    const chainId = await provider.send('eth_chainId', []);\n    if (!isWebSocketProvider(provider)) {\n        provider.pollingInterval = getPollingInterval(chainId);\n    }\n    return provider;\n}\n//# sourceMappingURL=injectedProvider.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer, useState } from 'react';\nimport { NetworkContext } from './context';\nimport { defaultNetworkState, networkReducer } from './reducer';\nimport { providers } from 'ethers';\nimport { subscribeToProviderEvents, getInjectedProvider, isWebSocketProvider } from '../../../helpers';\nimport { useLocalStorage, useConfig } from '../../../hooks';\nimport detectEthereumProvider from '@metamask/detect-provider';\nconst Provider = providers.Provider;\nconst Web3Provider = providers.Web3Provider;\nasync function tryToGetAccount(provider) {\n    try {\n        return await provider.getSigner().getAddress();\n    }\n    catch (err) {\n        if (err.code === 'UNSUPPORTED_OPERATION') {\n            // readonly provider\n            return undefined;\n        }\n        throw err;\n    }\n}\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function NetworkProvider({ children, providerOverride }) {\n    const { autoConnect, pollingInterval, noMetamaskDeactivate, pollingIntervals } = useConfig();\n    const [network, dispatch] = useReducer(networkReducer, defaultNetworkState);\n    const [onUnsubscribe, setOnUnsubscribe] = useState(() => () => undefined);\n    const [shouldConnectMetamask, setShouldConnectMetamask] = useLocalStorage('shouldConnectMetamask');\n    const [isLoading, setLoading] = useState(false);\n    const getPollingInterval = useCallback((chainId) => { var _a; return (_a = pollingIntervals === null || pollingIntervals === void 0 ? void 0 : pollingIntervals[chainId]) !== null && _a !== void 0 ? _a : pollingInterval; }, [\n        pollingInterval,\n        pollingIntervals,\n    ]);\n    const activateBrowserWallet = useCallback(async () => {\n        setLoading(true);\n        const injectedProvider = await getInjectedProvider(getPollingInterval);\n        if (!injectedProvider) {\n            reportError(new Error('No injected provider available'));\n            setLoading(false);\n            console.error('No injected provider available'); // we do not want to crash the app when there is no metamask\n            return;\n        }\n        try {\n            await injectedProvider.send('eth_requestAccounts', []);\n            setShouldConnectMetamask(true);\n        }\n        catch (err) {\n            reportError(err);\n            setShouldConnectMetamask(false);\n            throw err;\n        }\n        finally {\n            setLoading(false);\n        }\n        return activate(injectedProvider);\n    }, []);\n    useEffect(() => {\n        if (providerOverride) {\n            void activate(providerOverride);\n        }\n    }, [providerOverride]);\n    const update = useCallback((newNetwork) => {\n        dispatch({ type: 'UPDATE_NETWORK', network: newNetwork });\n    }, [network]);\n    const reportError = useCallback((error) => {\n        console.error(error);\n        dispatch({ type: 'ADD_ERROR', error });\n    }, []);\n    const deactivate = useCallback(() => {\n        setShouldConnectMetamask(false);\n        update({\n            accounts: [],\n        });\n    }, []);\n    const onDisconnect = useCallback((provider) => (error) => {\n        const isMetaMask = provider.provider.isMetaMask;\n        if (!noMetamaskDeactivate || !isMetaMask) {\n            reportError(error);\n            deactivate();\n        }\n    }, []);\n    useEffect(() => {\n        setTimeout(async () => {\n            var _a, _b, _c;\n            try {\n                if (shouldConnectMetamask && autoConnect && !providerOverride) {\n                    await detectEthereumProvider();\n                    // If window.ethereum._state.accounts is non null but has no items,\n                    // it probably means that the user has disconnected Metamask manually.\n                    if (shouldConnectMetamask && ((_c = (_b = (_a = window.ethereum) === null || _a === void 0 ? void 0 : _a._state) === null || _b === void 0 ? void 0 : _b.accounts) === null || _c === void 0 ? void 0 : _c.length) === 0) {\n                        return;\n                    }\n                    await activateBrowserWallet();\n                }\n            }\n            catch (err) {\n                console.warn(err);\n            }\n        });\n    }, [shouldConnectMetamask, autoConnect, providerOverride]);\n    const activate = useCallback(async (provider) => {\n        var _a;\n        const wrappedProvider = Provider.isProvider(provider) ? provider : new Web3Provider(provider);\n        try {\n            setLoading(true);\n            const account = await tryToGetAccount(wrappedProvider);\n            const chainId = (_a = (await wrappedProvider.getNetwork())) === null || _a === void 0 ? void 0 : _a.chainId;\n            onUnsubscribe();\n            const clearSubscriptions = subscribeToProviderEvents(wrappedProvider.provider, update, onDisconnect(wrappedProvider), (chainId) => {\n                if (!isWebSocketProvider(wrappedProvider)) {\n                    wrappedProvider.pollingInterval = getPollingInterval(chainId);\n                }\n            });\n            setOnUnsubscribe(() => clearSubscriptions);\n            update({\n                provider: wrappedProvider,\n                chainId,\n                accounts: account ? [account] : [],\n            });\n        }\n        catch (err) {\n            reportError(err);\n            throw err;\n        }\n        finally {\n            setLoading(false);\n        }\n    }, [onUnsubscribe]);\n    return (_jsx(NetworkContext.Provider, { value: { network, update, activate, deactivate, reportError, activateBrowserWallet, isLoading }, children: children }));\n}\n//# sourceMappingURL=provider.js.map","export function subscribeToProviderEvents(provider, onUpdate, onDisconnect, onChainChanged) {\n    if (provider === null || provider === void 0 ? void 0 : provider.on) {\n        const onConnectListener = (info) => {\n            if (info === null || info === void 0 ? void 0 : info.chainId) {\n                onUpdate({ chainId: Number(info.chainId) });\n            }\n        };\n        provider.on('connect', onConnectListener);\n        const onDisconnectListener = (error) => {\n            onDisconnect(new Error(error));\n        };\n        provider.on('disconnect', onDisconnectListener);\n        const onChainChangedListener = (chainId) => {\n            onChainChanged === null || onChainChanged === void 0 ? void 0 : onChainChanged(Number(chainId));\n            onUpdate({ chainId: Number(chainId) });\n        };\n        provider.on('chainChanged', onChainChangedListener);\n        const onAccountsChangedListener = (accounts) => {\n            onUpdate({ accounts });\n        };\n        provider.on('accountsChanged', onAccountsChangedListener);\n        return () => {\n            provider.removeListener('connect', onConnectListener);\n            provider.removeListener('disconnect', onDisconnectListener);\n            provider.removeListener('chainChanged', onChainChangedListener);\n            provider.removeListener('accountsChanged', onAccountsChangedListener);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=eip1193.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useReducer } from 'react';\nimport { useDebounce } from '../../../hooks';\nimport { useReadonlyNetworks } from '../../network';\nimport { BlockNumbersContext } from './context';\nimport { blockNumberReducer } from '../common/reducer';\nimport { subscribeToNewBlock } from '../common/subscribeToNewBlock';\nimport { useWindow } from '../../window';\nexport function BlockNumbersProvider({ children }) {\n    const networks = useReadonlyNetworks();\n    const [state, dispatch] = useReducer(blockNumberReducer, {});\n    const { isActive } = useWindow();\n    useEffect(() => {\n        const onUnmount = Object.entries(networks).map(([chainId, provider]) => subscribeToNewBlock(provider, Number(chainId), dispatch, isActive));\n        return () => {\n            onUnmount.forEach((fn) => fn());\n        };\n    }, [networks]);\n    const debouncedState = useDebounce(state, 100);\n    return _jsx(BlockNumbersContext.Provider, { value: debouncedState, children: children });\n}\n//# sourceMappingURL=provider.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { WindowContext } from './context';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function WindowProvider({ children }) {\n    const [isActiveWindow, setActiveWindow] = useState(true);\n    useEffect(() => {\n        const visibilityChangeListener = () => {\n            switch (document.visibilityState) {\n                case 'hidden':\n                    setActiveWindow(false);\n                    break;\n                case 'visible':\n                    setActiveWindow(true);\n                    break;\n            }\n        };\n        document.addEventListener('visibilitychange', visibilityChangeListener);\n        return () => document.removeEventListener('visibilitychange', visibilityChangeListener);\n    }, []);\n    return _jsx(WindowContext.Provider, { value: { isActive: isActiveWindow }, children: children });\n}\n//# sourceMappingURL=provider.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo } from 'react';\nimport { ConfigProvider } from './config';\nimport { BlockNumberProvider } from './blockNumber/blockNumber';\nimport { MultiChainStateProvider } from './chainState';\nimport { useConfig } from '../hooks';\nimport { NotificationsProvider } from './notifications/provider';\nimport { TransactionProvider } from './transactions/provider';\nimport { LocalMulticallProvider } from './LocalMulticallProvider';\nimport { NetworkProvider, ReadonlyNetworksProvider } from './network';\nimport { BlockNumbersProvider } from './blockNumber/blockNumbers';\nimport { WindowProvider } from './window';\n/**\n * Provides basic services for a DApp.\n * @public\n */\nexport function DAppProvider({ config, children }) {\n    return (_jsx(ConfigProvider, Object.assign({ config: config }, { children: _jsx(DAppProviderWithConfig, { children: children }) })));\n}\nconst getMulticallAddresses = (networks) => {\n    const result = {};\n    networks === null || networks === void 0 ? void 0 : networks.forEach((network) => (result[network.chainId] = network.multicallAddress));\n    return result;\n};\nconst getMulticall2Addresses = (networks) => {\n    const result = {};\n    networks === null || networks === void 0 ? void 0 : networks.forEach((network) => {\n        if (network.multicall2Address) {\n            result[network.chainId] = network.multicall2Address;\n        }\n    });\n    return result;\n};\nfunction DAppProviderWithConfig({ children }) {\n    const { multicallAddresses, networks, multicallVersion } = useConfig();\n    const defaultAddresses = useMemo(() => (multicallVersion === 1 ? getMulticallAddresses(networks) : getMulticall2Addresses(networks)), [networks, multicallVersion]);\n    const multicallAddressesMerged = Object.assign(Object.assign({}, defaultAddresses), multicallAddresses);\n    return (_jsx(WindowProvider, { children: _jsx(ReadonlyNetworksProvider, { children: _jsx(NetworkProvider, { children: _jsx(BlockNumberProvider, { children: _jsx(BlockNumbersProvider, { children: _jsx(LocalMulticallProvider, { children: _jsx(MultiChainStateProvider, Object.assign({ multicallAddresses: multicallAddressesMerged }, { children: _jsx(NotificationsProvider, { children: _jsx(TransactionProvider, { children: children }) }) })) }) }) }) }) }) }));\n}\n//# sourceMappingURL=DAppProvider.js.map","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\n//# sourceMappingURL=context.esm.js.map\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar fnToStr = Function.prototype.toString;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = definedKeys(a);\r\n            var bKeys = definedKeys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\".concat(b);\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Uint16Array]':\r\n        case '[object Uint8Array]': // Buffer, in Node.js.\r\n        case '[object Uint32Array]':\r\n        case '[object Int32Array]':\r\n        case '[object Int8Array]':\r\n        case '[object Int16Array]':\r\n        case '[object ArrayBuffer]':\r\n            // DataView doesn't need these conversions, but the equality check is\r\n            // otherwise the same.\r\n            a = new Uint8Array(a);\r\n            b = new Uint8Array(b);\r\n        // Fall through...\r\n        case '[object DataView]': {\r\n            var len = a.byteLength;\r\n            if (len === b.byteLength) {\r\n                while (len-- && a[len] === b[len]) {\r\n                    // Keep looping as long as the bytes are equal.\r\n                }\r\n            }\r\n            return len === -1;\r\n        }\r\n        case '[object AsyncFunction]':\r\n        case '[object GeneratorFunction]':\r\n        case '[object AsyncGeneratorFunction]':\r\n        case '[object Function]': {\r\n            var aCode = fnToStr.call(a);\r\n            if (aCode !== fnToStr.call(b)) {\r\n                return false;\r\n            }\r\n            // We consider non-native functions equal if they have the same code\r\n            // (native functions require === because their code is censored).\r\n            // Note that this behavior is not entirely sound, since !== function\r\n            // objects with the same code can behave differently depending on\r\n            // their closure scope. However, any function can behave differently\r\n            // depending on the values of its input arguments (including this)\r\n            // and its calling context (including its closure scope), even\r\n            // though the function object is === to itself; and it is entirely\r\n            // possible for functions that are not === to behave exactly the\r\n            // same under all conceivable circumstances. Because none of these\r\n            // factors are statically decidable in JavaScript, JS function\r\n            // equality is not well-defined. This ambiguity allows us to\r\n            // consider the best possible heuristic among various imperfect\r\n            // options, and equating non-native functions that have the same\r\n            // code has enormous practical benefits, such as when comparing\r\n            // functions that are repeatedly passed as fresh function\r\n            // expressions within objects that are otherwise deeply equal. Since\r\n            // any function created from the same syntactic expression (in the\r\n            // same code location) will always stringify to the same code\r\n            // according to fnToStr.call, we can reasonably expect these\r\n            // repeatedly passed function expressions to have the same code, and\r\n            // thus behave \"the same\" (with all the caveats mentioned above),\r\n            // even though the runtime function objects are !== to one another.\r\n            return !endsWith(aCode, nativeCodeSuffix);\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction definedKeys(obj) {\r\n    // Remember that the second argument to Array.prototype.filter will be\r\n    // used as `this` within the callback function.\r\n    return Object.keys(obj).filter(isDefinedKey, obj);\r\n}\r\nfunction isDefinedKey(key) {\r\n    return this[key] !== void 0;\r\n}\r\nvar nativeCodeSuffix = \"{ [native code] }\";\r\nfunction endsWith(full, suffix) {\r\n    var fromIndex = full.length - suffix.length;\r\n    return fromIndex >= 0 &&\r\n        full.indexOf(suffix, fromIndex) === fromIndex;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\n\nexport { equal as default, equal };\n//# sourceMappingURL=equality.esm.js.map\n","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\r\n// object keys weakly, yet can also hold non-object keys, unlike the\r\n// native `WeakMap`.\r\n// If no makeData function is supplied, the looked-up data will be an empty,\r\n// null-prototype Object.\r\nvar defaultMakeData = function () { return Object.create(null); };\r\n// Useful for processing arguments objects as well as arrays.\r\nvar _a = Array.prototype, forEach = _a.forEach, slice = _a.slice;\r\nvar Trie = /** @class */ (function () {\r\n    function Trie(weakness, makeData) {\r\n        if (weakness === void 0) { weakness = true; }\r\n        if (makeData === void 0) { makeData = defaultMakeData; }\r\n        this.weakness = weakness;\r\n        this.makeData = makeData;\r\n    }\r\n    Trie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    Trie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        forEach.call(array, function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = this.makeData(slice.call(array)));\r\n    };\r\n    Trie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new Trie(this.weakness, this.makeData));\r\n        return child;\r\n    };\r\n    return Trie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\nexport { Trie };\n//# sourceMappingURL=trie.esm.js.map\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar Log = (function () {\n    function Log(options) {\n        var _a = options.debug, debug = _a === void 0 ? false : _a;\n        this.debug = debug;\n        this.lines = [];\n    }\n    Log.prototype.emit = function (level, message) {\n        if (level in console) {\n            var prefix = Log.prefix;\n            console[level].apply(console, __spreadArrays([prefix], message));\n        }\n    };\n    Log.prototype.tailLogs = function () {\n        var _this = this;\n        this.lines.forEach(function (_a) {\n            var level = _a[0], message = _a[1];\n            return _this.emit(level, message);\n        });\n    };\n    Log.prototype.getLogs = function () {\n        return this.lines;\n    };\n    Log.prototype.write = function (level, message) {\n        var buffer = Log.buffer;\n        this.lines = __spreadArrays(this.lines.slice(1 - buffer), [[level, message]]);\n        if (this.debug || level !== 'log') {\n            this.emit(level, message);\n        }\n    };\n    Log.prototype.info = function () {\n        var message = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            message[_i] = arguments[_i];\n        }\n        this.write('log', message);\n    };\n    Log.prototype.warn = function () {\n        var message = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            message[_i] = arguments[_i];\n        }\n        this.write('warn', message);\n    };\n    Log.prototype.error = function () {\n        var message = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            message[_i] = arguments[_i];\n        }\n        this.write('error', message);\n    };\n    Log.buffer = 30;\n    Log.prefix = '[apollo-cache-persist]';\n    return Log;\n}());\nexport default Log;\n//# sourceMappingURL=Log.js.map","var Cache = (function () {\n    function Cache(options) {\n        var cache = options.cache, _a = options.serialize, serialize = _a === void 0 ? true : _a;\n        this.cache = cache;\n        this.serialize = serialize;\n    }\n    Cache.prototype.extract = function () {\n        var data = this.cache.extract();\n        if (this.serialize) {\n            data = JSON.stringify(data);\n        }\n        return data;\n    };\n    Cache.prototype.restore = function (data) {\n        if (this.serialize && typeof data === 'string') {\n            data = JSON.parse(data);\n        }\n        if (data != null) {\n            this.cache.restore(data);\n        }\n    };\n    return Cache;\n}());\nexport default Cache;\n//# sourceMappingURL=Cache.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Storage = (function () {\n    function Storage(options) {\n        var storage = options.storage, _a = options.key, key = _a === void 0 ? 'apollo-cache-persist' : _a;\n        this.storage = storage;\n        this.key = key;\n    }\n    Storage.prototype.read = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, this.storage.getItem(this.key)];\n            });\n        });\n    };\n    Storage.prototype.write = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.storage.setItem(this.key, data)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    Storage.prototype.purge = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.storage.removeItem(this.key)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    Storage.prototype.getSize = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.storage.getItem(this.key)];\n                    case 1:\n                        data = _a.sent();\n                        if (data == null) {\n                            return [2, 0];\n                        }\n                        else {\n                            return [2, typeof data === 'string' ? data.length : null];\n                        }\n                        return [2];\n                }\n            });\n        });\n    };\n    return Storage;\n}());\nexport default Storage;\n//# sourceMappingURL=Storage.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Persistor = (function () {\n    function Persistor(_a, options) {\n        var log = _a.log, cache = _a.cache, storage = _a.storage;\n        var _b = options.maxSize, maxSize = _b === void 0 ? 1024 * 1024 : _b, persistenceMapper = options.persistenceMapper;\n        this.log = log;\n        this.cache = cache;\n        this.storage = storage;\n        this.paused = false;\n        if (persistenceMapper) {\n            this.persistenceMapper = persistenceMapper;\n        }\n        if (maxSize) {\n            this.maxSize = maxSize;\n        }\n    }\n    Persistor.prototype.persist = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 6, , 7]);\n                        data = this.cache.extract();\n                        if (!(!this.paused && this.persistenceMapper)) return [3, 2];\n                        return [4, this.persistenceMapper(data)];\n                    case 1:\n                        data = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (!(this.maxSize != null &&\n                            typeof data === 'string' &&\n                            data.length > this.maxSize &&\n                            !this.paused)) return [3, 4];\n                        return [4, this.purge()];\n                    case 3:\n                        _a.sent();\n                        this.paused = true;\n                        return [2];\n                    case 4:\n                        if (this.paused) {\n                            return [2];\n                        }\n                        return [4, this.storage.write(data)];\n                    case 5:\n                        _a.sent();\n                        this.log.info(typeof data === 'string'\n                            ? \"Persisted cache of size \" + data.length + \" characters\"\n                            : 'Persisted cache');\n                        return [3, 7];\n                    case 6:\n                        error_1 = _a.sent();\n                        this.log.error('Error persisting cache', error_1);\n                        throw error_1;\n                    case 7: return [2];\n                }\n            });\n        });\n    };\n    Persistor.prototype.restore = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 5, , 6]);\n                        return [4, this.storage.read()];\n                    case 1:\n                        data = _a.sent();\n                        if (!(data != null)) return [3, 3];\n                        return [4, this.cache.restore(data)];\n                    case 2:\n                        _a.sent();\n                        this.log.info(typeof data === 'string'\n                            ? \"Restored cache of size \" + data.length + \" characters\"\n                            : 'Restored cache');\n                        return [3, 4];\n                    case 3:\n                        this.log.info('No stored cache to restore');\n                        _a.label = 4;\n                    case 4: return [3, 6];\n                    case 5:\n                        error_2 = _a.sent();\n                        this.log.error('Error restoring cache', error_2);\n                        throw error_2;\n                    case 6: return [2];\n                }\n            });\n        });\n    };\n    Persistor.prototype.purge = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4, this.storage.purge()];\n                    case 1:\n                        _a.sent();\n                        this.log.info('Purged cache storage');\n                        return [3, 3];\n                    case 2:\n                        error_3 = _a.sent();\n                        this.log.error('Error purging cache storage', error_3);\n                        throw error_3;\n                    case 3: return [2];\n                }\n            });\n        });\n    };\n    return Persistor;\n}());\nexport default Persistor;\n//# sourceMappingURL=Persistor.js.map","export default (function (_a) {\n    var cache = _a.cache;\n    return function (persist) {\n        var write = cache.write;\n        var evict = cache.evict;\n        var modify = cache.modify;\n        cache.write = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = write.apply(cache, args);\n            persist();\n            return result;\n        };\n        cache.evict = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = evict.apply(cache, args);\n            persist();\n            return result;\n        };\n        cache.modify = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = modify.apply(cache, args);\n            persist();\n            return result;\n        };\n        return function () {\n            cache.write = write;\n            cache.evict = evict;\n            cache.modify = modify;\n        };\n    };\n});\n//# sourceMappingURL=onCacheWrite.js.map","import onCacheWrite from './onCacheWrite';\nimport onAppBackground from './onAppBackground';\nvar Trigger = (function () {\n    function Trigger(_a, options) {\n        var _this = this;\n        var log = _a.log, persistor = _a.persistor;\n        this.fire = function () {\n            if (!_this.debounce) {\n                _this.persist();\n                return;\n            }\n            if (_this.timeout != null) {\n                clearTimeout(_this.timeout);\n            }\n            _this.timeout = setTimeout(_this.persist, _this.debounce);\n        };\n        this.persist = function () {\n            if (_this.paused) {\n                return;\n            }\n            _this.persistor.persist();\n        };\n        var defaultDebounce = Trigger.defaultDebounce;\n        var cache = options.cache, debounce = options.debounce, _b = options.trigger, trigger = _b === void 0 ? 'write' : _b;\n        if (!trigger) {\n            return;\n        }\n        this.debounce = debounce != null ? debounce : defaultDebounce;\n        this.persistor = persistor;\n        this.paused = false;\n        switch (trigger) {\n            case 'write':\n                this.uninstall = onCacheWrite({ cache: cache })(this.fire);\n                break;\n            case 'background':\n                if (debounce) {\n                    log.warn('Debounce is not recommended with `background` trigger');\n                }\n                this.debounce = debounce;\n                this.uninstall = onAppBackground({ cache: cache, log: log })(this.fire);\n                break;\n            default:\n                if (typeof trigger === 'function') {\n                    this.uninstall = trigger(this.fire);\n                }\n                else {\n                    throw Error(\"Unrecognized trigger option: \" + trigger);\n                }\n        }\n    }\n    Trigger.prototype.pause = function () {\n        this.paused = true;\n    };\n    Trigger.prototype.resume = function () {\n        this.paused = false;\n    };\n    Trigger.prototype.remove = function () {\n        if (this.uninstall) {\n            this.uninstall();\n            this.uninstall = null;\n            this.paused = true;\n        }\n    };\n    Trigger.defaultDebounce = 1000;\n    return Trigger;\n}());\nexport default Trigger;\n//# sourceMappingURL=Trigger.js.map","import onCacheWrite from './onCacheWrite';\nexport default (function (_a) {\n    var log = _a.log, cache = _a.cache;\n    return function (persist) {\n        log.warn('Trigger option `background` not available on web; using `write` trigger');\n        return onCacheWrite({ cache: cache })(persist);\n    };\n});\n//# sourceMappingURL=onAppBackground.js.map","import Log from './Log';\nimport Cache from './Cache';\nimport Storage from './Storage';\nimport Persistor from './Persistor';\nimport Trigger from './Trigger';\nvar CachePersistor = (function () {\n    function CachePersistor(options) {\n        if (!options.cache) {\n            throw new Error('In order to persist your Apollo Cache, you need to pass in a cache. ' +\n                'Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.');\n        }\n        if (!options.storage) {\n            throw new Error('In order to persist your Apollo Cache, you need to pass in an underlying storage provider. ' +\n                'Please see https://github.com/apollographql/apollo-cache-persist#storage-providers');\n        }\n        var log = new Log(options);\n        var cache = new Cache(options);\n        var storage = new Storage(options);\n        var persistor = new Persistor({ log: log, cache: cache, storage: storage }, options);\n        var trigger = new Trigger({ log: log, persistor: persistor }, options);\n        this.log = log;\n        this.cache = cache;\n        this.storage = storage;\n        this.persistor = persistor;\n        this.trigger = trigger;\n    }\n    CachePersistor.prototype.persist = function () {\n        return this.persistor.persist();\n    };\n    CachePersistor.prototype.restore = function () {\n        return this.persistor.restore();\n    };\n    CachePersistor.prototype.purge = function () {\n        return this.persistor.purge();\n    };\n    CachePersistor.prototype.pause = function () {\n        this.trigger.pause();\n    };\n    CachePersistor.prototype.resume = function () {\n        this.trigger.resume();\n    };\n    CachePersistor.prototype.remove = function () {\n        this.trigger.remove();\n    };\n    CachePersistor.prototype.getLogs = function (print) {\n        if (print === void 0) { print = false; }\n        if (print) {\n            this.log.tailLogs();\n        }\n        else {\n            return this.log.getLogs();\n        }\n    };\n    CachePersistor.prototype.getSize = function () {\n        return this.storage.getSize();\n    };\n    return CachePersistor;\n}());\nexport default CachePersistor;\n//# sourceMappingURL=CachePersistor.js.map","import CachePersistor from './CachePersistor';\nexport default (function (options) {\n    var persistor = new CachePersistor(options);\n    return persistor.restore();\n});\n//# sourceMappingURL=persistCache.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport CachePersistor from './CachePersistor';\nimport Persistor from './Persistor';\nimport Storage from './Storage';\nexport var persistCacheSync = function (options) {\n    var cachePersistor = new SynchronousCachePersistor(options);\n    cachePersistor.restoreSync();\n};\nvar SynchronousCachePersistor = (function (_super) {\n    __extends(SynchronousCachePersistor, _super);\n    function SynchronousCachePersistor(options) {\n        var _this = _super.call(this, options) || this;\n        _this.storage = new SynchronousStorage(options);\n        _this.persistor = new SynchronousPersistor({ log: _this.log, cache: _this.cache, storage: _this.storage }, options);\n        return _this;\n    }\n    SynchronousCachePersistor.prototype.restoreSync = function () {\n        this.persistor.restoreSync();\n    };\n    return SynchronousCachePersistor;\n}(CachePersistor));\nexport { SynchronousCachePersistor };\nvar SynchronousPersistor = (function (_super) {\n    __extends(SynchronousPersistor, _super);\n    function SynchronousPersistor(_a, options) {\n        var log = _a.log, cache = _a.cache, storage = _a.storage;\n        return _super.call(this, { log: log, cache: cache, storage: storage }, options) || this;\n    }\n    SynchronousPersistor.prototype.restoreSync = function () {\n        this.cache.restore(this.storage.readSync());\n    };\n    return SynchronousPersistor;\n}(Persistor));\nexport { SynchronousPersistor };\nvar SynchronousStorage = (function (_super) {\n    __extends(SynchronousStorage, _super);\n    function SynchronousStorage(options) {\n        return _super.call(this, options) || this;\n    }\n    SynchronousStorage.prototype.readSync = function () {\n        return this.storage.getItem(this.key);\n    };\n    return SynchronousStorage;\n}(Storage));\nexport { SynchronousStorage };\n//# sourceMappingURL=persistCacheSync.js.map","var LocalForageWrapper = (function () {\n    function LocalForageWrapper(storage) {\n        this.storage = storage;\n    }\n    LocalForageWrapper.prototype.getItem = function (key) {\n        return this.storage.getItem(key);\n    };\n    LocalForageWrapper.prototype.removeItem = function (key) {\n        return this.storage.removeItem(key);\n    };\n    LocalForageWrapper.prototype.setItem = function (key, value) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.storage\n                .setItem(key, value)\n                .then(function () { return resolve(); })\n                .catch(function () { return reject(); });\n        });\n    };\n    return LocalForageWrapper;\n}());\nexport { LocalForageWrapper };\n//# sourceMappingURL=LocalForageWrapper.js.map","var AsyncStorageWrapper = (function () {\n    function AsyncStorageWrapper(storage) {\n        this.storage = storage;\n    }\n    AsyncStorageWrapper.prototype.getItem = function (key) {\n        return this.storage.getItem(key);\n    };\n    AsyncStorageWrapper.prototype.removeItem = function (key) {\n        return this.storage.removeItem(key);\n    };\n    AsyncStorageWrapper.prototype.setItem = function (key, value) {\n        return this.storage.setItem(key, value);\n    };\n    return AsyncStorageWrapper;\n}());\nexport { AsyncStorageWrapper };\n//# sourceMappingURL=AsyncStorageWrapper.js.map","var IonicStorageWrapper = (function () {\n    function IonicStorageWrapper(storage) {\n        this.storage = storage;\n    }\n    IonicStorageWrapper.prototype.getItem = function (key) {\n        return this.storage.get(key);\n    };\n    IonicStorageWrapper.prototype.removeItem = function (key) {\n        return this.storage.remove(key);\n    };\n    IonicStorageWrapper.prototype.setItem = function (key, value) {\n        return this.storage.set(key, value);\n    };\n    return IonicStorageWrapper;\n}());\nexport { IonicStorageWrapper };\n//# sourceMappingURL=IonicStorageWrapper.js.map","var LocalStorageWrapper = (function () {\n    function LocalStorageWrapper(storage) {\n        this.storage = storage;\n    }\n    LocalStorageWrapper.prototype.getItem = function (key) {\n        return this.storage.getItem(key);\n    };\n    LocalStorageWrapper.prototype.removeItem = function (key) {\n        return this.storage.removeItem(key);\n    };\n    LocalStorageWrapper.prototype.setItem = function (key, value) {\n        if (value !== null) {\n            return this.storage.setItem(key, value);\n        }\n        else {\n            return this.removeItem(key);\n        }\n    };\n    return LocalStorageWrapper;\n}());\nexport { LocalStorageWrapper };\n//# sourceMappingURL=LocalStorageWrapper.js.map","var MMKVStorageWrapper = (function () {\n    function MMKVStorageWrapper(storage) {\n        this.storage = storage;\n    }\n    MMKVStorageWrapper.prototype.getItem = function (key) {\n        return this.storage.getItem(key) || null;\n    };\n    MMKVStorageWrapper.prototype.removeItem = function (key) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            Promise.resolve(_this.storage.removeItem(key))\n                .then(function () { return resolve(); })\n                .catch(function () { return reject(); });\n        });\n    };\n    MMKVStorageWrapper.prototype.setItem = function (key, value) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.storage\n                .setItem(key, value)\n                .then(function () { return resolve(); })\n                .catch(function () { return reject(); });\n        });\n    };\n    return MMKVStorageWrapper;\n}());\nexport { MMKVStorageWrapper };\n//# sourceMappingURL=MMKVStorageWrapper.js.map","var MMKVWrapper = (function () {\n    function MMKVWrapper(storage) {\n        this.storage = storage;\n    }\n    MMKVWrapper.prototype.getItem = function (key) {\n        return this.storage.getString(key) || null;\n    };\n    MMKVWrapper.prototype.removeItem = function (key) {\n        return this.storage.delete(key);\n    };\n    MMKVWrapper.prototype.setItem = function (key, value) {\n        if (value !== null) {\n            return this.storage.set(key, value);\n        }\n        return this.removeItem(key);\n    };\n    return MMKVWrapper;\n}());\nexport { MMKVWrapper };\n//# sourceMappingURL=MMKVWrapper.js.map","var SessionStorageWrapper = (function () {\n    function SessionStorageWrapper(storage) {\n        this.storage = storage;\n    }\n    SessionStorageWrapper.prototype.getItem = function (key) {\n        return this.storage.getItem(key);\n    };\n    SessionStorageWrapper.prototype.removeItem = function (key) {\n        return this.storage.removeItem(key);\n    };\n    SessionStorageWrapper.prototype.setItem = function (key, value) {\n        if (value !== null) {\n            return this.storage.setItem(key, value);\n        }\n        else {\n            return this.removeItem(key);\n        }\n    };\n    return SessionStorageWrapper;\n}());\nexport { SessionStorageWrapper };\n//# sourceMappingURL=SessionStorageWrapper.js.map","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.10.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            var db = openreq.result;\n            db.onversionchange = function (e) {\n                // Triggered when the database is modified (e.g. adding an objectStore) or\n                // deleted (even when initiated by other sessions in different tabs).\n                // Closing the connection here prevents those operations from being blocked.\n                // If the database is accessed again later by this instance, the connection\n                // will be reopened or the database recreated as needed.\n                e.target.close();\n            };\n            resolve(db);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(req.error);\n                    };\n\n                    req.onblocked = function () {\n                        // Closing all open connections in onversionchange handler should prevent this situation, but if\n                        // we do get here, it just means the request remains pending - eventually it will succeed or error\n                        console.warn('dropInstance blocked for database \"' + options.name + '\" until all open connections are closed');\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  return object == null ? {} : basePickBy(object, getAllKeysIn(object), baseIteratee(predicate));\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = pickBy;\n","module.exports = require('./dist/shared/lib/head')\n","import { Trie } from '@wry/trie';\nexport { Trie as KeyTrie } from '@wry/trie';\nimport { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var node = this.getNode(key);\r\n        return node && node.value;\r\n    };\r\n    Cache.prototype.getNode = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node && node !== this.newest) {\r\n            var older = node.older, newer = node.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            node.older = this.newest;\r\n            node.older.newer = node;\r\n            node.newer = null;\r\n            this.newest = node;\r\n            if (node === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var node = this.getNode(key);\r\n        if (node) {\r\n            return node.value = value;\r\n        }\r\n        node = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = node;\r\n        }\r\n        this.newest = node;\r\n        this.oldest = this.oldest || node;\r\n        this.map.set(key, node);\r\n        return node.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node) {\r\n            if (node === this.newest) {\r\n                this.newest = node.older;\r\n            }\r\n            if (node === this.oldest) {\r\n                this.oldest = node.newer;\r\n            }\r\n            if (node.newer) {\r\n                node.newer.older = node.older;\r\n            }\r\n            if (node.older) {\r\n                node.older.newer = node.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(node.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar _a;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar \r\n// This Array.from polyfill is restricted to working with Set<any> for now,\r\n// but we can improve the polyfill and add other input types, as needed. Note\r\n// that this fallback implementation will only be used if the host environment\r\n// does not support a native Array.from function. In most modern JS runtimes,\r\n// the toArray function exported here will be === Array.from.\r\ntoArray = (_a = Array.from, _a === void 0 ? function (collection) {\r\n    var array = [];\r\n    collection.forEach(function (item) { return array.push(item); });\r\n    return array;\r\n} : _a);\r\nfunction maybeUnsubscribe(entryOrDep) {\r\n    var unsubscribe = entryOrDep.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entryOrDep.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn) {\r\n        this.fn = fn;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        this.deps = null;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.peek = function () {\r\n        if (this.value.length === 1 && !mightBeDirty(this)) {\r\n            rememberParent(this);\r\n            return this.value[0];\r\n        }\r\n    };\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function (args) {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        rememberParent(this);\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this, args)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.setDirty();\r\n        // Sever any dependency relationships with our own children, so those\r\n        // children don't retain this parent Entry in their child.parents sets,\r\n        // thereby preventing it from being fully garbage collected.\r\n        forgetChildren(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        eachParent(this, function (parent, child) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.prototype.forget = function () {\r\n        // The code that creates Entry objects in index.ts will replace this method\r\n        // with one that actually removes the Entry from the cache, which will also\r\n        // trigger the entry.dispose method.\r\n        this.dispose();\r\n    };\r\n    Entry.prototype.dependOn = function (dep) {\r\n        dep.add(this);\r\n        if (!this.deps) {\r\n            this.deps = emptySetPool.pop() || new Set();\r\n        }\r\n        this.deps.add(dep);\r\n    };\r\n    Entry.prototype.forgetDeps = function () {\r\n        var _this = this;\r\n        if (this.deps) {\r\n            toArray(this.deps).forEach(function (dep) { return dep.delete(_this); });\r\n            this.deps.clear();\r\n            emptySetPool.push(this.deps);\r\n            this.deps = null;\r\n        }\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry, args) {\r\n    forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\r\n    if (maybeSubscribe(entry, args)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry, args) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    eachParent(child, reportDirtyChild);\r\n}\r\nfunction reportClean(child) {\r\n    eachParent(child, reportCleanChild);\r\n}\r\nfunction eachParent(child, callback) {\r\n    var parentCount = child.parents.size;\r\n    if (parentCount) {\r\n        var parents = toArray(child.parents);\r\n        for (var i = 0; i < parentCount; ++i) {\r\n            callback(parents[i], child);\r\n        }\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    var parentWasClean = !mightBeDirty(parent);\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    // If parent was clean before, it just became (possibly) dirty (according to\r\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\r\n    if (parentWasClean) {\r\n        reportDirty(parent);\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    if (parent.childValues.size > 0) {\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n        });\r\n    }\r\n    // Remove this parent Entry from any sets to which it was added by the\r\n    // addToSet method.\r\n    parent.forgetDeps();\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry, args) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\n\nvar EntryMethods = {\r\n    setDirty: true,\r\n    dispose: true,\r\n    forget: true,\r\n};\r\nfunction dep(options) {\r\n    var depsByKey = new Map();\r\n    var subscribe = options && options.subscribe;\r\n    function depend(key) {\r\n        var parent = parentEntrySlot.getValue();\r\n        if (parent) {\r\n            var dep_1 = depsByKey.get(key);\r\n            if (!dep_1) {\r\n                depsByKey.set(key, dep_1 = new Set);\r\n            }\r\n            parent.dependOn(dep_1);\r\n            if (typeof subscribe === \"function\") {\r\n                maybeUnsubscribe(dep_1);\r\n                dep_1.unsubscribe = subscribe(key);\r\n            }\r\n        }\r\n    }\r\n    depend.dirty = function dirty(key, entryMethodName) {\r\n        var dep = depsByKey.get(key);\r\n        if (dep) {\r\n            var m_1 = (entryMethodName &&\r\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\r\n            // We have to use toArray(dep).forEach instead of dep.forEach, because\r\n            // modifying a Set while iterating over it can cause elements in the Set\r\n            // to be removed from the Set before they've been iterated over.\r\n            toArray(dep).forEach(function (entry) { return entry[m_1](); });\r\n            depsByKey.delete(key);\r\n            maybeUnsubscribe(dep);\r\n        }\r\n    };\r\n    return depend;\r\n}\n\nfunction makeDefaultMakeCacheKeyFunction() {\r\n    var keyTrie = new Trie(typeof WeakMap === \"function\");\r\n    return function () {\r\n        return keyTrie.lookupArray(arguments);\r\n    };\r\n}\r\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar defaultMakeCacheKey = makeDefaultMakeCacheKeyFunction();\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var keyArgs = options.keyArgs;\r\n    var makeCacheKey = options.makeCacheKey ||\r\n        makeDefaultMakeCacheKeyFunction();\r\n    var optimistic = function () {\r\n        var key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var entry = cache.get(key);\r\n        if (!entry) {\r\n            cache.set(key, entry = new Entry(originalFunction));\r\n            entry.subscribe = options.subscribe;\r\n            // Give the Entry the ability to trigger cache.delete(key), even though\r\n            // the Entry itself does not know about key or cache.\r\n            entry.forget = function () { return cache.delete(key); };\r\n        }\r\n        var value = entry.recompute(Array.prototype.slice.call(arguments));\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(optimistic, \"size\", {\r\n        get: function () {\r\n            return cache[\"map\"].size;\r\n        },\r\n        configurable: false,\r\n        enumerable: false,\r\n    });\r\n    function dirtyKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.setDirty();\r\n        }\r\n    }\r\n    optimistic.dirtyKey = dirtyKey;\r\n    optimistic.dirty = function dirty() {\r\n        dirtyKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function peekKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            return entry.peek();\r\n        }\r\n    }\r\n    optimistic.peekKey = peekKey;\r\n    optimistic.peek = function peek() {\r\n        return peekKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function forgetKey(key) {\r\n        return cache.delete(key);\r\n    }\r\n    optimistic.forgetKey = forgetKey;\r\n    optimistic.forget = function forget() {\r\n        return forgetKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    optimistic.makeCacheKey = makeCacheKey;\r\n    optimistic.getKey = keyArgs ? function getKey() {\r\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\r\n    } : makeCacheKey;\r\n    return Object.freeze(optimistic);\r\n}\n\nexport { defaultMakeCacheKey, dep, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { isReference, isField, DeepMerger, resultKeyNameFromField, shouldInclude, isNonNullObject, compact, } from \"../../utilities/index.js\";\nexport var hasOwn = Object.prototype.hasOwnProperty;\nexport function defaultDataIdFromObject(_a, context) {\n    var __typename = _a.__typename, id = _a.id, _id = _a._id;\n    if (typeof __typename === \"string\") {\n        if (context) {\n            context.keyObject =\n                id !== void 0 ? { id: id } :\n                    _id !== void 0 ? { _id: _id } :\n                        void 0;\n        }\n        if (id === void 0)\n            id = _id;\n        if (id !== void 0) {\n            return \"\".concat(__typename, \":\").concat((typeof id === \"number\" ||\n                typeof id === \"string\") ? id : JSON.stringify(id));\n        }\n    }\n}\nvar defaultConfig = {\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    canonizeResults: false,\n};\nexport function normalizeConfig(config) {\n    return compact(defaultConfig, config);\n}\nexport function shouldCanonizeResults(config) {\n    var value = config.canonizeResults;\n    return value === void 0 ? defaultConfig.canonizeResults : value;\n}\nexport function getTypenameFromStoreObject(store, objectOrReference) {\n    return isReference(objectOrReference)\n        ? store.get(objectOrReference.__ref, \"__typename\")\n        : objectOrReference && objectOrReference.__typename;\n}\nexport var TypeOrFieldNameRegExp = /^[_a-z][_0-9a-z]*/i;\nexport function fieldNameFromStoreName(storeFieldName) {\n    var match = storeFieldName.match(TypeOrFieldNameRegExp);\n    return match ? match[0] : storeFieldName;\n}\nexport function selectionSetMatchesResult(selectionSet, result, variables) {\n    if (isNonNullObject(result)) {\n        return isArray(result)\n            ? result.every(function (item) { return selectionSetMatchesResult(selectionSet, item, variables); })\n            : selectionSet.selections.every(function (field) {\n                if (isField(field) && shouldInclude(field, variables)) {\n                    var key = resultKeyNameFromField(field);\n                    return hasOwn.call(result, key) &&\n                        (!field.selectionSet ||\n                            selectionSetMatchesResult(field.selectionSet, result[key], variables));\n                }\n                return true;\n            });\n    }\n    return false;\n}\nexport function storeValueIsStoreObject(value) {\n    return isNonNullObject(value) &&\n        !isReference(value) &&\n        !isArray(value);\n}\nexport function makeProcessedFieldsMerger() {\n    return new DeepMerger;\n}\nexport var isArray = function (a) { return Array.isArray(a); };\n//# sourceMappingURL=helpers.js.map","import { __assign, __rest } from \"tslib\";\nimport { wrap } from 'optimism';\nimport { getFragmentQueryDocument, } from \"../../utilities/index.js\";\nvar ApolloCache = (function () {\n    function ApolloCache() {\n        this.getFragmentDoc = wrap(getFragmentQueryDocument);\n    }\n    ApolloCache.prototype.batch = function (options) {\n        var _this = this;\n        var optimisticId = typeof options.optimistic === \"string\" ? options.optimistic :\n            options.optimistic === false ? null : void 0;\n        var updateResult;\n        this.performTransaction(function () { return updateResult = options.update(_this); }, optimisticId);\n        return updateResult;\n    };\n    ApolloCache.prototype.recordOptimisticTransaction = function (transaction, optimisticId) {\n        this.performTransaction(transaction, optimisticId);\n    };\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.identify = function (object) {\n        return;\n    };\n    ApolloCache.prototype.gc = function () {\n        return [];\n    };\n    ApolloCache.prototype.modify = function (options) {\n        return false;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { rootId: options.id || 'ROOT_QUERY', optimistic: optimistic }));\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { query: this.getFragmentDoc(options.fragment, options.fragmentName), rootId: options.id, optimistic: optimistic }));\n    };\n    ApolloCache.prototype.writeQuery = function (_a) {\n        var id = _a.id, data = _a.data, options = __rest(_a, [\"id\", \"data\"]);\n        return this.write(Object.assign(options, {\n            dataId: id || 'ROOT_QUERY',\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.writeFragment = function (_a) {\n        var id = _a.id, data = _a.data, fragment = _a.fragment, fragmentName = _a.fragmentName, options = __rest(_a, [\"id\", \"data\", \"fragment\", \"fragmentName\"]);\n        return this.write(Object.assign(options, {\n            query: this.getFragmentDoc(fragment, fragmentName),\n            dataId: id,\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.updateQuery = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readQuery(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeQuery(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    ApolloCache.prototype.updateFragment = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readFragment(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeFragment(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    return ApolloCache;\n}());\nexport { ApolloCache };\n//# sourceMappingURL=cache.js.map","var MissingFieldError = (function () {\n    function MissingFieldError(message, path, query, variables) {\n        this.message = message;\n        this.path = path;\n        this.query = query;\n        this.variables = variables;\n    }\n    return MissingFieldError;\n}());\nexport { MissingFieldError };\n//# sourceMappingURL=common.js.map","import \"../globals/index.js\";\nimport { isNonNullObject } from \"./objects.js\";\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isNonNullObject(obj) && shallowFreeze(obj) === obj) {\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isNonNullObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nfunction shallowFreeze(obj) {\n    if (__DEV__ && !Object.isFrozen(obj)) {\n        try {\n            Object.freeze(obj);\n        }\n        catch (e) {\n            if (e instanceof TypeError)\n                return null;\n            throw e;\n        }\n    }\n    return obj;\n}\nexport function maybeDeepFreeze(obj) {\n    if (__DEV__) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { dep } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { isReference, makeReference, DeepMerger, maybeDeepFreeze, canUseWeakMap, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName } from \"./helpers.js\";\nvar DELETE = Object.create(null);\nvar delModifier = function () { return DELETE; };\nvar INVALIDATE = Object.create(null);\nvar EntityStore = (function () {\n    function EntityStore(policies, group) {\n        var _this = this;\n        this.policies = policies;\n        this.group = group;\n        this.data = Object.create(null);\n        this.rootIds = Object.create(null);\n        this.refs = Object.create(null);\n        this.getFieldValue = function (objectOrReference, storeFieldName) { return maybeDeepFreeze(isReference(objectOrReference)\n            ? _this.get(objectOrReference.__ref, storeFieldName)\n            : objectOrReference && objectOrReference[storeFieldName]); };\n        this.canRead = function (objOrRef) {\n            return isReference(objOrRef)\n                ? _this.has(objOrRef.__ref)\n                : typeof objOrRef === \"object\";\n        };\n        this.toReference = function (objOrIdOrRef, mergeIntoStore) {\n            if (typeof objOrIdOrRef === \"string\") {\n                return makeReference(objOrIdOrRef);\n            }\n            if (isReference(objOrIdOrRef)) {\n                return objOrIdOrRef;\n            }\n            var id = _this.policies.identify(objOrIdOrRef)[0];\n            if (id) {\n                var ref = makeReference(id);\n                if (mergeIntoStore) {\n                    _this.merge(id, objOrIdOrRef);\n                }\n                return ref;\n            }\n        };\n    }\n    EntityStore.prototype.toObject = function () {\n        return __assign({}, this.data);\n    };\n    EntityStore.prototype.has = function (dataId) {\n        return this.lookup(dataId, true) !== void 0;\n    };\n    EntityStore.prototype.get = function (dataId, fieldName) {\n        this.group.depend(dataId, fieldName);\n        if (hasOwn.call(this.data, dataId)) {\n            var storeObject = this.data[dataId];\n            if (storeObject && hasOwn.call(storeObject, fieldName)) {\n                return storeObject[fieldName];\n            }\n        }\n        if (fieldName === \"__typename\" &&\n            hasOwn.call(this.policies.rootTypenamesById, dataId)) {\n            return this.policies.rootTypenamesById[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.get(dataId, fieldName);\n        }\n    };\n    EntityStore.prototype.lookup = function (dataId, dependOnExistence) {\n        if (dependOnExistence)\n            this.group.depend(dataId, \"__exists\");\n        if (hasOwn.call(this.data, dataId)) {\n            return this.data[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.lookup(dataId, dependOnExistence);\n        }\n        if (this.policies.rootTypenamesById[dataId]) {\n            return Object.create(null);\n        }\n    };\n    EntityStore.prototype.merge = function (older, newer) {\n        var _this = this;\n        var dataId;\n        if (isReference(older))\n            older = older.__ref;\n        if (isReference(newer))\n            newer = newer.__ref;\n        var existing = typeof older === \"string\"\n            ? this.lookup(dataId = older)\n            : older;\n        var incoming = typeof newer === \"string\"\n            ? this.lookup(dataId = newer)\n            : newer;\n        if (!incoming)\n            return;\n        __DEV__ ? invariant(typeof dataId === \"string\", \"store.merge expects a string ID\") : invariant(typeof dataId === \"string\", 1);\n        var merged = new DeepMerger(storeObjectReconciler).merge(existing, incoming);\n        this.data[dataId] = merged;\n        if (merged !== existing) {\n            delete this.refs[dataId];\n            if (this.group.caching) {\n                var fieldsToDirty_1 = Object.create(null);\n                if (!existing)\n                    fieldsToDirty_1.__exists = 1;\n                Object.keys(incoming).forEach(function (storeFieldName) {\n                    if (!existing || existing[storeFieldName] !== merged[storeFieldName]) {\n                        fieldsToDirty_1[storeFieldName] = 1;\n                        var fieldName = fieldNameFromStoreName(storeFieldName);\n                        if (fieldName !== storeFieldName &&\n                            !_this.policies.hasKeyArgs(merged.__typename, fieldName)) {\n                            fieldsToDirty_1[fieldName] = 1;\n                        }\n                        if (merged[storeFieldName] === void 0 && !(_this instanceof Layer)) {\n                            delete merged[storeFieldName];\n                        }\n                    }\n                });\n                if (fieldsToDirty_1.__typename &&\n                    !(existing && existing.__typename) &&\n                    this.policies.rootTypenamesById[dataId] === merged.__typename) {\n                    delete fieldsToDirty_1.__typename;\n                }\n                Object.keys(fieldsToDirty_1).forEach(function (fieldName) { return _this.group.dirty(dataId, fieldName); });\n            }\n        }\n    };\n    EntityStore.prototype.modify = function (dataId, fields) {\n        var _this = this;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var changedFields_1 = Object.create(null);\n            var needToMerge_1 = false;\n            var allDeleted_1 = true;\n            var sharedDetails_1 = {\n                DELETE: DELETE,\n                INVALIDATE: INVALIDATE,\n                isReference: isReference,\n                toReference: this.toReference,\n                canRead: this.canRead,\n                readField: function (fieldNameOrOptions, from) { return _this.policies.readField(typeof fieldNameOrOptions === \"string\" ? {\n                    fieldName: fieldNameOrOptions,\n                    from: from || makeReference(dataId),\n                } : fieldNameOrOptions, { store: _this }); },\n            };\n            Object.keys(storeObject).forEach(function (storeFieldName) {\n                var fieldName = fieldNameFromStoreName(storeFieldName);\n                var fieldValue = storeObject[storeFieldName];\n                if (fieldValue === void 0)\n                    return;\n                var modify = typeof fields === \"function\"\n                    ? fields\n                    : fields[storeFieldName] || fields[fieldName];\n                if (modify) {\n                    var newValue = modify === delModifier ? DELETE :\n                        modify(maybeDeepFreeze(fieldValue), __assign(__assign({}, sharedDetails_1), { fieldName: fieldName, storeFieldName: storeFieldName, storage: _this.getStorage(dataId, storeFieldName) }));\n                    if (newValue === INVALIDATE) {\n                        _this.group.dirty(dataId, storeFieldName);\n                    }\n                    else {\n                        if (newValue === DELETE)\n                            newValue = void 0;\n                        if (newValue !== fieldValue) {\n                            changedFields_1[storeFieldName] = newValue;\n                            needToMerge_1 = true;\n                            fieldValue = newValue;\n                        }\n                    }\n                }\n                if (fieldValue !== void 0) {\n                    allDeleted_1 = false;\n                }\n            });\n            if (needToMerge_1) {\n                this.merge(dataId, changedFields_1);\n                if (allDeleted_1) {\n                    if (this instanceof Layer) {\n                        this.data[dataId] = void 0;\n                    }\n                    else {\n                        delete this.data[dataId];\n                    }\n                    this.group.dirty(dataId, \"__exists\");\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    EntityStore.prototype.delete = function (dataId, fieldName, args) {\n        var _a;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var typename = this.getFieldValue(storeObject, \"__typename\");\n            var storeFieldName = fieldName && args\n                ? this.policies.getStoreFieldName({ typename: typename, fieldName: fieldName, args: args })\n                : fieldName;\n            return this.modify(dataId, storeFieldName ? (_a = {},\n                _a[storeFieldName] = delModifier,\n                _a) : delModifier);\n        }\n        return false;\n    };\n    EntityStore.prototype.evict = function (options, limit) {\n        var evicted = false;\n        if (options.id) {\n            if (hasOwn.call(this.data, options.id)) {\n                evicted = this.delete(options.id, options.fieldName, options.args);\n            }\n            if (this instanceof Layer && this !== limit) {\n                evicted = this.parent.evict(options, limit) || evicted;\n            }\n            if (options.fieldName || evicted) {\n                this.group.dirty(options.id, options.fieldName || \"__exists\");\n            }\n        }\n        return evicted;\n    };\n    EntityStore.prototype.clear = function () {\n        this.replace(null);\n    };\n    EntityStore.prototype.extract = function () {\n        var _this = this;\n        var obj = this.toObject();\n        var extraRootIds = [];\n        this.getRootIdSet().forEach(function (id) {\n            if (!hasOwn.call(_this.policies.rootTypenamesById, id)) {\n                extraRootIds.push(id);\n            }\n        });\n        if (extraRootIds.length) {\n            obj.__META = { extraRootIds: extraRootIds.sort() };\n        }\n        return obj;\n    };\n    EntityStore.prototype.replace = function (newData) {\n        var _this = this;\n        Object.keys(this.data).forEach(function (dataId) {\n            if (!(newData && hasOwn.call(newData, dataId))) {\n                _this.delete(dataId);\n            }\n        });\n        if (newData) {\n            var __META = newData.__META, rest_1 = __rest(newData, [\"__META\"]);\n            Object.keys(rest_1).forEach(function (dataId) {\n                _this.merge(dataId, rest_1[dataId]);\n            });\n            if (__META) {\n                __META.extraRootIds.forEach(this.retain, this);\n            }\n        }\n    };\n    EntityStore.prototype.retain = function (rootId) {\n        return this.rootIds[rootId] = (this.rootIds[rootId] || 0) + 1;\n    };\n    EntityStore.prototype.release = function (rootId) {\n        if (this.rootIds[rootId] > 0) {\n            var count = --this.rootIds[rootId];\n            if (!count)\n                delete this.rootIds[rootId];\n            return count;\n        }\n        return 0;\n    };\n    EntityStore.prototype.getRootIdSet = function (ids) {\n        if (ids === void 0) { ids = new Set(); }\n        Object.keys(this.rootIds).forEach(ids.add, ids);\n        if (this instanceof Layer) {\n            this.parent.getRootIdSet(ids);\n        }\n        else {\n            Object.keys(this.policies.rootTypenamesById).forEach(ids.add, ids);\n        }\n        return ids;\n    };\n    EntityStore.prototype.gc = function () {\n        var _this = this;\n        var ids = this.getRootIdSet();\n        var snapshot = this.toObject();\n        ids.forEach(function (id) {\n            if (hasOwn.call(snapshot, id)) {\n                Object.keys(_this.findChildRefIds(id)).forEach(ids.add, ids);\n                delete snapshot[id];\n            }\n        });\n        var idsToRemove = Object.keys(snapshot);\n        if (idsToRemove.length) {\n            var root_1 = this;\n            while (root_1 instanceof Layer)\n                root_1 = root_1.parent;\n            idsToRemove.forEach(function (id) { return root_1.delete(id); });\n        }\n        return idsToRemove;\n    };\n    EntityStore.prototype.findChildRefIds = function (dataId) {\n        if (!hasOwn.call(this.refs, dataId)) {\n            var found_1 = this.refs[dataId] = Object.create(null);\n            var root = this.data[dataId];\n            if (!root)\n                return found_1;\n            var workSet_1 = new Set([root]);\n            workSet_1.forEach(function (obj) {\n                if (isReference(obj)) {\n                    found_1[obj.__ref] = true;\n                }\n                if (isNonNullObject(obj)) {\n                    Object.keys(obj).forEach(function (key) {\n                        var child = obj[key];\n                        if (isNonNullObject(child)) {\n                            workSet_1.add(child);\n                        }\n                    });\n                }\n            });\n        }\n        return this.refs[dataId];\n    };\n    EntityStore.prototype.makeCacheKey = function () {\n        return this.group.keyMaker.lookupArray(arguments);\n    };\n    return EntityStore;\n}());\nexport { EntityStore };\nvar CacheGroup = (function () {\n    function CacheGroup(caching, parent) {\n        if (parent === void 0) { parent = null; }\n        this.caching = caching;\n        this.parent = parent;\n        this.d = null;\n        this.resetCaching();\n    }\n    CacheGroup.prototype.resetCaching = function () {\n        this.d = this.caching ? dep() : null;\n        this.keyMaker = new Trie(canUseWeakMap);\n    };\n    CacheGroup.prototype.depend = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d(makeDepKey(dataId, storeFieldName));\n            var fieldName = fieldNameFromStoreName(storeFieldName);\n            if (fieldName !== storeFieldName) {\n                this.d(makeDepKey(dataId, fieldName));\n            }\n            if (this.parent) {\n                this.parent.depend(dataId, storeFieldName);\n            }\n        }\n    };\n    CacheGroup.prototype.dirty = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d.dirty(makeDepKey(dataId, storeFieldName), storeFieldName === \"__exists\" ? \"forget\" : \"setDirty\");\n        }\n    };\n    return CacheGroup;\n}());\nfunction makeDepKey(dataId, storeFieldName) {\n    return storeFieldName + '#' + dataId;\n}\nexport function maybeDependOnExistenceOfEntity(store, entityId) {\n    if (supportsResultCaching(store)) {\n        store.group.depend(entityId, \"__exists\");\n    }\n}\n(function (EntityStore) {\n    var Root = (function (_super) {\n        __extends(Root, _super);\n        function Root(_a) {\n            var policies = _a.policies, _b = _a.resultCaching, resultCaching = _b === void 0 ? true : _b, seed = _a.seed;\n            var _this = _super.call(this, policies, new CacheGroup(resultCaching)) || this;\n            _this.stump = new Stump(_this);\n            _this.storageTrie = new Trie(canUseWeakMap);\n            if (seed)\n                _this.replace(seed);\n            return _this;\n        }\n        Root.prototype.addLayer = function (layerId, replay) {\n            return this.stump.addLayer(layerId, replay);\n        };\n        Root.prototype.removeLayer = function () {\n            return this;\n        };\n        Root.prototype.getStorage = function () {\n            return this.storageTrie.lookupArray(arguments);\n        };\n        return Root;\n    }(EntityStore));\n    EntityStore.Root = Root;\n})(EntityStore || (EntityStore = {}));\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, parent, replay, group) {\n        var _this = _super.call(this, parent.policies, group) || this;\n        _this.id = id;\n        _this.parent = parent;\n        _this.replay = replay;\n        _this.group = group;\n        replay(_this);\n        return _this;\n    }\n    Layer.prototype.addLayer = function (layerId, replay) {\n        return new Layer(layerId, this, replay, this.group);\n    };\n    Layer.prototype.removeLayer = function (layerId) {\n        var _this = this;\n        var parent = this.parent.removeLayer(layerId);\n        if (layerId === this.id) {\n            if (this.group.caching) {\n                Object.keys(this.data).forEach(function (dataId) {\n                    var ownStoreObject = _this.data[dataId];\n                    var parentStoreObject = parent[\"lookup\"](dataId);\n                    if (!parentStoreObject) {\n                        _this.delete(dataId);\n                    }\n                    else if (!ownStoreObject) {\n                        _this.group.dirty(dataId, \"__exists\");\n                        Object.keys(parentStoreObject).forEach(function (storeFieldName) {\n                            _this.group.dirty(dataId, storeFieldName);\n                        });\n                    }\n                    else if (ownStoreObject !== parentStoreObject) {\n                        Object.keys(ownStoreObject).forEach(function (storeFieldName) {\n                            if (!equal(ownStoreObject[storeFieldName], parentStoreObject[storeFieldName])) {\n                                _this.group.dirty(dataId, storeFieldName);\n                            }\n                        });\n                    }\n                });\n            }\n            return parent;\n        }\n        if (parent === this.parent)\n            return this;\n        return parent.addLayer(this.id, this.replay);\n    };\n    Layer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    Layer.prototype.findChildRefIds = function (dataId) {\n        var fromParent = this.parent.findChildRefIds(dataId);\n        return hasOwn.call(this.data, dataId) ? __assign(__assign({}, fromParent), _super.prototype.findChildRefIds.call(this, dataId)) : fromParent;\n    };\n    Layer.prototype.getStorage = function () {\n        var p = this.parent;\n        while (p.parent)\n            p = p.parent;\n        return p.getStorage.apply(p, arguments);\n    };\n    return Layer;\n}(EntityStore));\nvar Stump = (function (_super) {\n    __extends(Stump, _super);\n    function Stump(root) {\n        return _super.call(this, \"EntityStore.Stump\", root, function () { }, new CacheGroup(root.group.caching, root.group)) || this;\n    }\n    Stump.prototype.removeLayer = function () {\n        return this;\n    };\n    Stump.prototype.merge = function () {\n        return this.parent.merge.apply(this.parent, arguments);\n    };\n    return Stump;\n}(Layer));\nfunction storeObjectReconciler(existingObject, incomingObject, property) {\n    var existingValue = existingObject[property];\n    var incomingValue = incomingObject[property];\n    return equal(existingValue, incomingValue) ? existingValue : incomingValue;\n}\nexport function supportsResultCaching(store) {\n    return !!(store instanceof EntityStore && store.group.caching);\n}\n//# sourceMappingURL=entityStore.js.map","import { __assign } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { wrap } from 'optimism';\nimport { isField, resultKeyNameFromField, isReference, makeReference, createFragmentMap, shouldInclude, addTypenameToDocument, getDefaultValues, getFragmentDefinitions, getMainDefinition, getQueryDefinition, getFragmentFromSelection, maybeDeepFreeze, mergeDeepArray, DeepMerger, isNonNullObject, canUseWeakMap, compact, } from \"../../utilities/index.js\";\nimport { maybeDependOnExistenceOfEntity, supportsResultCaching } from \"./entityStore.js\";\nimport { getTypenameFromStoreObject, isArray, shouldCanonizeResults } from \"./helpers.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { canonicalStringify, ObjectCanon } from \"./object-canon.js\";\n;\nfunction execSelectionSetKeyArgs(options) {\n    return [\n        options.selectionSet,\n        options.objectOrReference,\n        options.context,\n        options.context.canonizeResults,\n    ];\n}\nvar StoreReader = (function () {\n    function StoreReader(config) {\n        var _this = this;\n        this.knownResults = new (canUseWeakMap ? WeakMap : Map)();\n        this.config = compact(config, {\n            addTypename: config.addTypename !== false,\n            canonizeResults: shouldCanonizeResults(config),\n        });\n        this.canon = config.canon || new ObjectCanon;\n        this.executeSelectionSet = wrap(function (options) {\n            var _a;\n            var canonizeResults = options.context.canonizeResults;\n            var peekArgs = execSelectionSetKeyArgs(options);\n            peekArgs[3] = !canonizeResults;\n            var other = (_a = _this.executeSelectionSet).peek.apply(_a, peekArgs);\n            if (other) {\n                if (canonizeResults) {\n                    return __assign(__assign({}, other), { result: _this.canon.admit(other.result) });\n                }\n                return other;\n            }\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSelectionSetImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            keyArgs: execSelectionSetKeyArgs,\n            makeCacheKey: function (selectionSet, parent, context, canonizeResults) {\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(selectionSet, isReference(parent) ? parent.__ref : parent, context.varString, canonizeResults);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSubSelectedArrayImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, context = _a.context;\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(field, array, context.varString);\n                }\n            }\n        });\n    }\n    StoreReader.prototype.resetCanon = function () {\n        this.canon = new ObjectCanon;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, _b = _a.rootId, rootId = _b === void 0 ? 'ROOT_QUERY' : _b, variables = _a.variables, _c = _a.returnPartialData, returnPartialData = _c === void 0 ? true : _c, _d = _a.canonizeResults, canonizeResults = _d === void 0 ? this.config.canonizeResults : _d;\n        var policies = this.config.cache.policies;\n        variables = __assign(__assign({}, getDefaultValues(getQueryDefinition(query))), variables);\n        var rootRef = makeReference(rootId);\n        var execResult = this.executeSelectionSet({\n            selectionSet: getMainDefinition(query).selectionSet,\n            objectOrReference: rootRef,\n            enclosingRef: rootRef,\n            context: {\n                store: store,\n                query: query,\n                policies: policies,\n                variables: variables,\n                varString: canonicalStringify(variables),\n                canonizeResults: canonizeResults,\n                fragmentMap: createFragmentMap(getFragmentDefinitions(query)),\n            },\n        });\n        var missing;\n        if (execResult.missing) {\n            missing = [new MissingFieldError(firstMissing(execResult.missing), execResult.missing, query, variables)];\n            if (!returnPartialData) {\n                throw missing[0];\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !missing,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.isFresh = function (result, parent, selectionSet, context) {\n        if (supportsResultCaching(context.store) &&\n            this.knownResults.get(result) === selectionSet) {\n            var latest = this.executeSelectionSet.peek(selectionSet, parent, context, this.canon.isKnown(result));\n            if (latest && result === latest.result) {\n                return true;\n            }\n        }\n        return false;\n    };\n    StoreReader.prototype.execSelectionSetImpl = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, objectOrReference = _a.objectOrReference, enclosingRef = _a.enclosingRef, context = _a.context;\n        if (isReference(objectOrReference) &&\n            !context.policies.rootTypenamesById[objectOrReference.__ref] &&\n            !context.store.has(objectOrReference.__ref)) {\n            return {\n                result: this.canon.empty,\n                missing: \"Dangling reference to missing \".concat(objectOrReference.__ref, \" object\"),\n            };\n        }\n        var variables = context.variables, policies = context.policies, store = context.store;\n        var typename = store.getFieldValue(objectOrReference, \"__typename\");\n        var objectsToMerge = [];\n        var missing;\n        var missingMerger = new DeepMerger();\n        if (this.config.addTypename &&\n            typeof typename === \"string\" &&\n            !policies.rootIdsByTypename[typename]) {\n            objectsToMerge.push({ __typename: typename });\n        }\n        function handleMissing(result, resultName) {\n            var _a;\n            if (result.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[resultName] = result.missing, _a));\n            }\n            return result.result;\n        }\n        var workSet = new Set(selectionSet.selections);\n        workSet.forEach(function (selection) {\n            var _a, _b;\n            if (!shouldInclude(selection, variables))\n                return;\n            if (isField(selection)) {\n                var fieldValue = policies.readField({\n                    fieldName: selection.name.value,\n                    field: selection,\n                    variables: context.variables,\n                    from: objectOrReference,\n                }, context);\n                var resultName = resultKeyNameFromField(selection);\n                if (fieldValue === void 0) {\n                    if (!addTypenameToDocument.added(selection)) {\n                        missing = missingMerger.merge(missing, (_a = {},\n                            _a[resultName] = \"Can't find field '\".concat(selection.name.value, \"' on \").concat(isReference(objectOrReference)\n                                ? objectOrReference.__ref + \" object\"\n                                : \"object \" + JSON.stringify(objectOrReference, null, 2)),\n                            _a));\n                    }\n                }\n                else if (isArray(fieldValue)) {\n                    fieldValue = handleMissing(_this.executeSubSelectedArray({\n                        field: selection,\n                        array: fieldValue,\n                        enclosingRef: enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                else if (!selection.selectionSet) {\n                    if (context.canonizeResults) {\n                        fieldValue = _this.canon.pass(fieldValue);\n                    }\n                }\n                else if (fieldValue != null) {\n                    fieldValue = handleMissing(_this.executeSelectionSet({\n                        selectionSet: selection.selectionSet,\n                        objectOrReference: fieldValue,\n                        enclosingRef: isReference(fieldValue) ? fieldValue : enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                if (fieldValue !== void 0) {\n                    objectsToMerge.push((_b = {}, _b[resultName] = fieldValue, _b));\n                }\n            }\n            else {\n                var fragment = getFragmentFromSelection(selection, context.fragmentMap);\n                if (fragment && policies.fragmentMatches(fragment, typename)) {\n                    fragment.selectionSet.selections.forEach(workSet.add, workSet);\n                }\n            }\n        });\n        var result = mergeDeepArray(objectsToMerge);\n        var finalResult = { result: result, missing: missing };\n        var frozen = context.canonizeResults\n            ? this.canon.admit(finalResult)\n            : maybeDeepFreeze(finalResult);\n        if (frozen.result) {\n            this.knownResults.set(frozen.result, selectionSet);\n        }\n        return frozen;\n    };\n    StoreReader.prototype.execSubSelectedArrayImpl = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, enclosingRef = _a.enclosingRef, context = _a.context;\n        var missing;\n        var missingMerger = new DeepMerger();\n        function handleMissing(childResult, i) {\n            var _a;\n            if (childResult.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[i] = childResult.missing, _a));\n            }\n            return childResult.result;\n        }\n        if (field.selectionSet) {\n            array = array.filter(context.store.canRead);\n        }\n        array = array.map(function (item, i) {\n            if (item === null) {\n                return null;\n            }\n            if (isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    enclosingRef: enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    objectOrReference: item,\n                    enclosingRef: isReference(item) ? item : enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (__DEV__) {\n                assertSelectionSetForIdValue(context.store, field, item);\n            }\n            return item;\n        });\n        return {\n            result: context.canonizeResults ? this.canon.admit(array) : array,\n            missing: missing,\n        };\n    };\n    return StoreReader;\n}());\nexport { StoreReader };\nfunction firstMissing(tree) {\n    try {\n        JSON.stringify(tree, function (_, value) {\n            if (typeof value === \"string\")\n                throw value;\n            return value;\n        });\n    }\n    catch (result) {\n        return result;\n    }\n}\nfunction assertSelectionSetForIdValue(store, field, fieldValue) {\n    if (!field.selectionSet) {\n        var workSet_1 = new Set([fieldValue]);\n        workSet_1.forEach(function (value) {\n            if (isNonNullObject(value)) {\n                __DEV__ ? invariant(!isReference(value), \"Missing selection set for object of type \".concat(getTypenameFromStoreObject(store, value), \" returned for query field \").concat(field.name.value)) : invariant(!isReference(value), 5);\n                Object.values(value).forEach(workSet_1.add, workSet_1);\n            }\n        });\n    }\n}\n//# sourceMappingURL=readFromStore.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport { argumentsObjectFromField, DeepMerger, isNonEmptyArray, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, isArray } from \"./helpers.js\";\nvar specifierInfoCache = Object.create(null);\nfunction lookupSpecifierInfo(spec) {\n    var cacheKey = JSON.stringify(spec);\n    return specifierInfoCache[cacheKey] ||\n        (specifierInfoCache[cacheKey] = Object.create(null));\n}\nexport function keyFieldsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyFieldsFn || (info.keyFieldsFn = function (object, context) {\n        var extract = function (from, key) { return context.readField(key, from); };\n        var keyObject = context.keyObject = collectSpecifierPaths(specifier, function (schemaKeyPath) {\n            var extracted = extractKeyPath(context.storeObject, schemaKeyPath, extract);\n            if (extracted === void 0 &&\n                object !== context.storeObject &&\n                hasOwn.call(object, schemaKeyPath[0])) {\n                extracted = extractKeyPath(object, schemaKeyPath, extractKey);\n            }\n            __DEV__ ? invariant(extracted !== void 0, \"Missing field '\".concat(schemaKeyPath.join('.'), \"' while extracting keyFields from \").concat(JSON.stringify(object))) : invariant(extracted !== void 0, 2);\n            return extracted;\n        });\n        return \"\".concat(context.typename, \":\").concat(JSON.stringify(keyObject));\n    });\n}\nexport function keyArgsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyArgsFn || (info.keyArgsFn = function (args, _a) {\n        var field = _a.field, variables = _a.variables, fieldName = _a.fieldName;\n        var collected = collectSpecifierPaths(specifier, function (keyPath) {\n            var firstKey = keyPath[0];\n            var firstChar = firstKey.charAt(0);\n            if (firstChar === \"@\") {\n                if (field && isNonEmptyArray(field.directives)) {\n                    var directiveName_1 = firstKey.slice(1);\n                    var d = field.directives.find(function (d) { return d.name.value === directiveName_1; });\n                    var directiveArgs = d && argumentsObjectFromField(d, variables);\n                    return directiveArgs && extractKeyPath(directiveArgs, keyPath.slice(1));\n                }\n                return;\n            }\n            if (firstChar === \"$\") {\n                var variableName = firstKey.slice(1);\n                if (variables && hasOwn.call(variables, variableName)) {\n                    var varKeyPath = keyPath.slice(0);\n                    varKeyPath[0] = variableName;\n                    return extractKeyPath(variables, varKeyPath);\n                }\n                return;\n            }\n            if (args) {\n                return extractKeyPath(args, keyPath);\n            }\n        });\n        var suffix = JSON.stringify(collected);\n        if (args || suffix !== \"{}\") {\n            fieldName += \":\" + suffix;\n        }\n        return fieldName;\n    });\n}\nexport function collectSpecifierPaths(specifier, extractor) {\n    var merger = new DeepMerger;\n    return getSpecifierPaths(specifier).reduce(function (collected, path) {\n        var _a;\n        var toMerge = extractor(path);\n        if (toMerge !== void 0) {\n            for (var i = path.length - 1; i >= 0; --i) {\n                toMerge = (_a = {}, _a[path[i]] = toMerge, _a);\n            }\n            collected = merger.merge(collected, toMerge);\n        }\n        return collected;\n    }, Object.create(null));\n}\nexport function getSpecifierPaths(spec) {\n    var info = lookupSpecifierInfo(spec);\n    if (!info.paths) {\n        var paths_1 = info.paths = [];\n        var currentPath_1 = [];\n        spec.forEach(function (s, i) {\n            if (isArray(s)) {\n                getSpecifierPaths(s).forEach(function (p) { return paths_1.push(currentPath_1.concat(p)); });\n                currentPath_1.length = 0;\n            }\n            else {\n                currentPath_1.push(s);\n                if (!isArray(spec[i + 1])) {\n                    paths_1.push(currentPath_1.slice(0));\n                    currentPath_1.length = 0;\n                }\n            }\n        });\n    }\n    return info.paths;\n}\nfunction extractKey(object, key) {\n    return object[key];\n}\nexport function extractKeyPath(object, path, extract) {\n    extract = extract || extractKey;\n    return normalize(path.reduce(function reducer(obj, key) {\n        return isArray(obj)\n            ? obj.map(function (child) { return reducer(child, key); })\n            : obj && extract(obj, key);\n    }, object));\n}\nfunction normalize(value) {\n    if (isNonNullObject(value)) {\n        if (isArray(value)) {\n            return value.map(normalize);\n        }\n        return collectSpecifierPaths(Object.keys(value).sort(), function (path) { return extractKeyPath(value, path); });\n    }\n    return value;\n}\n//# sourceMappingURL=key-extractor.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { storeKeyNameFromField, argumentsObjectFromField, isReference, getStoreKeyName, isNonNullObject, stringifyForDisplay, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName, storeValueIsStoreObject, selectionSetMatchesResult, TypeOrFieldNameRegExp, defaultDataIdFromObject, isArray, } from \"./helpers.js\";\nimport { cacheSlot } from \"./reactiveVars.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { keyArgsFnFromSpecifier, keyFieldsFnFromSpecifier } from \"./key-extractor.js\";\ngetStoreKeyName.setStringify(canonicalStringify);\nfunction argsFromFieldSpecifier(spec) {\n    return spec.args !== void 0 ? spec.args :\n        spec.field ? argumentsObjectFromField(spec.field, spec.variables) : null;\n}\nvar nullKeyFieldsFn = function () { return void 0; };\nvar simpleKeyArgsFn = function (_args, context) { return context.fieldName; };\nvar mergeTrueFn = function (existing, incoming, _a) {\n    var mergeObjects = _a.mergeObjects;\n    return mergeObjects(existing, incoming);\n};\nvar mergeFalseFn = function (_, incoming) { return incoming; };\nvar Policies = (function () {\n    function Policies(config) {\n        this.config = config;\n        this.typePolicies = Object.create(null);\n        this.toBeAdded = Object.create(null);\n        this.supertypeMap = new Map();\n        this.fuzzySubtypes = new Map();\n        this.rootIdsByTypename = Object.create(null);\n        this.rootTypenamesById = Object.create(null);\n        this.usingPossibleTypes = false;\n        this.config = __assign({ dataIdFromObject: defaultDataIdFromObject }, config);\n        this.cache = this.config.cache;\n        this.setRootTypename(\"Query\");\n        this.setRootTypename(\"Mutation\");\n        this.setRootTypename(\"Subscription\");\n        if (config.possibleTypes) {\n            this.addPossibleTypes(config.possibleTypes);\n        }\n        if (config.typePolicies) {\n            this.addTypePolicies(config.typePolicies);\n        }\n    }\n    Policies.prototype.identify = function (object, partialContext) {\n        var _a;\n        var policies = this;\n        var typename = partialContext && (partialContext.typename ||\n            ((_a = partialContext.storeObject) === null || _a === void 0 ? void 0 : _a.__typename)) || object.__typename;\n        if (typename === this.rootTypenamesById.ROOT_QUERY) {\n            return [\"ROOT_QUERY\"];\n        }\n        var storeObject = partialContext && partialContext.storeObject || object;\n        var context = __assign(__assign({}, partialContext), { typename: typename, storeObject: storeObject, readField: partialContext && partialContext.readField || function () {\n                var options = normalizeReadFieldOptions(arguments, storeObject);\n                return policies.readField(options, {\n                    store: policies.cache[\"data\"],\n                    variables: options.variables,\n                });\n            } });\n        var id;\n        var policy = typename && this.getTypePolicy(typename);\n        var keyFn = policy && policy.keyFn || this.config.dataIdFromObject;\n        while (keyFn) {\n            var specifierOrId = keyFn(object, context);\n            if (isArray(specifierOrId)) {\n                keyFn = keyFieldsFnFromSpecifier(specifierOrId);\n            }\n            else {\n                id = specifierOrId;\n                break;\n            }\n        }\n        id = id ? String(id) : void 0;\n        return context.keyObject ? [id, context.keyObject] : [id];\n    };\n    Policies.prototype.addTypePolicies = function (typePolicies) {\n        var _this = this;\n        Object.keys(typePolicies).forEach(function (typename) {\n            var _a = typePolicies[typename], queryType = _a.queryType, mutationType = _a.mutationType, subscriptionType = _a.subscriptionType, incoming = __rest(_a, [\"queryType\", \"mutationType\", \"subscriptionType\"]);\n            if (queryType)\n                _this.setRootTypename(\"Query\", typename);\n            if (mutationType)\n                _this.setRootTypename(\"Mutation\", typename);\n            if (subscriptionType)\n                _this.setRootTypename(\"Subscription\", typename);\n            if (hasOwn.call(_this.toBeAdded, typename)) {\n                _this.toBeAdded[typename].push(incoming);\n            }\n            else {\n                _this.toBeAdded[typename] = [incoming];\n            }\n        });\n    };\n    Policies.prototype.updateTypePolicy = function (typename, incoming) {\n        var _this = this;\n        var existing = this.getTypePolicy(typename);\n        var keyFields = incoming.keyFields, fields = incoming.fields;\n        function setMerge(existing, merge) {\n            existing.merge =\n                typeof merge === \"function\" ? merge :\n                    merge === true ? mergeTrueFn :\n                        merge === false ? mergeFalseFn :\n                            existing.merge;\n        }\n        setMerge(existing, incoming.merge);\n        existing.keyFn =\n            keyFields === false ? nullKeyFieldsFn :\n                isArray(keyFields) ? keyFieldsFnFromSpecifier(keyFields) :\n                    typeof keyFields === \"function\" ? keyFields :\n                        existing.keyFn;\n        if (fields) {\n            Object.keys(fields).forEach(function (fieldName) {\n                var existing = _this.getFieldPolicy(typename, fieldName, true);\n                var incoming = fields[fieldName];\n                if (typeof incoming === \"function\") {\n                    existing.read = incoming;\n                }\n                else {\n                    var keyArgs = incoming.keyArgs, read = incoming.read, merge = incoming.merge;\n                    existing.keyFn =\n                        keyArgs === false ? simpleKeyArgsFn :\n                            isArray(keyArgs) ? keyArgsFnFromSpecifier(keyArgs) :\n                                typeof keyArgs === \"function\" ? keyArgs :\n                                    existing.keyFn;\n                    if (typeof read === \"function\") {\n                        existing.read = read;\n                    }\n                    setMerge(existing, merge);\n                }\n                if (existing.read && existing.merge) {\n                    existing.keyFn = existing.keyFn || simpleKeyArgsFn;\n                }\n            });\n        }\n    };\n    Policies.prototype.setRootTypename = function (which, typename) {\n        if (typename === void 0) { typename = which; }\n        var rootId = \"ROOT_\" + which.toUpperCase();\n        var old = this.rootTypenamesById[rootId];\n        if (typename !== old) {\n            __DEV__ ? invariant(!old || old === which, \"Cannot change root \".concat(which, \" __typename more than once\")) : invariant(!old || old === which, 3);\n            if (old)\n                delete this.rootIdsByTypename[old];\n            this.rootIdsByTypename[typename] = rootId;\n            this.rootTypenamesById[rootId] = typename;\n        }\n    };\n    Policies.prototype.addPossibleTypes = function (possibleTypes) {\n        var _this = this;\n        this.usingPossibleTypes = true;\n        Object.keys(possibleTypes).forEach(function (supertype) {\n            _this.getSupertypeSet(supertype, true);\n            possibleTypes[supertype].forEach(function (subtype) {\n                _this.getSupertypeSet(subtype, true).add(supertype);\n                var match = subtype.match(TypeOrFieldNameRegExp);\n                if (!match || match[0] !== subtype) {\n                    _this.fuzzySubtypes.set(subtype, new RegExp(subtype));\n                }\n            });\n        });\n    };\n    Policies.prototype.getTypePolicy = function (typename) {\n        var _this = this;\n        if (!hasOwn.call(this.typePolicies, typename)) {\n            var policy_1 = this.typePolicies[typename] = Object.create(null);\n            policy_1.fields = Object.create(null);\n            var supertypes = this.supertypeMap.get(typename);\n            if (supertypes && supertypes.size) {\n                supertypes.forEach(function (supertype) {\n                    var _a = _this.getTypePolicy(supertype), fields = _a.fields, rest = __rest(_a, [\"fields\"]);\n                    Object.assign(policy_1, rest);\n                    Object.assign(policy_1.fields, fields);\n                });\n            }\n        }\n        var inbox = this.toBeAdded[typename];\n        if (inbox && inbox.length) {\n            inbox.splice(0).forEach(function (policy) {\n                _this.updateTypePolicy(typename, policy);\n            });\n        }\n        return this.typePolicies[typename];\n    };\n    Policies.prototype.getFieldPolicy = function (typename, fieldName, createIfMissing) {\n        if (typename) {\n            var fieldPolicies = this.getTypePolicy(typename).fields;\n            return fieldPolicies[fieldName] || (createIfMissing && (fieldPolicies[fieldName] = Object.create(null)));\n        }\n    };\n    Policies.prototype.getSupertypeSet = function (subtype, createIfMissing) {\n        var supertypeSet = this.supertypeMap.get(subtype);\n        if (!supertypeSet && createIfMissing) {\n            this.supertypeMap.set(subtype, supertypeSet = new Set());\n        }\n        return supertypeSet;\n    };\n    Policies.prototype.fragmentMatches = function (fragment, typename, result, variables) {\n        var _this = this;\n        if (!fragment.typeCondition)\n            return true;\n        if (!typename)\n            return false;\n        var supertype = fragment.typeCondition.name.value;\n        if (typename === supertype)\n            return true;\n        if (this.usingPossibleTypes &&\n            this.supertypeMap.has(supertype)) {\n            var typenameSupertypeSet = this.getSupertypeSet(typename, true);\n            var workQueue_1 = [typenameSupertypeSet];\n            var maybeEnqueue_1 = function (subtype) {\n                var supertypeSet = _this.getSupertypeSet(subtype, false);\n                if (supertypeSet &&\n                    supertypeSet.size &&\n                    workQueue_1.indexOf(supertypeSet) < 0) {\n                    workQueue_1.push(supertypeSet);\n                }\n            };\n            var needToCheckFuzzySubtypes = !!(result && this.fuzzySubtypes.size);\n            var checkingFuzzySubtypes = false;\n            for (var i = 0; i < workQueue_1.length; ++i) {\n                var supertypeSet = workQueue_1[i];\n                if (supertypeSet.has(supertype)) {\n                    if (!typenameSupertypeSet.has(supertype)) {\n                        if (checkingFuzzySubtypes) {\n                            __DEV__ && invariant.warn(\"Inferring subtype \".concat(typename, \" of supertype \").concat(supertype));\n                        }\n                        typenameSupertypeSet.add(supertype);\n                    }\n                    return true;\n                }\n                supertypeSet.forEach(maybeEnqueue_1);\n                if (needToCheckFuzzySubtypes &&\n                    i === workQueue_1.length - 1 &&\n                    selectionSetMatchesResult(fragment.selectionSet, result, variables)) {\n                    needToCheckFuzzySubtypes = false;\n                    checkingFuzzySubtypes = true;\n                    this.fuzzySubtypes.forEach(function (regExp, fuzzyString) {\n                        var match = typename.match(regExp);\n                        if (match && match[0] === typename) {\n                            maybeEnqueue_1(fuzzyString);\n                        }\n                    });\n                }\n            }\n        }\n        return false;\n    };\n    Policies.prototype.hasKeyArgs = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return !!(policy && policy.keyFn);\n    };\n    Policies.prototype.getStoreFieldName = function (fieldSpec) {\n        var typename = fieldSpec.typename, fieldName = fieldSpec.fieldName;\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        var storeFieldName;\n        var keyFn = policy && policy.keyFn;\n        if (keyFn && typename) {\n            var context = {\n                typename: typename,\n                fieldName: fieldName,\n                field: fieldSpec.field || null,\n                variables: fieldSpec.variables,\n            };\n            var args = argsFromFieldSpecifier(fieldSpec);\n            while (keyFn) {\n                var specifierOrString = keyFn(args, context);\n                if (isArray(specifierOrString)) {\n                    keyFn = keyArgsFnFromSpecifier(specifierOrString);\n                }\n                else {\n                    storeFieldName = specifierOrString || fieldName;\n                    break;\n                }\n            }\n        }\n        if (storeFieldName === void 0) {\n            storeFieldName = fieldSpec.field\n                ? storeKeyNameFromField(fieldSpec.field, fieldSpec.variables)\n                : getStoreKeyName(fieldName, argsFromFieldSpecifier(fieldSpec));\n        }\n        if (storeFieldName === false) {\n            return fieldName;\n        }\n        return fieldName === fieldNameFromStoreName(storeFieldName)\n            ? storeFieldName\n            : fieldName + \":\" + storeFieldName;\n    };\n    Policies.prototype.readField = function (options, context) {\n        var objectOrReference = options.from;\n        if (!objectOrReference)\n            return;\n        var nameOrField = options.field || options.fieldName;\n        if (!nameOrField)\n            return;\n        if (options.typename === void 0) {\n            var typename = context.store.getFieldValue(objectOrReference, \"__typename\");\n            if (typename)\n                options.typename = typename;\n        }\n        var storeFieldName = this.getStoreFieldName(options);\n        var fieldName = fieldNameFromStoreName(storeFieldName);\n        var existing = context.store.getFieldValue(objectOrReference, storeFieldName);\n        var policy = this.getFieldPolicy(options.typename, fieldName, false);\n        var read = policy && policy.read;\n        if (read) {\n            var readOptions = makeFieldFunctionOptions(this, objectOrReference, options, context, context.store.getStorage(isReference(objectOrReference)\n                ? objectOrReference.__ref\n                : objectOrReference, storeFieldName));\n            return cacheSlot.withValue(this.cache, read, [existing, readOptions]);\n        }\n        return existing;\n    };\n    Policies.prototype.getReadFunction = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return policy && policy.read;\n    };\n    Policies.prototype.getMergeFunction = function (parentTypename, fieldName, childTypename) {\n        var policy = this.getFieldPolicy(parentTypename, fieldName, false);\n        var merge = policy && policy.merge;\n        if (!merge && childTypename) {\n            policy = this.getTypePolicy(childTypename);\n            merge = policy && policy.merge;\n        }\n        return merge;\n    };\n    Policies.prototype.runMergeFunction = function (existing, incoming, _a, context, storage) {\n        var field = _a.field, typename = _a.typename, merge = _a.merge;\n        if (merge === mergeTrueFn) {\n            return makeMergeObjectsFunction(context.store)(existing, incoming);\n        }\n        if (merge === mergeFalseFn) {\n            return incoming;\n        }\n        if (context.overwrite) {\n            existing = void 0;\n        }\n        return merge(existing, incoming, makeFieldFunctionOptions(this, void 0, { typename: typename, fieldName: field.name.value, field: field, variables: context.variables }, context, storage || Object.create(null)));\n    };\n    return Policies;\n}());\nexport { Policies };\nfunction makeFieldFunctionOptions(policies, objectOrReference, fieldSpec, context, storage) {\n    var storeFieldName = policies.getStoreFieldName(fieldSpec);\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var variables = fieldSpec.variables || context.variables;\n    var _a = context.store, toReference = _a.toReference, canRead = _a.canRead;\n    return {\n        args: argsFromFieldSpecifier(fieldSpec),\n        field: fieldSpec.field || null,\n        fieldName: fieldName,\n        storeFieldName: storeFieldName,\n        variables: variables,\n        isReference: isReference,\n        toReference: toReference,\n        storage: storage,\n        cache: policies.cache,\n        canRead: canRead,\n        readField: function () {\n            return policies.readField(normalizeReadFieldOptions(arguments, objectOrReference, variables), context);\n        },\n        mergeObjects: makeMergeObjectsFunction(context.store),\n    };\n}\nexport function normalizeReadFieldOptions(readFieldArgs, objectOrReference, variables) {\n    var fieldNameOrOptions = readFieldArgs[0], from = readFieldArgs[1], argc = readFieldArgs.length;\n    var options;\n    if (typeof fieldNameOrOptions === \"string\") {\n        options = {\n            fieldName: fieldNameOrOptions,\n            from: argc > 1 ? from : objectOrReference,\n        };\n    }\n    else {\n        options = __assign({}, fieldNameOrOptions);\n        if (!hasOwn.call(options, \"from\")) {\n            options.from = objectOrReference;\n        }\n    }\n    if (__DEV__ && options.from === void 0) {\n        __DEV__ && invariant.warn(\"Undefined 'from' passed to readField with arguments \".concat(stringifyForDisplay(Array.from(readFieldArgs))));\n    }\n    if (void 0 === options.variables) {\n        options.variables = variables;\n    }\n    return options;\n}\nfunction makeMergeObjectsFunction(store) {\n    return function mergeObjects(existing, incoming) {\n        if (isArray(existing) || isArray(incoming)) {\n            throw __DEV__ ? new InvariantError(\"Cannot automatically merge arrays\") : new InvariantError(4);\n        }\n        if (isNonNullObject(existing) &&\n            isNonNullObject(incoming)) {\n            var eType = store.getFieldValue(existing, \"__typename\");\n            var iType = store.getFieldValue(incoming, \"__typename\");\n            var typesDiffer = eType && iType && eType !== iType;\n            if (typesDiffer) {\n                return incoming;\n            }\n            if (isReference(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                store.merge(existing.__ref, incoming);\n                return existing;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                isReference(incoming)) {\n                store.merge(existing, incoming.__ref);\n                return incoming;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                return __assign(__assign({}, existing), incoming);\n            }\n        }\n        return incoming;\n    };\n}\n//# sourceMappingURL=policies.js.map","import { makeUniqueId } from \"./makeUniqueId.js\";\nexport function stringifyForDisplay(value) {\n    var undefId = makeUniqueId(\"stringifyForDisplay\");\n    return JSON.stringify(value, function (key, value) {\n        return value === void 0 ? undefId : value;\n    }).split(JSON.stringify(undefId)).join(\"<undefined>\");\n}\n//# sourceMappingURL=stringifyForDisplay.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { createFragmentMap, getFragmentFromSelection, getDefaultValues, getFragmentDefinitions, getOperationDefinition, getTypenameFromResult, makeReference, isField, resultKeyNameFromField, isReference, shouldInclude, cloneDeep, addTypenameToDocument, isNonEmptyArray, argumentsObjectFromField, } from \"../../utilities/index.js\";\nimport { makeProcessedFieldsMerger, fieldNameFromStoreName, storeValueIsStoreObject, isArray } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { normalizeReadFieldOptions } from \"./policies.js\";\n;\nfunction getContextFlavor(context, clientOnly, deferred) {\n    var key = \"\".concat(clientOnly).concat(deferred);\n    var flavored = context.flavors.get(key);\n    if (!flavored) {\n        context.flavors.set(key, flavored = (context.clientOnly === clientOnly &&\n            context.deferred === deferred) ? context : __assign(__assign({}, context), { clientOnly: clientOnly, deferred: deferred }));\n    }\n    return flavored;\n}\nvar StoreWriter = (function () {\n    function StoreWriter(cache, reader) {\n        this.cache = cache;\n        this.reader = reader;\n    }\n    StoreWriter.prototype.writeToStore = function (store, _a) {\n        var _this = this;\n        var query = _a.query, result = _a.result, dataId = _a.dataId, variables = _a.variables, overwrite = _a.overwrite;\n        var operationDefinition = getOperationDefinition(query);\n        var merger = makeProcessedFieldsMerger();\n        variables = __assign(__assign({}, getDefaultValues(operationDefinition)), variables);\n        var context = {\n            store: store,\n            written: Object.create(null),\n            merge: function (existing, incoming) {\n                return merger.merge(existing, incoming);\n            },\n            variables: variables,\n            varString: canonicalStringify(variables),\n            fragmentMap: createFragmentMap(getFragmentDefinitions(query)),\n            overwrite: !!overwrite,\n            incomingById: new Map,\n            clientOnly: false,\n            deferred: false,\n            flavors: new Map,\n        };\n        var ref = this.processSelectionSet({\n            result: result || Object.create(null),\n            dataId: dataId,\n            selectionSet: operationDefinition.selectionSet,\n            mergeTree: { map: new Map },\n            context: context,\n        });\n        if (!isReference(ref)) {\n            throw __DEV__ ? new InvariantError(\"Could not identify object \".concat(JSON.stringify(result))) : new InvariantError(6);\n        }\n        context.incomingById.forEach(function (_a, dataId) {\n            var storeObject = _a.storeObject, mergeTree = _a.mergeTree, fieldNodeSet = _a.fieldNodeSet;\n            var entityRef = makeReference(dataId);\n            if (mergeTree && mergeTree.map.size) {\n                var applied = _this.applyMerges(mergeTree, entityRef, storeObject, context);\n                if (isReference(applied)) {\n                    return;\n                }\n                storeObject = applied;\n            }\n            if (__DEV__ && !context.overwrite) {\n                var fieldsWithSelectionSets_1 = Object.create(null);\n                fieldNodeSet.forEach(function (field) {\n                    if (field.selectionSet) {\n                        fieldsWithSelectionSets_1[field.name.value] = true;\n                    }\n                });\n                var hasSelectionSet_1 = function (storeFieldName) {\n                    return fieldsWithSelectionSets_1[fieldNameFromStoreName(storeFieldName)] === true;\n                };\n                var hasMergeFunction_1 = function (storeFieldName) {\n                    var childTree = mergeTree && mergeTree.map.get(storeFieldName);\n                    return Boolean(childTree && childTree.info && childTree.info.merge);\n                };\n                Object.keys(storeObject).forEach(function (storeFieldName) {\n                    if (hasSelectionSet_1(storeFieldName) &&\n                        !hasMergeFunction_1(storeFieldName)) {\n                        warnAboutDataLoss(entityRef, storeObject, storeFieldName, context.store);\n                    }\n                });\n            }\n            store.merge(dataId, storeObject);\n        });\n        store.retain(ref.__ref);\n        return ref;\n    };\n    StoreWriter.prototype.processSelectionSet = function (_a) {\n        var _this = this;\n        var dataId = _a.dataId, result = _a.result, selectionSet = _a.selectionSet, context = _a.context, mergeTree = _a.mergeTree;\n        var policies = this.cache.policies;\n        var incoming = Object.create(null);\n        var typename = (dataId && policies.rootTypenamesById[dataId]) ||\n            getTypenameFromResult(result, selectionSet, context.fragmentMap) ||\n            (dataId && context.store.get(dataId, \"__typename\"));\n        if (\"string\" === typeof typename) {\n            incoming.__typename = typename;\n        }\n        var readField = function () {\n            var options = normalizeReadFieldOptions(arguments, incoming, context.variables);\n            if (isReference(options.from)) {\n                var info = context.incomingById.get(options.from.__ref);\n                if (info) {\n                    var result_1 = policies.readField(__assign(__assign({}, options), { from: info.storeObject }), context);\n                    if (result_1 !== void 0) {\n                        return result_1;\n                    }\n                }\n            }\n            return policies.readField(options, context);\n        };\n        var fieldNodeSet = new Set();\n        this.flattenFields(selectionSet, result, context, typename).forEach(function (context, field) {\n            var _a;\n            var resultFieldKey = resultKeyNameFromField(field);\n            var value = result[resultFieldKey];\n            fieldNodeSet.add(field);\n            if (value !== void 0) {\n                var storeFieldName = policies.getStoreFieldName({\n                    typename: typename,\n                    fieldName: field.name.value,\n                    field: field,\n                    variables: context.variables,\n                });\n                var childTree = getChildMergeTree(mergeTree, storeFieldName);\n                var incomingValue = _this.processFieldValue(value, field, field.selectionSet\n                    ? getContextFlavor(context, false, false)\n                    : context, childTree);\n                var childTypename = void 0;\n                if (field.selectionSet &&\n                    (isReference(incomingValue) ||\n                        storeValueIsStoreObject(incomingValue))) {\n                    childTypename = readField(\"__typename\", incomingValue);\n                }\n                var merge = policies.getMergeFunction(typename, field.name.value, childTypename);\n                if (merge) {\n                    childTree.info = {\n                        field: field,\n                        typename: typename,\n                        merge: merge,\n                    };\n                }\n                else {\n                    maybeRecycleChildMergeTree(mergeTree, storeFieldName);\n                }\n                incoming = context.merge(incoming, (_a = {},\n                    _a[storeFieldName] = incomingValue,\n                    _a));\n            }\n            else if (__DEV__ &&\n                !context.clientOnly &&\n                !context.deferred &&\n                !addTypenameToDocument.added(field) &&\n                !policies.getReadFunction(typename, field.name.value)) {\n                __DEV__ && invariant.error(\"Missing field '\".concat(resultKeyNameFromField(field), \"' while writing result \").concat(JSON.stringify(result, null, 2)).substring(0, 1000));\n            }\n        });\n        try {\n            var _b = policies.identify(result, {\n                typename: typename,\n                selectionSet: selectionSet,\n                fragmentMap: context.fragmentMap,\n                storeObject: incoming,\n                readField: readField,\n            }), id = _b[0], keyObject = _b[1];\n            dataId = dataId || id;\n            if (keyObject) {\n                incoming = context.merge(incoming, keyObject);\n            }\n        }\n        catch (e) {\n            if (!dataId)\n                throw e;\n        }\n        if (\"string\" === typeof dataId) {\n            var dataRef = makeReference(dataId);\n            var sets = context.written[dataId] || (context.written[dataId] = []);\n            if (sets.indexOf(selectionSet) >= 0)\n                return dataRef;\n            sets.push(selectionSet);\n            if (this.reader && this.reader.isFresh(result, dataRef, selectionSet, context)) {\n                return dataRef;\n            }\n            var previous_1 = context.incomingById.get(dataId);\n            if (previous_1) {\n                previous_1.storeObject = context.merge(previous_1.storeObject, incoming);\n                previous_1.mergeTree = mergeMergeTrees(previous_1.mergeTree, mergeTree);\n                fieldNodeSet.forEach(function (field) { return previous_1.fieldNodeSet.add(field); });\n            }\n            else {\n                context.incomingById.set(dataId, {\n                    storeObject: incoming,\n                    mergeTree: mergeTreeIsEmpty(mergeTree) ? void 0 : mergeTree,\n                    fieldNodeSet: fieldNodeSet,\n                });\n            }\n            return dataRef;\n        }\n        return incoming;\n    };\n    StoreWriter.prototype.processFieldValue = function (value, field, context, mergeTree) {\n        var _this = this;\n        if (!field.selectionSet || value === null) {\n            return __DEV__ ? cloneDeep(value) : value;\n        }\n        if (isArray(value)) {\n            return value.map(function (item, i) {\n                var value = _this.processFieldValue(item, field, context, getChildMergeTree(mergeTree, i));\n                maybeRecycleChildMergeTree(mergeTree, i);\n                return value;\n            });\n        }\n        return this.processSelectionSet({\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n            mergeTree: mergeTree,\n        });\n    };\n    StoreWriter.prototype.flattenFields = function (selectionSet, result, context, typename) {\n        if (typename === void 0) { typename = getTypenameFromResult(result, selectionSet, context.fragmentMap); }\n        var fieldMap = new Map();\n        var policies = this.cache.policies;\n        var limitingTrie = new Trie(false);\n        (function flatten(selectionSet, inheritedContext) {\n            var visitedNode = limitingTrie.lookup(selectionSet, inheritedContext.clientOnly, inheritedContext.deferred);\n            if (visitedNode.visited)\n                return;\n            visitedNode.visited = true;\n            selectionSet.selections.forEach(function (selection) {\n                if (!shouldInclude(selection, context.variables))\n                    return;\n                var clientOnly = inheritedContext.clientOnly, deferred = inheritedContext.deferred;\n                if (!(clientOnly && deferred) &&\n                    isNonEmptyArray(selection.directives)) {\n                    selection.directives.forEach(function (dir) {\n                        var name = dir.name.value;\n                        if (name === \"client\")\n                            clientOnly = true;\n                        if (name === \"defer\") {\n                            var args = argumentsObjectFromField(dir, context.variables);\n                            if (!args || args.if !== false) {\n                                deferred = true;\n                            }\n                        }\n                    });\n                }\n                if (isField(selection)) {\n                    var existing = fieldMap.get(selection);\n                    if (existing) {\n                        clientOnly = clientOnly && existing.clientOnly;\n                        deferred = deferred && existing.deferred;\n                    }\n                    fieldMap.set(selection, getContextFlavor(context, clientOnly, deferred));\n                }\n                else {\n                    var fragment = getFragmentFromSelection(selection, context.fragmentMap);\n                    if (fragment &&\n                        policies.fragmentMatches(fragment, typename, result, context.variables)) {\n                        flatten(fragment.selectionSet, getContextFlavor(context, clientOnly, deferred));\n                    }\n                }\n            });\n        })(selectionSet, context);\n        return fieldMap;\n    };\n    StoreWriter.prototype.applyMerges = function (mergeTree, existing, incoming, context, getStorageArgs) {\n        var _a;\n        var _this = this;\n        if (mergeTree.map.size && !isReference(incoming)) {\n            var e_1 = (!isArray(incoming) &&\n                (isReference(existing) || storeValueIsStoreObject(existing))) ? existing : void 0;\n            var i_1 = incoming;\n            if (e_1 && !getStorageArgs) {\n                getStorageArgs = [isReference(e_1) ? e_1.__ref : e_1];\n            }\n            var changedFields_1;\n            var getValue_1 = function (from, name) {\n                return isArray(from)\n                    ? (typeof name === \"number\" ? from[name] : void 0)\n                    : context.store.getFieldValue(from, String(name));\n            };\n            mergeTree.map.forEach(function (childTree, storeFieldName) {\n                var eVal = getValue_1(e_1, storeFieldName);\n                var iVal = getValue_1(i_1, storeFieldName);\n                if (void 0 === iVal)\n                    return;\n                if (getStorageArgs) {\n                    getStorageArgs.push(storeFieldName);\n                }\n                var aVal = _this.applyMerges(childTree, eVal, iVal, context, getStorageArgs);\n                if (aVal !== iVal) {\n                    changedFields_1 = changedFields_1 || new Map;\n                    changedFields_1.set(storeFieldName, aVal);\n                }\n                if (getStorageArgs) {\n                    invariant(getStorageArgs.pop() === storeFieldName);\n                }\n            });\n            if (changedFields_1) {\n                incoming = (isArray(i_1) ? i_1.slice(0) : __assign({}, i_1));\n                changedFields_1.forEach(function (value, name) {\n                    incoming[name] = value;\n                });\n            }\n        }\n        if (mergeTree.info) {\n            return this.cache.policies.runMergeFunction(existing, incoming, mergeTree.info, context, getStorageArgs && (_a = context.store).getStorage.apply(_a, getStorageArgs));\n        }\n        return incoming;\n    };\n    return StoreWriter;\n}());\nexport { StoreWriter };\nvar emptyMergeTreePool = [];\nfunction getChildMergeTree(_a, name) {\n    var map = _a.map;\n    if (!map.has(name)) {\n        map.set(name, emptyMergeTreePool.pop() || { map: new Map });\n    }\n    return map.get(name);\n}\nfunction mergeMergeTrees(left, right) {\n    if (left === right || !right || mergeTreeIsEmpty(right))\n        return left;\n    if (!left || mergeTreeIsEmpty(left))\n        return right;\n    var info = left.info && right.info ? __assign(__assign({}, left.info), right.info) : left.info || right.info;\n    var needToMergeMaps = left.map.size && right.map.size;\n    var map = needToMergeMaps ? new Map :\n        left.map.size ? left.map : right.map;\n    var merged = { info: info, map: map };\n    if (needToMergeMaps) {\n        var remainingRightKeys_1 = new Set(right.map.keys());\n        left.map.forEach(function (leftTree, key) {\n            merged.map.set(key, mergeMergeTrees(leftTree, right.map.get(key)));\n            remainingRightKeys_1.delete(key);\n        });\n        remainingRightKeys_1.forEach(function (key) {\n            merged.map.set(key, mergeMergeTrees(right.map.get(key), left.map.get(key)));\n        });\n    }\n    return merged;\n}\nfunction mergeTreeIsEmpty(tree) {\n    return !tree || !(tree.info || tree.map.size);\n}\nfunction maybeRecycleChildMergeTree(_a, name) {\n    var map = _a.map;\n    var childTree = map.get(name);\n    if (childTree && mergeTreeIsEmpty(childTree)) {\n        emptyMergeTreePool.push(childTree);\n        map.delete(name);\n    }\n}\nvar warnings = new Set();\nfunction warnAboutDataLoss(existingRef, incomingObj, storeFieldName, store) {\n    var getChild = function (objOrRef) {\n        var child = store.getFieldValue(objOrRef, storeFieldName);\n        return typeof child === \"object\" && child;\n    };\n    var existing = getChild(existingRef);\n    if (!existing)\n        return;\n    var incoming = getChild(incomingObj);\n    if (!incoming)\n        return;\n    if (isReference(existing))\n        return;\n    if (equal(existing, incoming))\n        return;\n    if (Object.keys(existing).every(function (key) { return store.getFieldValue(incoming, key) !== void 0; })) {\n        return;\n    }\n    var parentType = store.getFieldValue(existingRef, \"__typename\") ||\n        store.getFieldValue(incomingObj, \"__typename\");\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var typeDotName = \"\".concat(parentType, \".\").concat(fieldName);\n    if (warnings.has(typeDotName))\n        return;\n    warnings.add(typeDotName);\n    var childTypenames = [];\n    if (!isArray(existing) &&\n        !isArray(incoming)) {\n        [existing, incoming].forEach(function (child) {\n            var typename = store.getFieldValue(child, \"__typename\");\n            if (typeof typename === \"string\" &&\n                !childTypenames.includes(typename)) {\n                childTypenames.push(typename);\n            }\n        });\n    }\n    __DEV__ && invariant.warn(\"Cache data may be lost when replacing the \".concat(fieldName, \" field of a \").concat(parentType, \" object.\\n\\nTo address this problem (which is not a bug in Apollo Client), \").concat(childTypenames.length\n        ? \"either ensure all objects of type \" +\n            childTypenames.join(\" and \") + \" have an ID or a custom merge function, or \"\n        : \"\", \"define a custom merge function for the \").concat(typeDotName, \" field, so InMemoryCache can safely merge these objects:\\n\\n  existing: \").concat(JSON.stringify(existing).slice(0, 1000), \"\\n  incoming: \").concat(JSON.stringify(incoming).slice(0, 1000), \"\\n\\nFor more information about these options, please refer to the documentation:\\n\\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\\n\"));\n}\n//# sourceMappingURL=writeToStore.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport \"./fixPolyfills.js\";\nimport { wrap } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { ApolloCache } from \"../core/cache.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { addTypenameToDocument, isReference, } from \"../../utilities/index.js\";\nimport { StoreReader } from \"./readFromStore.js\";\nimport { StoreWriter } from \"./writeToStore.js\";\nimport { EntityStore, supportsResultCaching } from \"./entityStore.js\";\nimport { makeVar, forgetCache, recallCache } from \"./reactiveVars.js\";\nimport { Policies } from \"./policies.js\";\nimport { hasOwn, normalizeConfig, shouldCanonizeResults } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.makeVar = makeVar;\n        _this.txCount = 0;\n        _this.config = normalizeConfig(config);\n        _this.addTypename = !!_this.config.addTypename;\n        _this.policies = new Policies({\n            cache: _this,\n            dataIdFromObject: _this.config.dataIdFromObject,\n            possibleTypes: _this.config.possibleTypes,\n            typePolicies: _this.config.typePolicies,\n        });\n        _this.init();\n        return _this;\n    }\n    InMemoryCache.prototype.init = function () {\n        var rootStore = this.data = new EntityStore.Root({\n            policies: this.policies,\n            resultCaching: this.config.resultCaching,\n        });\n        this.optimisticData = rootStore.stump;\n        this.resetResultCache();\n    };\n    InMemoryCache.prototype.resetResultCache = function (resetResultIdentities) {\n        var _this = this;\n        var previousReader = this.storeReader;\n        this.storeWriter = new StoreWriter(this, this.storeReader = new StoreReader({\n            cache: this,\n            addTypename: this.addTypename,\n            resultCacheMaxSize: this.config.resultCacheMaxSize,\n            canonizeResults: shouldCanonizeResults(this.config),\n            canon: resetResultIdentities\n                ? void 0\n                : previousReader && previousReader.canon,\n        }));\n        this.maybeBroadcastWatch = wrap(function (c, options) {\n            return _this.broadcastWatch(c, options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (c) {\n                var store = c.optimistic ? _this.optimisticData : _this.data;\n                if (supportsResultCaching(store)) {\n                    var optimistic = c.optimistic, rootId = c.rootId, variables = c.variables;\n                    return store.makeCacheKey(c.query, c.callback, canonicalStringify({ optimistic: optimistic, rootId: rootId, variables: variables }));\n                }\n            }\n        });\n        new Set([\n            this.data.group,\n            this.optimisticData.group,\n        ]).forEach(function (group) { return group.resetCaching(); });\n    };\n    InMemoryCache.prototype.restore = function (data) {\n        this.init();\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).extract();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        var _a = options.returnPartialData, returnPartialData = _a === void 0 ? false : _a;\n        try {\n            return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: returnPartialData })).result || null;\n        }\n        catch (e) {\n            if (e instanceof MissingFieldError) {\n                return null;\n            }\n            throw e;\n        }\n    };\n    InMemoryCache.prototype.write = function (options) {\n        try {\n            ++this.txCount;\n            return this.storeWriter.writeToStore(this.data, options);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.modify = function (options) {\n        if (hasOwn.call(options, \"id\") && !options.id) {\n            return false;\n        }\n        var store = options.optimistic\n            ? this.optimisticData\n            : this.data;\n        try {\n            ++this.txCount;\n            return store.modify(options.id || \"ROOT_QUERY\", options.fields);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.diff = function (options) {\n        return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, rootId: options.id || \"ROOT_QUERY\", config: this.config }));\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        if (!this.watches.size) {\n            recallCache(this);\n        }\n        this.watches.add(watch);\n        if (watch.immediate) {\n            this.maybeBroadcastWatch(watch);\n        }\n        return function () {\n            if (_this.watches.delete(watch) && !_this.watches.size) {\n                forgetCache(_this);\n            }\n            _this.maybeBroadcastWatch.forget(watch);\n        };\n    };\n    InMemoryCache.prototype.gc = function (options) {\n        canonicalStringify.reset();\n        var ids = this.optimisticData.gc();\n        if (options && !this.txCount) {\n            if (options.resetResultCache) {\n                this.resetResultCache(options.resetResultIdentities);\n            }\n            else if (options.resetResultIdentities) {\n                this.storeReader.resetCanon();\n            }\n        }\n        return ids;\n    };\n    InMemoryCache.prototype.retain = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).retain(rootId);\n    };\n    InMemoryCache.prototype.release = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).release(rootId);\n    };\n    InMemoryCache.prototype.identify = function (object) {\n        if (isReference(object))\n            return object.__ref;\n        try {\n            return this.policies.identify(object)[0];\n        }\n        catch (e) {\n            __DEV__ && invariant.warn(e);\n        }\n    };\n    InMemoryCache.prototype.evict = function (options) {\n        if (!options.id) {\n            if (hasOwn.call(options, \"id\")) {\n                return false;\n            }\n            options = __assign(__assign({}, options), { id: \"ROOT_QUERY\" });\n        }\n        try {\n            ++this.txCount;\n            return this.optimisticData.evict(options, this.data);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.reset = function (options) {\n        var _this = this;\n        this.init();\n        canonicalStringify.reset();\n        if (options && options.discardWatches) {\n            this.watches.forEach(function (watch) { return _this.maybeBroadcastWatch.forget(watch); });\n            this.watches.clear();\n            forgetCache(this);\n        }\n        else {\n            this.broadcastWatches();\n        }\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var newOptimisticData = this.optimisticData.removeLayer(idToRemove);\n        if (newOptimisticData !== this.optimisticData) {\n            this.optimisticData = newOptimisticData;\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.batch = function (options) {\n        var _this = this;\n        var update = options.update, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, removeOptimistic = options.removeOptimistic, onWatchUpdated = options.onWatchUpdated;\n        var updateResult;\n        var perform = function (layer) {\n            var _a = _this, data = _a.data, optimisticData = _a.optimisticData;\n            ++_this.txCount;\n            if (layer) {\n                _this.data = _this.optimisticData = layer;\n            }\n            try {\n                return updateResult = update(_this);\n            }\n            finally {\n                --_this.txCount;\n                _this.data = data;\n                _this.optimisticData = optimisticData;\n            }\n        };\n        var alreadyDirty = new Set();\n        if (onWatchUpdated && !this.txCount) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch) {\n                    alreadyDirty.add(watch);\n                    return false;\n                } }));\n        }\n        if (typeof optimistic === 'string') {\n            this.optimisticData = this.optimisticData.addLayer(optimistic, perform);\n        }\n        else if (optimistic === false) {\n            perform(this.data);\n        }\n        else {\n            perform();\n        }\n        if (typeof removeOptimistic === \"string\") {\n            this.optimisticData = this.optimisticData.removeLayer(removeOptimistic);\n        }\n        if (onWatchUpdated && alreadyDirty.size) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch, diff) {\n                    var result = onWatchUpdated.call(this, watch, diff);\n                    if (result !== false) {\n                        alreadyDirty.delete(watch);\n                    }\n                    return result;\n                } }));\n            if (alreadyDirty.size) {\n                alreadyDirty.forEach(function (watch) { return _this.maybeBroadcastWatch.dirty(watch); });\n            }\n        }\n        else {\n            this.broadcastWatches(options);\n        }\n        return updateResult;\n    };\n    InMemoryCache.prototype.performTransaction = function (update, optimisticId) {\n        return this.batch({\n            update: update,\n            optimistic: optimisticId || (optimisticId !== null),\n        });\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function (options) {\n        var _this = this;\n        if (!this.txCount) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c, options); });\n        }\n    };\n    InMemoryCache.prototype.broadcastWatch = function (c, options) {\n        var lastDiff = c.lastDiff;\n        var diff = this.diff(c);\n        if (options) {\n            if (c.optimistic &&\n                typeof options.optimistic === \"string\") {\n                diff.fromOptimisticTransaction = true;\n            }\n            if (options.onWatchUpdated &&\n                options.onWatchUpdated.call(this, c, diff, lastDiff) === false) {\n                return;\n            }\n        }\n        if (!lastDiff || !equal(lastDiff.result, diff.result)) {\n            c.callback(c.lastDiff = diff, lastDiff);\n        }\n    };\n    return InMemoryCache;\n}(ApolloCache));\nexport { InMemoryCache };\n//# sourceMappingURL=inMemoryCache.js.map","import { __assign } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (__DEV__) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (__DEV__) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n//# sourceMappingURL=object-canon.js.map","import { dep } from \"optimism\";\nimport { Slot } from \"@wry/context\";\nexport var cacheSlot = new Slot();\nvar cacheInfoMap = new WeakMap();\nfunction getCacheInfo(cache) {\n    var info = cacheInfoMap.get(cache);\n    if (!info) {\n        cacheInfoMap.set(cache, info = {\n            vars: new Set,\n            dep: dep(),\n        });\n    }\n    return info;\n}\nexport function forgetCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\n}\nexport function recallCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\n}\nexport function makeVar(value) {\n    var caches = new Set();\n    var listeners = new Set();\n    var rv = function (newValue) {\n        if (arguments.length > 0) {\n            if (value !== newValue) {\n                value = newValue;\n                caches.forEach(function (cache) {\n                    getCacheInfo(cache).dep.dirty(rv);\n                    broadcast(cache);\n                });\n                var oldListeners = Array.from(listeners);\n                listeners.clear();\n                oldListeners.forEach(function (listener) { return listener(value); });\n            }\n        }\n        else {\n            var cache = cacheSlot.getValue();\n            if (cache) {\n                attach(cache);\n                getCacheInfo(cache).dep(rv);\n            }\n        }\n        return value;\n    };\n    rv.onNextChange = function (listener) {\n        listeners.add(listener);\n        return function () {\n            listeners.delete(listener);\n        };\n    };\n    var attach = rv.attachCache = function (cache) {\n        caches.add(cache);\n        getCacheInfo(cache).vars.add(rv);\n        return rv;\n    };\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\n    return rv;\n}\nfunction broadcast(cache) {\n    if (cache.broadcastWatches) {\n        cache.broadcastWatches();\n    }\n}\n//# sourceMappingURL=reactiveVars.js.map","function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.unsubscribe = function unsubscribe() {\n    if (this._state !== 'closed') {\n      closeSubscription(this);\n      cleanupSubscription(this);\n    }\n  };\n\n  _createClass(Subscription, [{\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    this._subscription = subscription;\n  }\n\n  var _proto2 = SubscriptionObserver.prototype;\n\n  _proto2.next = function next(value) {\n    onNotify(this._subscription, 'next', value);\n  };\n\n  _proto2.error = function error(value) {\n    onNotify(this._subscription, 'error', value);\n  };\n\n  _proto2.complete = function complete() {\n    onNotify(this._subscription, 'complete');\n  };\n\n  _createClass(SubscriptionObserver, [{\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  var _proto3 = Observable.prototype;\n\n  _proto3.subscribe = function subscribe(observer) {\n    if (typeof observer !== 'object' || observer === null) {\n      observer = {\n        next: observer,\n        error: arguments[1],\n        complete: arguments[2]\n      };\n    }\n\n    return new Subscription(observer, this._subscriber);\n  };\n\n  _proto3.forEach = function forEach(fn) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (typeof fn !== 'function') {\n        reject(new TypeError(fn + ' is not a function'));\n        return;\n      }\n\n      function done() {\n        subscription.unsubscribe();\n        resolve();\n      }\n\n      var subscription = _this.subscribe({\n        next: function (value) {\n          try {\n            fn(value, done);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n\n  _proto3.map = function map(fn) {\n    var _this2 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this2.subscribe({\n        next: function (value) {\n          try {\n            value = fn(value);\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.filter = function filter(fn) {\n    var _this3 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this3.subscribe({\n        next: function (value) {\n          try {\n            if (!fn(value)) return;\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.reduce = function reduce(fn) {\n    var _this4 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    var hasSeed = arguments.length > 1;\n    var hasValue = false;\n    var seed = arguments[1];\n    var acc = seed;\n    return new C(function (observer) {\n      return _this4.subscribe({\n        next: function (value) {\n          var first = !hasValue;\n          hasValue = true;\n\n          if (!first || hasSeed) {\n            try {\n              acc = fn(acc, value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          } else {\n            acc = value;\n          }\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n          observer.next(acc);\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.concat = function concat() {\n    var _this5 = this;\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscription;\n      var index = 0;\n\n      function startNext(next) {\n        subscription = next.subscribe({\n          next: function (v) {\n            observer.next(v);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (index === sources.length) {\n              subscription = undefined;\n              observer.complete();\n            } else {\n              startNext(C.from(sources[index++]));\n            }\n          }\n        });\n      }\n\n      startNext(_this5);\n      return function () {\n        if (subscription) {\n          subscription.unsubscribe();\n          subscription = undefined;\n        }\n      };\n    });\n  };\n\n  _proto3.flatMap = function flatMap(fn) {\n    var _this6 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscriptions = [];\n\n      var outer = _this6.subscribe({\n        next: function (value) {\n          if (fn) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          }\n\n          var inner = C.from(value).subscribe({\n            next: function (value) {\n              observer.next(value);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              var i = subscriptions.indexOf(inner);\n              if (i >= 0) subscriptions.splice(i, 1);\n              completeIfDone();\n            }\n          });\n          subscriptions.push(inner);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          completeIfDone();\n        }\n      });\n\n      function completeIfDone() {\n        if (outer.closed && subscriptions.length === 0) observer.complete();\n      }\n\n      return function () {\n        subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n        outer.unsubscribe();\n      };\n    });\n  };\n\n  _proto3[SymbolObservable] = function () {\n    return this;\n  };\n\n  Observable.from = function from(x) {\n    var C = typeof this === 'function' ? this : Observable;\n    if (x == null) throw new TypeError(x + ' is not an object');\n    var method = getMethod(x, SymbolObservable);\n\n    if (method) {\n      var observable = method.call(x);\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n      if (isObservable(observable) && observable.constructor === C) return observable;\n      return new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n\n    if (hasSymbol('iterator')) {\n      method = getMethod(x, SymbolIterator);\n\n      if (method) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\n              var item = _step.value;\n              observer.next(item);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n    }\n\n    if (Array.isArray(x)) {\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < x.length; ++i) {\n            observer.next(x[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n\n    throw new TypeError(x + ' is not observable');\n  };\n\n  Observable.of = function of() {\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n\n    var C = typeof this === 'function' ? this : Observable;\n    return new C(function (observer) {\n      enqueue(function () {\n        if (observer.closed) return;\n\n        for (var i = 0; i < items.length; ++i) {\n          observer.next(items[i]);\n          if (observer.closed) return;\n        }\n\n        observer.complete();\n      });\n    });\n  };\n\n  _createClass(Observable, null, [{\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}\n\nexport { Observable };\n","import { __extends } from \"tslib\";\nimport { InvariantError, invariant } from \"../../utilities/globals/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            return new ApolloLink(function (operation) {\n                return test(operation)\n                    ? leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return test(operation)\n                    ? leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        if (isTerminating(nextLink)) {\n            return new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(19);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            return false;\n        }\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map","import { __assign } from \"tslib\";\nexport function createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign(__assign({}, context), next(context));\n        }\n        else {\n            context = __assign(__assign({}, context), next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    return operation;\n}\n//# sourceMappingURL=createOperation.js.map","import { getOperationName } from \"../../utilities/index.js\";\nexport function transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query) || undefined\n                : '';\n    }\n    return transformedOperation;\n}\n//# sourceMappingURL=transformOperation.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport function validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw __DEV__ ? new InvariantError(\"illegal argument: \".concat(key)) : new InvariantError(24);\n        }\n    }\n    return operation;\n}\n//# sourceMappingURL=validateOperation.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var execute = ApolloLink.execute;\n//# sourceMappingURL=execute.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \".concat(label, \" is not serializable: \").concat(e.message)) : new InvariantError(21);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\n//# sourceMappingURL=serializeFetchParameter.js.map","export var throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\n//# sourceMappingURL=throwServerError.js.map","import { throwServerError } from \"../utils/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) { return response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.name = 'ServerParseError';\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            throw parseError;\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \".concat(response.status));\n        }\n        if (!Array.isArray(result) &&\n            !hasOwnProperty.call(result, 'data') &&\n            !hasOwnProperty.call(result, 'errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\".concat(Array.isArray(operations)\n                ? operations.map(function (op) { return op.operationName; })\n                : operations.operationName, \"'.\"));\n        }\n        return result;\n    }); };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(20);\n    }\n};\n//# sourceMappingURL=checkFetcher.js.map","/**\n * Prints a string as a GraphQL StringValue literal. Replaces control characters\n * and excluded characters (\" U+0022 and \\\\ U+005C) with escape sequences.\n */\nexport function printString(str) {\n  return `\"${str.replace(escapedRegExp, escapedReplacer)}\"`;\n} // eslint-disable-next-line no-control-regex\n\nconst escapedRegExp = /[\\x00-\\x1f\\x22\\x5c\\x7f-\\x9f]/g;\n\nfunction escapedReplacer(str) {\n  return escapeSequences[str.charCodeAt(0)];\n} // prettier-ignore\n\nconst escapeSequences = [\n  '\\\\u0000',\n  '\\\\u0001',\n  '\\\\u0002',\n  '\\\\u0003',\n  '\\\\u0004',\n  '\\\\u0005',\n  '\\\\u0006',\n  '\\\\u0007',\n  '\\\\b',\n  '\\\\t',\n  '\\\\n',\n  '\\\\u000B',\n  '\\\\f',\n  '\\\\r',\n  '\\\\u000E',\n  '\\\\u000F',\n  '\\\\u0010',\n  '\\\\u0011',\n  '\\\\u0012',\n  '\\\\u0013',\n  '\\\\u0014',\n  '\\\\u0015',\n  '\\\\u0016',\n  '\\\\u0017',\n  '\\\\u0018',\n  '\\\\u0019',\n  '\\\\u001A',\n  '\\\\u001B',\n  '\\\\u001C',\n  '\\\\u001D',\n  '\\\\u001E',\n  '\\\\u001F',\n  '',\n  '',\n  '\\\\\"',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 2F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 3F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 4F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\\\\\',\n  '',\n  '',\n  '', // 5F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 6F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\u007F',\n  '\\\\u0080',\n  '\\\\u0081',\n  '\\\\u0082',\n  '\\\\u0083',\n  '\\\\u0084',\n  '\\\\u0085',\n  '\\\\u0086',\n  '\\\\u0087',\n  '\\\\u0088',\n  '\\\\u0089',\n  '\\\\u008A',\n  '\\\\u008B',\n  '\\\\u008C',\n  '\\\\u008D',\n  '\\\\u008E',\n  '\\\\u008F',\n  '\\\\u0090',\n  '\\\\u0091',\n  '\\\\u0092',\n  '\\\\u0093',\n  '\\\\u0094',\n  '\\\\u0095',\n  '\\\\u0096',\n  '\\\\u0097',\n  '\\\\u0098',\n  '\\\\u0099',\n  '\\\\u009A',\n  '\\\\u009B',\n  '\\\\u009C',\n  '\\\\u009D',\n  '\\\\u009E',\n  '\\\\u009F',\n];\n","import { printBlockString } from './blockString.mjs';\nimport { printString } from './printString.mjs';\nimport { visit } from './visitor.mjs';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, printDocASTReducer);\n}\nconst MAX_LINE_LENGTH = 80;\nconst printDocASTReducer = {\n  Name: {\n    leave: (node) => node.value,\n  },\n  Variable: {\n    leave: (node) => '$' + node.name,\n  },\n  // Document\n  Document: {\n    leave: (node) => join(node.definitions, '\\n\\n'),\n  },\n  OperationDefinition: {\n    leave(node) {\n      const varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n      const prefix = join(\n        [\n          node.operation,\n          join([node.name, varDefs]),\n          join(node.directives, ' '),\n        ],\n        ' ',\n      ); // Anonymous queries with no directives or variable definitions can use\n      // the query short form.\n\n      return (prefix === 'query' ? '' : prefix + ' ') + node.selectionSet;\n    },\n  },\n  VariableDefinition: {\n    leave: ({ variable, type, defaultValue, directives }) =>\n      variable +\n      ': ' +\n      type +\n      wrap(' = ', defaultValue) +\n      wrap(' ', join(directives, ' ')),\n  },\n  SelectionSet: {\n    leave: ({ selections }) => block(selections),\n  },\n  Field: {\n    leave({ alias, name, arguments: args, directives, selectionSet }) {\n      const prefix = wrap('', alias, ': ') + name;\n      let argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n      if (argsLine.length > MAX_LINE_LENGTH) {\n        argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n      }\n\n      return join([argsLine, join(directives, ' '), selectionSet], ' ');\n    },\n  },\n  Argument: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Fragments\n  FragmentSpread: {\n    leave: ({ name, directives }) =>\n      '...' + name + wrap(' ', join(directives, ' ')),\n  },\n  InlineFragment: {\n    leave: ({ typeCondition, directives, selectionSet }) =>\n      join(\n        [\n          '...',\n          wrap('on ', typeCondition),\n          join(directives, ' '),\n          selectionSet,\n        ],\n        ' ',\n      ),\n  },\n  FragmentDefinition: {\n    leave: (\n      { name, typeCondition, variableDefinitions, directives, selectionSet }, // Note: fragment variable definitions are experimental and may be changed\n    ) =>\n      // or removed in the future.\n      `fragment ${name}${wrap('(', join(variableDefinitions, ', '), ')')} ` +\n      `on ${typeCondition} ${wrap('', join(directives, ' '), ' ')}` +\n      selectionSet,\n  },\n  // Value\n  IntValue: {\n    leave: ({ value }) => value,\n  },\n  FloatValue: {\n    leave: ({ value }) => value,\n  },\n  StringValue: {\n    leave: ({ value, block: isBlockString }) =>\n      isBlockString ? printBlockString(value) : printString(value),\n  },\n  BooleanValue: {\n    leave: ({ value }) => (value ? 'true' : 'false'),\n  },\n  NullValue: {\n    leave: () => 'null',\n  },\n  EnumValue: {\n    leave: ({ value }) => value,\n  },\n  ListValue: {\n    leave: ({ values }) => '[' + join(values, ', ') + ']',\n  },\n  ObjectValue: {\n    leave: ({ fields }) => '{' + join(fields, ', ') + '}',\n  },\n  ObjectField: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Directive\n  Directive: {\n    leave: ({ name, arguments: args }) =>\n      '@' + name + wrap('(', join(args, ', '), ')'),\n  },\n  // Type\n  NamedType: {\n    leave: ({ name }) => name,\n  },\n  ListType: {\n    leave: ({ type }) => '[' + type + ']',\n  },\n  NonNullType: {\n    leave: ({ type }) => type + '!',\n  },\n  // Type System Definitions\n  SchemaDefinition: {\n    leave: ({ description, directives, operationTypes }) =>\n      wrap('', description, '\\n') +\n      join(['schema', join(directives, ' '), block(operationTypes)], ' '),\n  },\n  OperationTypeDefinition: {\n    leave: ({ operation, type }) => operation + ': ' + type,\n  },\n  ScalarTypeDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') +\n      join(['scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  FieldDefinition: {\n    leave: ({ description, name, arguments: args, type, directives }) =>\n      wrap('', description, '\\n') +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      ': ' +\n      type +\n      wrap(' ', join(directives, ' ')),\n  },\n  InputValueDefinition: {\n    leave: ({ description, name, type, defaultValue, directives }) =>\n      wrap('', description, '\\n') +\n      join(\n        [name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')],\n        ' ',\n      ),\n  },\n  InterfaceTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeDefinition: {\n    leave: ({ description, name, directives, types }) =>\n      wrap('', description, '\\n') +\n      join(\n        ['union', name, join(directives, ' '), wrap('= ', join(types, ' | '))],\n        ' ',\n      ),\n  },\n  EnumTypeDefinition: {\n    leave: ({ description, name, directives, values }) =>\n      wrap('', description, '\\n') +\n      join(['enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  EnumValueDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') + join([name, join(directives, ' ')], ' '),\n  },\n  InputObjectTypeDefinition: {\n    leave: ({ description, name, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(['input', name, join(directives, ' '), block(fields)], ' '),\n  },\n  DirectiveDefinition: {\n    leave: ({ description, name, arguments: args, repeatable, locations }) =>\n      wrap('', description, '\\n') +\n      'directive @' +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      (repeatable ? ' repeatable' : '') +\n      ' on ' +\n      join(locations, ' | '),\n  },\n  SchemaExtension: {\n    leave: ({ directives, operationTypes }) =>\n      join(\n        ['extend schema', join(directives, ' '), block(operationTypes)],\n        ' ',\n      ),\n  },\n  ScalarTypeExtension: {\n    leave: ({ name, directives }) =>\n      join(['extend scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  InterfaceTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeExtension: {\n    leave: ({ name, directives, types }) =>\n      join(\n        [\n          'extend union',\n          name,\n          join(directives, ' '),\n          wrap('= ', join(types, ' | ')),\n        ],\n        ' ',\n      ),\n  },\n  EnumTypeExtension: {\n    leave: ({ name, directives, values }) =>\n      join(['extend enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  InputObjectTypeExtension: {\n    leave: ({ name, directives, fields }) =>\n      join(['extend input', name, join(directives, ' '), block(fields)], ' '),\n  },\n};\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\nfunction join(maybeArray, separator = '') {\n  var _maybeArray$filter$jo;\n\n  return (_maybeArray$filter$jo =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.filter((x) => x).join(separator)) !== null &&\n    _maybeArray$filter$jo !== void 0\n    ? _maybeArray$filter$jo\n    : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an indented `{ }` block.\n */\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\nfunction wrap(start, maybeString, end = '') {\n  return maybeString != null && maybeString !== ''\n    ? start + maybeString + end\n    : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction hasMultilineItems(maybeArray) {\n  var _maybeArray$some;\n\n  // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  /* c8 ignore next */\n  return (_maybeArray$some =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.some((str) => str.includes('\\n'))) !== null &&\n    _maybeArray$some !== void 0\n    ? _maybeArray$some\n    : false;\n}\n","import { __assign, __spreadArray } from \"tslib\";\nimport { print } from 'graphql';\n;\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nexport var fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nexport var defaultPrinter = function (ast, printer) { return printer(ast); };\nexport function selectHttpOptionsAndBody(operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    configs.unshift(fallbackConfig);\n    return selectHttpOptionsAndBodyInternal.apply(void 0, __spreadArray([operation,\n        defaultPrinter], configs, false));\n}\nexport function selectHttpOptionsAndBodyInternal(operation, printer) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = {};\n    var http = {};\n    configs.forEach(function (config) {\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), headersToLowerCase(config.headers)) });\n        if (config.credentials) {\n            options.credentials = config.credentials;\n        }\n        http = __assign(__assign({}, http), config.http);\n    });\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = printer(query, print);\n    return {\n        options: options,\n        body: body,\n    };\n}\n;\nfunction headersToLowerCase(headers) {\n    if (headers) {\n        var normalized_1 = Object.create(null);\n        Object.keys(Object(headers)).forEach(function (name) {\n            normalized_1[name.toLowerCase()] = headers[name];\n        });\n        return normalized_1;\n    }\n    return headers;\n}\n//# sourceMappingURL=selectHttpOptionsAndBody.js.map","import { Observable } from \"../../utilities/index.js\";\nexport function fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\n//# sourceMappingURL=fromError.js.map","import { __assign, __rest } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { visit } from 'graphql';\nimport { ApolloLink } from \"../core/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nimport { selectURI } from \"./selectURI.js\";\nimport { parseAndCheckHttpResponse } from \"./parseAndCheckHttpResponse.js\";\nimport { checkFetcher } from \"./checkFetcher.js\";\nimport { selectHttpOptionsAndBodyInternal, defaultPrinter, fallbackHttpConfig } from \"./selectHttpOptionsAndBody.js\";\nimport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\nimport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\nimport { fromError } from \"../utils/index.js\";\nimport { maybe } from \"../../utilities/index.js\";\nvar backupFetch = maybe(function () { return fetch; });\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, _b = linkOptions.print, print = _b === void 0 ? defaultPrinter : _b, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, _c = linkOptions.includeUnusedVariables, includeUnusedVariables = _c === void 0 ? false : _c, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"print\", \"includeExtensions\", \"useGETForQueries\", \"includeUnusedVariables\"]);\n    if (__DEV__) {\n        checkFetcher(preferredFetch || backupFetch);\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBodyInternal(operation, print, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        if (body.variables && !includeUnusedVariables) {\n            var unusedNames_1 = new Set(Object.keys(body.variables));\n            visit(operation.query, {\n                Variable: function (node, _key, parent) {\n                    if (parent && parent.kind !== 'VariableDefinition') {\n                        unusedNames_1.delete(node.name.value);\n                    }\n                },\n            });\n            if (unusedNames_1.size) {\n                body.variables = __assign({}, body.variables);\n                unusedNames_1.forEach(function (name) {\n                    delete body.variables[name];\n                });\n            }\n        }\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\n            currentFetch(chosenURI, options)\n                .then(function (response) {\n                operation.setContext({ response: response });\n                return response;\n            })\n                .then(parseAndCheckHttpResponse(operation))\n                .then(function (result) {\n                observer.next(result);\n                observer.complete();\n                return result;\n            })\n                .catch(function (err) {\n                if (err.name === 'AbortError')\n                    return;\n                if (err.result && err.result.errors && err.result.data) {\n                    observer.next(err.result);\n                }\n                observer.error(err);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\n//# sourceMappingURL=createHttpLink.js.map","export var selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n//# sourceMappingURL=selectURI.js.map","export var createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\n//# sourceMappingURL=createSignalIfSupported.js.map","import { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nexport function rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(\"\".concat(key, \"=\").concat(encodeURIComponent(value)));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\n//# sourceMappingURL=rewriteURIForGET.js.map","import { __extends } from \"tslib\";\nimport { ApolloLink } from \"../core/index.js\";\nimport { createHttpLink } from \"./createHttpLink.js\";\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, createHttpLink(options).request) || this;\n        _this.options = options;\n        return _this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=HttpLink.js.map","import { Observable } from \"./Observable.js\";\nexport function asyncMap(observable, mapFn, catchFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeCallbackCount = 0;\n        var completed = false;\n        var promiseQueue = {\n            then: function (callback) {\n                return new Promise(function (resolve) { return resolve(callback()); });\n            },\n        };\n        function makeCallback(examiner, delegate) {\n            if (examiner) {\n                return function (arg) {\n                    ++activeCallbackCount;\n                    var both = function () { return examiner(arg); };\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\n                        --activeCallbackCount;\n                        next && next.call(observer, result);\n                        if (completed) {\n                            handler.complete();\n                        }\n                    }, function (error) {\n                        --activeCallbackCount;\n                        throw error;\n                    }).catch(function (caught) {\n                        error && error.call(observer, caught);\n                    });\n                };\n            }\n            else {\n                return function (arg) { return delegate && delegate.call(observer, arg); };\n            }\n        }\n        var handler = {\n            next: makeCallback(mapFn, next),\n            error: makeCallback(catchFn, error),\n            complete: function () {\n                completed = true;\n                if (!activeCallbackCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n//# sourceMappingURL=asyncMap.js.map","export function graphQLResultHasError(result) {\n    return (result.errors && result.errors.length > 0) || false;\n}\n//# sourceMappingURL=errorHandling.js.map","export function iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\n//# sourceMappingURL=iteration.js.map","import { Observable } from \"./Observable.js\";\nimport { canUseSymbol } from \"../common/canUse.js\";\nexport function fixObservableSubclass(subclass) {\n    function set(key) {\n        Object.defineProperty(subclass, key, { value: Observable });\n    }\n    if (canUseSymbol && Symbol.species) {\n        set(Symbol.species);\n    }\n    set(\"@@species\");\n    return subclass;\n}\n//# sourceMappingURL=subclassing.js.map","import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.addCount = 0;\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    var value = _this.sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n            ++this.addCount;\n        }\n    };\n    Concast.prototype.removeObserver = function (observer, quietly) {\n        if (this.observers.delete(observer) &&\n            --this.addCount < 1 &&\n            !quietly) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.cleanup = function (callback) {\n        var _this = this;\n        var called = false;\n        var once = function () {\n            if (!called) {\n                called = true;\n                _this.observers.delete(observer);\n                callback();\n            }\n        };\n        var observer = {\n            next: once,\n            error: once,\n            complete: once,\n        };\n        var count = this.addCount;\n        this.addObserver(observer);\n        this.addCount = count;\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n//# sourceMappingURL=Concast.js.map","import { __extends } from \"tslib\";\nimport \"../utilities/globals/index.js\";\nimport { isNonEmptyArray } from \"../utilities/index.js\";\nexport function isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (isNonEmptyArray(err.graphQLErrors) || isNonEmptyArray(err.clientErrors)) {\n        var errors = (err.graphQLErrors || [])\n            .concat(err.clientErrors || []);\n        errors.forEach(function (error) {\n            var errorMessage = error\n                ? error.message\n                : 'Error message not found.';\n            message += \"\".concat(errorMessage, \"\\n\");\n        });\n    }\n    if (err.networkError) {\n        message += \"\".concat(err.networkError.message, \"\\n\");\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, clientErrors = _a.clientErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.clientErrors = clientErrors || [];\n        _this.networkError = networkError || null;\n        _this.message = errorMessage || generateErrorMessage(_this);\n        _this.extraInfo = extraInfo;\n        _this.__proto__ = ApolloError.prototype;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\nexport { ApolloError };\n//# sourceMappingURL=index.js.map","export var NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nexport function isNetworkRequestInFlight(networkStatus) {\n    return networkStatus ? networkStatus < 7 : false;\n}\n//# sourceMappingURL=networkStatus.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { cloneDeep, compact, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from \"../utilities/index.js\";\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\n        var _this = _super.call(this, function (observer) {\n            try {\n                var subObserver = observer._subscription._observer;\n                if (subObserver && !subObserver.error) {\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\n                }\n            }\n            catch (_a) { }\n            var first = !_this.observers.size;\n            _this.observers.add(observer);\n            var last = _this.last;\n            if (last && last.error) {\n                observer.error && observer.error(last.error);\n            }\n            else if (last && last.result) {\n                observer.next && observer.next(last.result);\n            }\n            if (first) {\n                _this.reobserve().catch(function () { });\n            }\n            return function () {\n                if (_this.observers.delete(observer) && !_this.observers.size) {\n                    _this.tearDownQuery();\n                }\n            };\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.queryInfo = queryInfo;\n        _this.queryManager = queryManager;\n        _this.isTornDown = false;\n        var _b = queryManager.defaultOptions.watchQuery, _c = _b === void 0 ? {} : _b, _d = _c.fetchPolicy, defaultFetchPolicy = _d === void 0 ? \"cache-first\" : _d;\n        var _e = options.fetchPolicy, fetchPolicy = _e === void 0 ? defaultFetchPolicy : _e, _f = options.initialFetchPolicy, initialFetchPolicy = _f === void 0 ? (fetchPolicy === \"standby\" ? defaultFetchPolicy : fetchPolicy) : _f;\n        _this.options = __assign(__assign({}, options), { initialFetchPolicy: initialFetchPolicy, fetchPolicy: fetchPolicy });\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\n        var opDef = getOperationDefinition(_this.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        return _this;\n    }\n    Object.defineProperty(ObservableQuery.prototype, \"query\", {\n        get: function () {\n            return this.queryManager.transform(this.options.query).document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\n        get: function () {\n            return this.options.variables;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\n        var lastResult = this.getLastResult(true);\n        var networkStatus = this.queryInfo.networkStatus ||\n            (lastResult && lastResult.networkStatus) ||\n            NetworkStatus.ready;\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\n        if (fetchPolicy === 'network-only' ||\n            fetchPolicy === 'no-cache' ||\n            fetchPolicy === 'standby' ||\n            this.queryManager.transform(this.options.query).hasForcedResolvers) {\n        }\n        else {\n            var diff = this.queryInfo.getDiff();\n            if (diff.complete || this.options.returnPartialData) {\n                result.data = diff.result;\n            }\n            if (equal(result.data, {})) {\n                result.data = void 0;\n            }\n            if (diff.complete) {\n                delete result.partial;\n                if (diff.complete &&\n                    result.networkStatus === NetworkStatus.loading &&\n                    (fetchPolicy === 'cache-first' ||\n                        fetchPolicy === 'cache-only')) {\n                    result.networkStatus = NetworkStatus.ready;\n                    result.loading = false;\n                }\n            }\n            else {\n                result.partial = true;\n            }\n            if (__DEV__ &&\n                !diff.complete &&\n                !this.options.partialRefetch &&\n                !result.loading &&\n                !result.data &&\n                !result.error) {\n                logMissingFieldErrors(diff.missing);\n            }\n        }\n        if (saveAsLastResult) {\n            this.updateLastResult(result);\n        }\n        return result;\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\n        return !this.last || !equal(this.last.result, newResult);\n    };\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\n        var last = this.last;\n        if (last &&\n            last[key] &&\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\n            return last[key];\n        }\n    };\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\n        return this.getLast(\"result\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\n        return this.getLast(\"error\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.last;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        this.queryManager.resetErrors(this.queryId);\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var _a;\n        var reobserveOptions = {\n            pollInterval: 0,\n        };\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-and-network') {\n            reobserveOptions.fetchPolicy = fetchPolicy;\n        }\n        else if (fetchPolicy === 'no-cache') {\n            reobserveOptions.fetchPolicy = 'no-cache';\n        }\n        else {\n            reobserveOptions.fetchPolicy = 'network-only';\n        }\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\n            var queryDef = getQueryDefinition(this.query);\n            var vars = queryDef.variableDefinitions;\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\n                __DEV__ && invariant.warn(\"Called refetch(\".concat(JSON.stringify(variables), \") for query \").concat(((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef), \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\"));\n            }\n        }\n        if (variables && !equal(this.options.variables, variables)) {\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\n        }\n        this.queryInfo.resetLastWrite();\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign(__assign({}, this.options), { query: this.query }), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\n        var qid = this.queryManager.generateQueryId();\n        var queryInfo = this.queryInfo;\n        var originalNetworkStatus = queryInfo.networkStatus;\n        queryInfo.networkStatus = NetworkStatus.fetchMore;\n        if (combinedOptions.notifyOnNetworkStatusChange) {\n            this.observe();\n        }\n        var updatedQuerySet = new Set();\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\n            _this.queryManager.removeQuery(qid);\n            if (queryInfo.networkStatus === NetworkStatus.fetchMore) {\n                queryInfo.networkStatus = originalNetworkStatus;\n            }\n            _this.queryManager.cache.batch({\n                update: function (cache) {\n                    var updateQuery = fetchMoreOptions.updateQuery;\n                    if (updateQuery) {\n                        cache.updateQuery({\n                            query: _this.query,\n                            variables: _this.variables,\n                            returnPartialData: true,\n                            optimistic: false,\n                        }, function (previous) { return updateQuery(previous, {\n                            fetchMoreResult: fetchMoreResult.data,\n                            variables: combinedOptions.variables,\n                        }); });\n                    }\n                    else {\n                        cache.writeQuery({\n                            query: combinedOptions.query,\n                            variables: combinedOptions.variables,\n                            data: fetchMoreResult.data,\n                        });\n                    }\n                },\n                onWatchUpdated: function (watch) {\n                    updatedQuerySet.add(watch.query);\n                },\n            });\n            return fetchMoreResult;\n        }).finally(function () {\n            if (!updatedQuerySet.has(_this.query)) {\n                reobserveCacheFirst(_this);\n            }\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n            context: options.context,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (newOptions) {\n        return this.reobserve(newOptions);\n    };\n    ObservableQuery.prototype.setVariables = function (variables) {\n        if (equal(this.variables, variables)) {\n            return this.observers.size\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.reobserve({\n            fetchPolicy: this.options.initialFetchPolicy,\n            variables: variables,\n        }, NetworkStatus.setVariables);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var result = queryManager.cache.diff({\n            query: this.options.query,\n            variables: this.variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n        var newResult = mapFn(result, {\n            variables: this.variables,\n        });\n        if (newResult) {\n            queryManager.cache.writeQuery({\n                query: this.options.query,\n                data: newResult,\n                variables: this.variables,\n            });\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        this.options.pollInterval = pollInterval;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.options.pollInterval = 0;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.applyNextFetchPolicy = function (reason, options) {\n        if (options.nextFetchPolicy) {\n            var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.initialFetchPolicy, initialFetchPolicy = _b === void 0 ? fetchPolicy : _b;\n            if (fetchPolicy === \"standby\") {\n            }\n            else if (typeof options.nextFetchPolicy === \"function\") {\n                options.fetchPolicy = options.nextFetchPolicy(fetchPolicy, {\n                    reason: reason,\n                    options: options,\n                    observable: this,\n                    initialFetchPolicy: initialFetchPolicy,\n                });\n            }\n            else if (reason === \"variables-changed\") {\n                options.fetchPolicy = initialFetchPolicy;\n            }\n            else {\n                options.fetchPolicy = options.nextFetchPolicy;\n            }\n        }\n        return options.fetchPolicy;\n    };\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\n        this.queryManager.setObservableQuery(this);\n        return this.queryManager.fetchQueryObservable(this.queryId, options, newNetworkStatus);\n    };\n    ObservableQuery.prototype.updatePolling = function () {\n        var _this = this;\n        if (this.queryManager.ssrMode) {\n            return;\n        }\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\n        if (!pollInterval) {\n            if (pollingInfo) {\n                clearTimeout(pollingInfo.timeout);\n                delete this.pollingInfo;\n            }\n            return;\n        }\n        if (pollingInfo &&\n            pollingInfo.interval === pollInterval) {\n            return;\n        }\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 10);\n        var info = pollingInfo || (this.pollingInfo = {});\n        info.interval = pollInterval;\n        var maybeFetch = function () {\n            if (_this.pollingInfo) {\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\n                    _this.reobserve({\n                        fetchPolicy: \"network-only\",\n                    }, NetworkStatus.poll).then(poll, poll);\n                }\n                else {\n                    poll();\n                }\n            }\n            ;\n        };\n        var poll = function () {\n            var info = _this.pollingInfo;\n            if (info) {\n                clearTimeout(info.timeout);\n                info.timeout = setTimeout(maybeFetch, info.interval);\n            }\n        };\n        poll();\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\n        if (variables === void 0) { variables = this.variables; }\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\n                ? newResult\n                : cloneDeep(newResult), variables: variables });\n        if (!isNonEmptyArray(newResult.errors)) {\n            delete this.last.error;\n        }\n        return this.last;\n    };\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\n        var _this = this;\n        this.isTornDown = false;\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\n            newNetworkStatus === NetworkStatus.fetchMore ||\n            newNetworkStatus === NetworkStatus.poll;\n        var oldVariables = this.options.variables;\n        var oldFetchPolicy = this.options.fetchPolicy;\n        var mergedOptions = compact(this.options, newOptions || {});\n        var options = useDisposableConcast\n            ? mergedOptions\n            : assign(this.options, mergedOptions);\n        if (!useDisposableConcast) {\n            this.updatePolling();\n            if (newOptions &&\n                newOptions.variables &&\n                !equal(newOptions.variables, oldVariables) &&\n                options.fetchPolicy !== \"standby\" &&\n                options.fetchPolicy === oldFetchPolicy) {\n                this.applyNextFetchPolicy(\"variables-changed\", options);\n                if (newNetworkStatus === void 0) {\n                    newNetworkStatus = NetworkStatus.setVariables;\n                }\n            }\n        }\n        var variables = options.variables && __assign({}, options.variables);\n        var concast = this.fetch(options, newNetworkStatus);\n        var observer = {\n            next: function (result) {\n                _this.reportResult(result, variables);\n            },\n            error: function (error) {\n                _this.reportError(error, variables);\n            },\n        };\n        if (!useDisposableConcast) {\n            if (this.concast && this.observer) {\n                this.concast.removeObserver(this.observer);\n            }\n            this.concast = concast;\n            this.observer = observer;\n        }\n        concast.addObserver(observer);\n        return concast.promise;\n    };\n    ObservableQuery.prototype.observe = function () {\n        this.reportResult(this.getCurrentResult(false), this.variables);\n    };\n    ObservableQuery.prototype.reportResult = function (result, variables) {\n        var lastError = this.getLastError();\n        if (lastError || this.isDifferentFromLastResult(result)) {\n            if (lastError || !result.partial || this.options.returnPartialData) {\n                this.updateLastResult(result, variables);\n            }\n            iterateObserversSafely(this.observers, 'next', result);\n        }\n    };\n    ObservableQuery.prototype.reportError = function (error, variables) {\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\n        this.updateLastResult(errorResult, variables);\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\n    };\n    ObservableQuery.prototype.hasObservers = function () {\n        return this.observers.size > 0;\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isTornDown)\n            return;\n        if (this.concast && this.observer) {\n            this.concast.removeObserver(this.observer);\n            delete this.concast;\n            delete this.observer;\n        }\n        this.stopPolling();\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        this.queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n        this.isTornDown = true;\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\nfixObservableSubclass(ObservableQuery);\nexport function reobserveCacheFirst(obsQuery) {\n    var _a = obsQuery.options, fetchPolicy = _a.fetchPolicy, nextFetchPolicy = _a.nextFetchPolicy;\n    if (fetchPolicy === \"cache-and-network\" ||\n        fetchPolicy === \"network-only\") {\n        return obsQuery.reobserve({\n            fetchPolicy: \"cache-first\",\n            nextFetchPolicy: function () {\n                this.nextFetchPolicy = nextFetchPolicy;\n                if (typeof nextFetchPolicy === \"function\") {\n                    return nextFetchPolicy.apply(this, arguments);\n                }\n                return fetchPolicy;\n            },\n        });\n    }\n    return obsQuery.reobserve();\n}\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\n}\nexport function logMissingFieldErrors(missing) {\n    if (__DEV__ && missing) {\n        __DEV__ && invariant.debug(\"Missing cache result fields: \".concat(JSON.stringify(missing)), missing);\n    }\n}\n//# sourceMappingURL=ObservableQuery.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { visit, BREAK, } from 'graphql';\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\nimport { cacheSlot } from \"../cache/index.js\";\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return removeClientSetsFromDocument(document);\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        var cache = this.cache;\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                return cache.identify(obj);\n            } });\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                definitionOperation = mainDefinition\n                    .operation;\n                defaultOperationType = definitionOperation\n                    ? definitionOperation.charAt(0).toUpperCase() +\n                        definitionOperation.slice(1)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value)) : invariant(fragment, 9);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\n                                rootValue,\n                                argumentsObjectFromField(field, variables),\n                                execContext.context,\n                                { field: field, fragmentMap: execContext.fragmentMap },\n                            ]));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\n            }\n        }));\n    };\n    return LocalState;\n}());\nexport { LocalState };\n//# sourceMappingURL=LocalState.js.map","import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { reobserveCacheFirst } from \"./ObservableQuery.js\";\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from \"../utilities/index.js\";\nimport { NetworkStatus, isNetworkRequestInFlight, } from \"./networkStatus.js\";\n;\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\nfunction wrapDestructiveCacheMethod(cache, methodName) {\n    var original = cache[methodName];\n    if (typeof original === \"function\") {\n        cache[methodName] = function () {\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\n            return original.apply(this, arguments);\n        };\n    }\n}\nfunction cancelNotifyTimeout(info) {\n    if (info[\"notifyTimeout\"]) {\n        clearTimeout(info[\"notifyTimeout\"]);\n        info[\"notifyTimeout\"] = void 0;\n    }\n}\nvar QueryInfo = (function () {\n    function QueryInfo(queryManager, queryId) {\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\n        this.queryId = queryId;\n        this.listeners = new Set();\n        this.document = null;\n        this.lastRequestId = 1;\n        this.subscriptions = new Set();\n        this.stopped = false;\n        this.dirty = false;\n        this.observableQuery = null;\n        var cache = this.cache = queryManager.cache;\n        if (!destructiveMethodCounts.has(cache)) {\n            destructiveMethodCounts.set(cache, 0);\n            wrapDestructiveCacheMethod(cache, \"evict\");\n            wrapDestructiveCacheMethod(cache, \"modify\");\n            wrapDestructiveCacheMethod(cache, \"reset\");\n        }\n    }\n    QueryInfo.prototype.init = function (query) {\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\n        if (this.variables &&\n            this.networkStatus !== NetworkStatus.loading &&\n            !equal(this.variables, query.variables)) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        if (!equal(query.variables, this.variables)) {\n            this.lastDiff = void 0;\n        }\n        Object.assign(this, {\n            document: query.document,\n            variables: query.variables,\n            networkError: null,\n            graphQLErrors: this.graphQLErrors || [],\n            networkStatus: networkStatus,\n        });\n        if (query.observableQuery) {\n            this.setObservableQuery(query.observableQuery);\n        }\n        if (query.lastRequestId) {\n            this.lastRequestId = query.lastRequestId;\n        }\n        return this;\n    };\n    QueryInfo.prototype.reset = function () {\n        cancelNotifyTimeout(this);\n        this.lastDiff = void 0;\n        this.dirty = false;\n    };\n    QueryInfo.prototype.getDiff = function (variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var options = this.getDiffOptions(variables);\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\n            return this.lastDiff.diff;\n        }\n        this.updateWatch(this.variables = variables);\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return { complete: false };\n        }\n        var diff = this.cache.diff(options);\n        this.updateLastDiff(diff, options);\n        return diff;\n    };\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\n        this.lastDiff = diff ? {\n            diff: diff,\n            options: options || this.getDiffOptions(),\n        } : void 0;\n    };\n    QueryInfo.prototype.getDiffOptions = function (variables) {\n        var _a;\n        if (variables === void 0) { variables = this.variables; }\n        return {\n            query: this.document,\n            variables: variables,\n            returnPartialData: true,\n            optimistic: true,\n            canonizeResults: (_a = this.observableQuery) === null || _a === void 0 ? void 0 : _a.options.canonizeResults,\n        };\n    };\n    QueryInfo.prototype.setDiff = function (diff) {\n        var _this = this;\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\n        this.updateLastDiff(diff);\n        if (!this.dirty &&\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\n            this.dirty = true;\n            if (!this.notifyTimeout) {\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\n            }\n        }\n    };\n    QueryInfo.prototype.setObservableQuery = function (oq) {\n        var _this = this;\n        if (oq === this.observableQuery)\n            return;\n        if (this.oqListener) {\n            this.listeners.delete(this.oqListener);\n        }\n        this.observableQuery = oq;\n        if (oq) {\n            oq[\"queryInfo\"] = this;\n            this.listeners.add(this.oqListener = function () {\n                var diff = _this.getDiff();\n                if (diff.fromOptimisticTransaction) {\n                    oq[\"observe\"]();\n                }\n                else {\n                    reobserveCacheFirst(oq);\n                }\n            });\n        }\n        else {\n            delete this.oqListener;\n        }\n    };\n    QueryInfo.prototype.notify = function () {\n        var _this = this;\n        cancelNotifyTimeout(this);\n        if (this.shouldNotify()) {\n            this.listeners.forEach(function (listener) { return listener(_this); });\n        }\n        this.dirty = false;\n    };\n    QueryInfo.prototype.shouldNotify = function () {\n        if (!this.dirty || !this.listeners.size) {\n            return false;\n        }\n        if (isNetworkRequestInFlight(this.networkStatus) &&\n            this.observableQuery) {\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== \"cache-only\" &&\n                fetchPolicy !== \"cache-and-network\") {\n                return false;\n            }\n        }\n        return true;\n    };\n    QueryInfo.prototype.stop = function () {\n        if (!this.stopped) {\n            this.stopped = true;\n            this.reset();\n            this.cancel();\n            this.cancel = QueryInfo.prototype.cancel;\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            var oq = this.observableQuery;\n            if (oq)\n                oq.stopPolling();\n        }\n    };\n    QueryInfo.prototype.cancel = function () { };\n    QueryInfo.prototype.updateWatch = function (variables) {\n        var _this = this;\n        if (variables === void 0) { variables = this.variables; }\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return;\n        }\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\n        if (!this.lastWatch ||\n            !equal(watchOptions, this.lastWatch)) {\n            this.cancel();\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\n        }\n    };\n    QueryInfo.prototype.resetLastWrite = function () {\n        this.lastWrite = void 0;\n    };\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\n        var lastWrite = this.lastWrite;\n        return !(lastWrite &&\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\n            equal(variables, lastWrite.variables) &&\n            equal(result.data, lastWrite.result.data));\n    };\n    QueryInfo.prototype.markResult = function (result, options, cacheWriteBehavior) {\n        var _this = this;\n        this.graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\n        this.reset();\n        if (options.fetchPolicy === 'no-cache') {\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\n        }\n        else if (cacheWriteBehavior !== 0) {\n            if (shouldWriteResult(result, options.errorPolicy)) {\n                this.cache.performTransaction(function (cache) {\n                    if (_this.shouldWrite(result, options.variables)) {\n                        cache.writeQuery({\n                            query: _this.document,\n                            data: result.data,\n                            variables: options.variables,\n                            overwrite: cacheWriteBehavior === 1,\n                        });\n                        _this.lastWrite = {\n                            result: result,\n                            variables: options.variables,\n                            dmCount: destructiveMethodCounts.get(_this.cache),\n                        };\n                    }\n                    else {\n                        if (_this.lastDiff &&\n                            _this.lastDiff.diff.complete) {\n                            result.data = _this.lastDiff.diff.result;\n                            return;\n                        }\n                    }\n                    var diffOptions = _this.getDiffOptions(options.variables);\n                    var diff = cache.diff(diffOptions);\n                    if (!_this.stopped) {\n                        _this.updateWatch(options.variables);\n                    }\n                    _this.updateLastDiff(diff, diffOptions);\n                    if (diff.complete) {\n                        result.data = diff.result;\n                    }\n                });\n            }\n            else {\n                this.lastWrite = void 0;\n            }\n        }\n    };\n    QueryInfo.prototype.markReady = function () {\n        this.networkError = null;\n        return this.networkStatus = NetworkStatus.ready;\n    };\n    QueryInfo.prototype.markError = function (error) {\n        this.networkStatus = NetworkStatus.error;\n        this.lastWrite = void 0;\n        this.reset();\n        if (error.graphQLErrors) {\n            this.graphQLErrors = error.graphQLErrors;\n        }\n        if (error.networkError) {\n            this.networkError = error.networkError;\n        }\n        return error;\n    };\n    return QueryInfo;\n}());\nexport { QueryInfo };\nexport function shouldWriteResult(result, errorPolicy) {\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\n    var ignoreErrors = errorPolicy === \"ignore\" ||\n        errorPolicy === \"all\";\n    var writeWithErrors = !graphQLResultHasError(result);\n    if (!writeWithErrors && ignoreErrors && result.data) {\n        writeWithErrors = true;\n    }\n    return writeWithErrors;\n}\n//# sourceMappingURL=QueryInfo.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { execute } from \"../link/core/index.js\";\nimport { canonicalStringify } from \"../cache/index.js\";\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from \"../utilities/index.js\";\nimport { ApolloError, isApolloError } from \"../errors/index.js\";\nimport { ObservableQuery, logMissingFieldErrors } from \"./ObservableQuery.js\";\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { LocalState } from \"./LocalState.js\";\nimport { QueryInfo, shouldWriteResult, } from \"./QueryInfo.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var cache = _a.cache, link = _a.link, defaultOptions = _a.defaultOptions, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.clientAwareness = {};\n        this.queries = new Map();\n        this.fetchCancelFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.queryIdCounter = 1;\n        this.requestIdCounter = 1;\n        this.mutationIdCounter = 1;\n        this.inFlightLinkObservables = new Map();\n        this.cache = cache;\n        this.link = link;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.queryDeduplication = queryDeduplication;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: cache });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n        if ((this.onBroadcast = onBroadcast)) {\n            this.mutationStore = Object.create(null);\n        }\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(11));\n    };\n    QueryManager.prototype.cancelPendingFetches = function (error) {\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\n        this.fetchCancelFns.clear();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _b, _c;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _d = _a.refetchQueries, refetchQueries = _d === void 0 ? [] : _d, _e = _a.awaitRefetchQueries, awaitRefetchQueries = _e === void 0 ? false : _e, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _f = _a.fetchPolicy, fetchPolicy = _f === void 0 ? ((_b = this.defaultOptions.mutate) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"network-only\" : _f, _g = _a.errorPolicy, errorPolicy = _g === void 0 ? ((_c = this.defaultOptions.mutate) === null || _c === void 0 ? void 0 : _c.errorPolicy) || \"none\" : _g, keepRootFields = _a.keepRootFields, context = _a.context;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, mutationStoreValue, self;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 12);\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', 13);\n                        mutationId = this.generateMutationId();\n                        mutation = this.transform(mutation).document;\n                        variables = this.getVariables(mutation, variables);\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = (_h.sent());\n                        _h.label = 2;\n                    case 2:\n                        mutationStoreValue = this.mutationStore &&\n                            (this.mutationStore[mutationId] = {\n                                mutation: mutation,\n                                variables: variables,\n                                loading: true,\n                                error: null,\n                            });\n                        if (optimisticResponse) {\n                            this.markMutationOptimistic(optimisticResponse, {\n                                mutationId: mutationId,\n                                document: mutation,\n                                variables: variables,\n                                fetchPolicy: fetchPolicy,\n                                errorPolicy: errorPolicy,\n                                context: context,\n                                updateQueries: updateQueries,\n                                update: updateWithProxyFn,\n                                keepRootFields: keepRootFields,\n                            });\n                        }\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                        throw new ApolloError({\n                                            graphQLErrors: result.errors,\n                                        });\n                                    }\n                                    if (mutationStoreValue) {\n                                        mutationStoreValue.loading = false;\n                                        mutationStoreValue.error = null;\n                                    }\n                                    var storeResult = __assign({}, result);\n                                    if (typeof refetchQueries === \"function\") {\n                                        refetchQueries = refetchQueries(storeResult);\n                                    }\n                                    if (errorPolicy === 'ignore' &&\n                                        graphQLResultHasError(storeResult)) {\n                                        delete storeResult.errors;\n                                    }\n                                    return self.markMutationResult({\n                                        mutationId: mutationId,\n                                        result: storeResult,\n                                        document: mutation,\n                                        variables: variables,\n                                        fetchPolicy: fetchPolicy,\n                                        errorPolicy: errorPolicy,\n                                        context: context,\n                                        update: updateWithProxyFn,\n                                        updateQueries: updateQueries,\n                                        awaitRefetchQueries: awaitRefetchQueries,\n                                        refetchQueries: refetchQueries,\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\n                                        onQueryUpdated: onQueryUpdated,\n                                        keepRootFields: keepRootFields,\n                                    });\n                                }).subscribe({\n                                    next: function (storeResult) {\n                                        self.broadcastQueries();\n                                        resolve(storeResult);\n                                    },\n                                    error: function (err) {\n                                        if (mutationStoreValue) {\n                                            mutationStoreValue.loading = false;\n                                            mutationStoreValue.error = err;\n                                        }\n                                        if (optimisticResponse) {\n                                            self.cache.removeOptimistic(mutationId);\n                                        }\n                                        self.broadcastQueries();\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\n        var _this = this;\n        if (cache === void 0) { cache = this.cache; }\n        var result = mutation.result;\n        var cacheWrites = [];\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\n            cacheWrites.push({\n                result: result.data,\n                dataId: 'ROOT_MUTATION',\n                query: mutation.document,\n                variables: mutation.variables,\n            });\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                this.queries.forEach(function (_a, queryId) {\n                    var observableQuery = _a.observableQuery;\n                    var queryName = observableQuery && observableQuery.queryName;\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\n                        return;\n                    }\n                    var updater = updateQueries_1[queryName];\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\n                    var _c = cache.diff({\n                        query: document,\n                        variables: variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _c.result, complete = _c.complete;\n                    if (complete && currentQueryResult) {\n                        var nextQueryResult = updater(currentQueryResult, {\n                            mutationResult: result,\n                            queryName: document && getOperationName(document) || void 0,\n                            queryVariables: variables,\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: document,\n                                variables: variables,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n        if (cacheWrites.length > 0 ||\n            mutation.refetchQueries ||\n            mutation.update ||\n            mutation.onQueryUpdated ||\n            mutation.removeOptimistic) {\n            var results_1 = [];\n            this.refetchQueries({\n                updateCache: function (cache) {\n                    if (!skipCache) {\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\n                    }\n                    var update = mutation.update;\n                    if (update) {\n                        if (!skipCache) {\n                            var diff = cache.diff({\n                                id: \"ROOT_MUTATION\",\n                                query: _this.transform(mutation.document).asQuery,\n                                variables: mutation.variables,\n                                optimistic: false,\n                                returnPartialData: true,\n                            });\n                            if (diff.complete) {\n                                result = __assign(__assign({}, result), { data: diff.result });\n                            }\n                        }\n                        update(cache, result, {\n                            context: mutation.context,\n                            variables: mutation.variables,\n                        });\n                    }\n                    if (!skipCache && !mutation.keepRootFields) {\n                        cache.modify({\n                            id: 'ROOT_MUTATION',\n                            fields: function (value, _a) {\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\n                                return fieldName === \"__typename\" ? value : DELETE;\n                            },\n                        });\n                    }\n                },\n                include: mutation.refetchQueries,\n                optimistic: false,\n                removeOptimistic: mutation.removeOptimistic,\n                onQueryUpdated: mutation.onQueryUpdated || null,\n            }).forEach(function (result) { return results_1.push(result); });\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\n                return Promise.all(results_1).then(function () { return result; });\n            }\n        }\n        return Promise.resolve(result);\n    };\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\n        var _this = this;\n        var data = typeof optimisticResponse === \"function\"\n            ? optimisticResponse(mutation.variables)\n            : optimisticResponse;\n        return this.cache.recordOptimisticTransaction(function (cache) {\n            try {\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\n            }\n            catch (error) {\n                __DEV__ && invariant.error(error);\n            }\n        }, mutation.mutationId);\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\n    };\n    QueryManager.prototype.getQueryStore = function () {\n        var store = Object.create(null);\n        this.queries.forEach(function (info, queryId) {\n            store[queryId] = {\n                variables: info.variables,\n                networkStatus: info.networkStatus,\n                networkError: info.networkError,\n                graphQLErrors: info.graphQLErrors,\n            };\n        });\n        return store;\n    };\n    QueryManager.prototype.resetErrors = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo) {\n            queryInfo.networkError = undefined;\n            queryInfo.graphQLErrors = [];\n        }\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var transformed = this.cache.transformDocument(document);\n            var forLink = removeConnectionDirectiveFromDocument(this.cache.transformForLink(transformed));\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = forLink && this.localState.serverQuery(forLink);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\n                        if (def.kind === \"OperationDefinition\" &&\n                            def.operation !== \"query\") {\n                            return __assign(__assign({}, def), { operation: \"query\" });\n                        }\n                        return def;\n                    }) })\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options) {\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var queryInfo = new QueryInfo(this);\n        var observable = new ObservableQuery({\n            queryManager: this,\n            queryInfo: queryInfo,\n            options: options,\n        });\n        this.queries.set(observable.queryId, queryInfo);\n        queryInfo.init({\n            document: observable.query,\n            observableQuery: observable,\n            variables: observable.variables,\n        });\n        return observable;\n    };\n    QueryManager.prototype.query = function (options, queryId) {\n        var _this = this;\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.') : invariant(options.query, 14);\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 15);\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 16);\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 17);\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.queryIdCounter++);\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        return this.requestIdCounter++;\n    };\n    QueryManager.prototype.generateMutationId = function () {\n        return String(this.mutationIdCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo)\n            queryInfo.stop();\n    };\n    QueryManager.prototype.clearStore = function (options) {\n        if (options === void 0) { options = {\n            discardWatches: true,\n        }; }\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(18));\n        this.queries.forEach(function (queryInfo) {\n            if (queryInfo.observableQuery) {\n                queryInfo.networkStatus = NetworkStatus.loading;\n            }\n            else {\n                queryInfo.stop();\n            }\n        });\n        if (this.mutationStore) {\n            this.mutationStore = Object.create(null);\n        }\n        return this.cache.reset(options);\n    };\n    QueryManager.prototype.getObservableQueries = function (include) {\n        var _this = this;\n        if (include === void 0) { include = \"active\"; }\n        var queries = new Map();\n        var queryNamesAndDocs = new Map();\n        var legacyQueryOptions = new Set();\n        if (Array.isArray(include)) {\n            include.forEach(function (desc) {\n                if (typeof desc === \"string\") {\n                    queryNamesAndDocs.set(desc, false);\n                }\n                else if (isDocumentNode(desc)) {\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\n                }\n                else if (isNonNullObject(desc) && desc.query) {\n                    legacyQueryOptions.add(desc);\n                }\n            });\n        }\n        this.queries.forEach(function (_a, queryId) {\n            var oq = _a.observableQuery, document = _a.document;\n            if (oq) {\n                if (include === \"all\") {\n                    queries.set(queryId, oq);\n                    return;\n                }\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\n                if (fetchPolicy === \"standby\" ||\n                    (include === \"active\" && !oq.hasObservers())) {\n                    return;\n                }\n                if (include === \"active\" ||\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\n                    (document && queryNamesAndDocs.has(document))) {\n                    queries.set(queryId, oq);\n                    if (queryName)\n                        queryNamesAndDocs.set(queryName, true);\n                    if (document)\n                        queryNamesAndDocs.set(document, true);\n                }\n            }\n        });\n        if (legacyQueryOptions.size) {\n            legacyQueryOptions.forEach(function (options) {\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\n                var queryInfo = _this.getQuery(queryId).init({\n                    document: options.query,\n                    variables: options.variables,\n                });\n                var oq = new ObservableQuery({\n                    queryManager: _this,\n                    queryInfo: queryInfo,\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\n                });\n                invariant(oq.queryId === queryId);\n                queryInfo.setObservableQuery(oq);\n                queries.set(queryId, oq);\n            });\n        }\n        if (__DEV__ && queryNamesAndDocs.size) {\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\n                if (!included) {\n                    __DEV__ && invariant.warn(\"Unknown query \".concat(typeof nameOrDoc === \"string\" ? \"named \" : \"\").concat(JSON.stringify(nameOrDoc, null, 2), \" requested in refetchQueries options.include array\"));\n                }\n            });\n        }\n        return queries;\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\n            var fetchPolicy = observableQuery.options.fetchPolicy;\n            observableQuery.resetLastResults();\n            if (includeStandby ||\n                (fetchPolicy !== \"standby\" &&\n                    fetchPolicy !== \"cache-only\")) {\n                observableQueryPromises.push(observableQuery.refetch());\n            }\n            _this.getQuery(queryId).setDiff(null);\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\n                if (fetchPolicy !== 'no-cache') {\n                    if (shouldWriteResult(result, errorPolicy)) {\n                        _this.cache.write({\n                            query: query,\n                            result: result.data,\n                            dataId: 'ROOT_SUBSCRIPTION',\n                            variables: variables,\n                        });\n                    }\n                    _this.broadcastQueries();\n                }\n                if (graphQLResultHasError(result)) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchCancelFns.delete(queryId);\n        if (this.queries.has(queryId)) {\n            this.getQuery(queryId).stop();\n            this.queries.delete(queryId);\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        if (this.onBroadcast)\n            this.onBroadcast();\n        this.queries.forEach(function (info) { return info.notify(); });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        var _a;\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = canonicalStringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    var concast = new Concast([\n                        execute(link, operation)\n                    ]);\n                    byVariables_1.set(varJson_1, observable = concast);\n                    concast.cleanup(function () {\n                        if (byVariables_1.delete(varJson_1) &&\n                            byVariables_1.size < 1) {\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        }\n                    });\n                }\n            }\n            else {\n                observable = new Concast([\n                    execute(link, operation)\n                ]);\n            }\n        }\n        else {\n            observable = new Concast([\n                Observable.of({ data: {} })\n            ]);\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\n        return asyncMap(this.getObservableFromLink(queryInfo.document, options.context, options.variables), function (result) {\n            var hasErrors = isNonEmptyArray(result.errors);\n            if (requestId >= queryInfo.lastRequestId) {\n                if (hasErrors && options.errorPolicy === \"none\") {\n                    throw queryInfo.markError(new ApolloError({\n                        graphQLErrors: result.errors,\n                    }));\n                }\n                queryInfo.markResult(result, options, cacheWriteBehavior);\n                queryInfo.markReady();\n            }\n            var aqr = {\n                data: result.data,\n                loading: false,\n                networkStatus: NetworkStatus.ready,\n            };\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\n                aqr.errors = result.errors;\n                aqr.networkStatus = NetworkStatus.error;\n            }\n            return aqr;\n        }, function (networkError) {\n            var error = isApolloError(networkError)\n                ? networkError\n                : new ApolloError({ networkError: networkError });\n            if (requestId >= queryInfo.lastRequestId) {\n                queryInfo.markError(error);\n            }\n            throw error;\n        });\n    };\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\n        var _this = this;\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\n        var query = this.transform(options.query).document;\n        var variables = this.getVariables(query, options.variables);\n        var queryInfo = this.getQuery(queryId);\n        var defaults = this.defaultOptions.watchQuery;\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? defaults && defaults.fetchPolicy || \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? defaults && defaults.errorPolicy || \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\n        var normalized = Object.assign({}, options, {\n            query: query,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            returnPartialData: returnPartialData,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            context: context,\n        });\n        var fromVariables = function (variables) {\n            normalized.variables = variables;\n            var concastSources = _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\n            if (normalized.fetchPolicy !== \"standby\" &&\n                concastSources.length > 0 &&\n                queryInfo.observableQuery) {\n                queryInfo.observableQuery[\"applyNextFetchPolicy\"](\"after-fetch\", options);\n            }\n            return concastSources;\n        };\n        var cleanupCancelFn = function () { return _this.fetchCancelFns.delete(queryId); };\n        this.fetchCancelFns.set(queryId, function (reason) {\n            cleanupCancelFn();\n            setTimeout(function () { return concast.cancel(reason); });\n        });\n        var concast = new Concast(this.transform(normalized.query).hasClientExports\n            ? this.localState.addExportedVariables(normalized.query, normalized.variables, normalized.context).then(fromVariables)\n            : fromVariables(normalized.variables));\n        concast.promise.then(cleanupCancelFn, cleanupCancelFn);\n        return concast;\n    };\n    QueryManager.prototype.refetchQueries = function (_a) {\n        var _this = this;\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\n        var includedQueriesById = new Map();\n        if (include) {\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\n                includedQueriesById.set(queryId, {\n                    oq: oq,\n                    lastDiff: _this.getQuery(queryId).getDiff(),\n                });\n            });\n        }\n        var results = new Map;\n        if (updateCache) {\n            this.cache.batch({\n                update: updateCache,\n                optimistic: optimistic && removeOptimistic || false,\n                removeOptimistic: removeOptimistic,\n                onWatchUpdated: function (watch, diff, lastDiff) {\n                    var oq = watch.watcher instanceof QueryInfo &&\n                        watch.watcher.observableQuery;\n                    if (oq) {\n                        if (onQueryUpdated) {\n                            includedQueriesById.delete(oq.queryId);\n                            var result = onQueryUpdated(oq, diff, lastDiff);\n                            if (result === true) {\n                                result = oq.refetch();\n                            }\n                            if (result !== false) {\n                                results.set(oq, result);\n                            }\n                            return result;\n                        }\n                        if (onQueryUpdated !== null) {\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\n                        }\n                    }\n                },\n            });\n        }\n        if (includedQueriesById.size) {\n            includedQueriesById.forEach(function (_a, queryId) {\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\n                var result;\n                if (onQueryUpdated) {\n                    if (!diff) {\n                        var info = oq[\"queryInfo\"];\n                        info.reset();\n                        diff = info.getDiff();\n                    }\n                    result = onQueryUpdated(oq, diff, lastDiff);\n                }\n                if (!onQueryUpdated || result === true) {\n                    result = oq.refetch();\n                }\n                if (result !== false) {\n                    results.set(oq, result);\n                }\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\n                    _this.stopQueryNoBroadcast(queryId);\n                }\n            });\n        }\n        if (removeOptimistic) {\n            this.cache.removeOptimistic(removeOptimistic);\n        }\n        return results;\n    };\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\n        var _this = this;\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\n        var oldNetworkStatus = queryInfo.networkStatus;\n        queryInfo.init({\n            document: this.transform(query).document,\n            variables: variables,\n            networkStatus: networkStatus,\n        });\n        var readCache = function () { return queryInfo.getDiff(variables); };\n        var resultsFromCache = function (diff, networkStatus) {\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\n            var data = diff.result;\n            if (__DEV__ &&\n                !returnPartialData &&\n                !equal(data, {})) {\n                logMissingFieldErrors(diff.missing);\n            }\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\n            if (data && _this.transform(query).hasForcedResolvers) {\n                return _this.localState.runResolvers({\n                    document: query,\n                    remoteResult: { data: data },\n                    context: context,\n                    variables: variables,\n                    onlyRunForcedResolvers: true,\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\n            }\n            return fromData(data);\n        };\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\n            (networkStatus === NetworkStatus.refetch &&\n                refetchWritePolicy !== \"merge\") ? 1\n                : 2;\n        var resultsFromLink = function () { return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\n            variables: variables,\n            context: context,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n        }); };\n        var shouldNotify = notifyOnNetworkStatusChange &&\n            typeof oldNetworkStatus === \"number\" &&\n            oldNetworkStatus !== networkStatus &&\n            isNetworkRequestInFlight(networkStatus);\n        switch (fetchPolicy) {\n            default:\n            case \"cache-first\": {\n                var diff = readCache();\n                if (diff.complete) {\n                    return [\n                        resultsFromCache(diff, queryInfo.markReady()),\n                    ];\n                }\n                if (returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-and-network\": {\n                var diff = readCache();\n                if (diff.complete || returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-only\":\n                return [\n                    resultsFromCache(readCache(), queryInfo.markReady()),\n                ];\n            case \"network-only\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(readCache()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"no-cache\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(queryInfo.getDiff()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"standby\":\n                return [];\n        }\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        if (queryId && !this.queries.has(queryId)) {\n            this.queries.set(queryId, new QueryInfo(this, queryId));\n        }\n        return this.queries.get(queryId);\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map","import { __assign } from \"tslib\";\nimport { compact } from \"./compact.js\";\nexport function mergeOptions(defaults, options) {\n    return compact(defaults, options, options.variables && {\n        variables: __assign(__assign({}, (defaults && defaults.variables)), options.variables),\n    });\n}\n//# sourceMappingURL=mergeOptions.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { ApolloLink, execute } from \"../link/core/index.js\";\nimport { version } from \"../version.js\";\nimport { HttpLink } from \"../link/http/index.js\";\nimport { QueryManager } from \"./QueryManager.js\";\nimport { LocalState, } from \"./LocalState.js\";\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        if (!cache) {\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\n                \"in the options object. \\n\" +\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(7);\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && __DEV__) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: \" + url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 8);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n//# sourceMappingURL=ApolloClient.js.map","export var version = '3.6.9';\n//# sourceMappingURL=version.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloProvider = function (_a) {\n    var client = _a.client, children = _a.children;\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        if (context === void 0) { context = {}; }\n        if (client && context.client !== client) {\n            context = Object.assign({}, context, { client: client });\n        }\n        __DEV__ ? invariant(context.client, 'ApolloProvider was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.') : invariant(context.client, 26);\n        return (React.createElement(ApolloContext.Provider, { value: context }, children));\n    }));\n};\n//# sourceMappingURL=ApolloProvider.js.map","export function isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n//# sourceMappingURL=arrays.js.map","var toString = Object.prototype.toString;\nexport function cloneDeep(value) {\n    return cloneDeepHelper(value);\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n//# sourceMappingURL=cloneDeep.js.map","export function compact() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    var result = Object.create(null);\n    objects.forEach(function (obj) {\n        if (!obj)\n            return;\n        Object.keys(obj).forEach(function (key) {\n            var value = obj[key];\n            if (value !== void 0) {\n                result[key] = value;\n            }\n        });\n    });\n    return result;\n}\n//# sourceMappingURL=compact.js.map","var prefixCounts = new Map();\nexport function makeUniqueId(prefix) {\n    var count = prefixCounts.get(prefix) || 1;\n    prefixCounts.set(prefix, count + 1);\n    return \"\".concat(prefix, \":\").concat(count, \":\").concat(Math.random().toString(36).slice(2));\n}\n//# sourceMappingURL=makeUniqueId.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map","export function isNonNullObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n//# sourceMappingURL=objects.js.map","import { invariant } from \"../globals/index.js\";\nimport { visit, } from 'graphql';\nexport function shouldInclude(_a, variables) {\n    var directives = _a.directives;\n    if (!directives || !directives.length) {\n        return true;\n    }\n    return getInclusionDirectives(directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables && variables[ifArgument.value.name.value];\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\".concat(directive.name.value, \" directive.\")) : invariant(evaledValue !== void 0, 37);\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nexport function getDirectiveNames(root) {\n    var names = [];\n    visit(root, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nexport function hasDirectives(names, root) {\n    return getDirectiveNames(root).some(function (name) { return names.indexOf(name) > -1; });\n}\nexport function hasClientExports(document) {\n    return (document &&\n        hasDirectives(['client'], document) &&\n        hasDirectives(['export'], document));\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nexport function getInclusionDirectives(directives) {\n    var result = [];\n    if (directives && directives.length) {\n        directives.forEach(function (directive) {\n            if (!isInclusionDirective(directive))\n                return;\n            var directiveArguments = directive.arguments;\n            var directiveName = directive.name.value;\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\".concat(directiveName, \" directive.\")) : invariant(directiveArguments && directiveArguments.length === 1, 38);\n            var ifArgument = directiveArguments[0];\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\".concat(directiveName, \" directive.\")) : invariant(ifArgument.name && ifArgument.name.value === 'if', 39);\n            var ifValue = ifArgument.value;\n            __DEV__ ? invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\".concat(directiveName, \" directive must be a variable or a boolean value.\")) : invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 40);\n            result.push({ directive: directive, ifArgument: ifArgument });\n        });\n    }\n    return result;\n}\n//# sourceMappingURL=directives.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant, InvariantError } from \"../globals/index.js\";\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Found a \".concat(definition.operation, \" operation\").concat(definition.name ? \" named '\".concat(definition.name.value, \"'\") : '', \". \") +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(41);\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        __DEV__ ? invariant(fragments.length === 1, \"Found \".concat(fragments.length, \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\")) : invariant(fragments.length === 1, 42);\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions, true) });\n    return query;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentFromSelection(selection, fragmentMap) {\n    switch (selection.kind) {\n        case 'InlineFragment':\n            return selection;\n        case 'FragmentSpread': {\n            var fragment = fragmentMap && fragmentMap[selection.name.value];\n            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value, \".\")) : invariant(fragment, 43);\n            return fragment;\n        }\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=fragments.js.map","import { invariant, InvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\nexport function checkDocument(doc) {\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 44);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(45);\n        }\n        return definition;\n    });\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 46);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 47);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 48);\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 49);\n    var fragmentDef = doc.definitions[0];\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 50);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(51);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map","import { InvariantError } from \"../globals/index.js\";\nimport { isNonNullObject } from \"../common/objects.js\";\nimport { getFragmentFromSelection } from \"./fragments.js\";\nexport function makeReference(id) {\n    return { __ref: String(id) };\n}\nexport function isReference(obj) {\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\n}\nexport function isDocumentNode(value) {\n    return (isNonNullObject(value) &&\n        value.kind === \"Document\" &&\n        Array.isArray(value.definitions));\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\".concat(name.value, \"\\\" of kind \\\"\").concat(value.kind, \"\\\"\") +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.') : new InvariantError(52);\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\n    if (args &&\n        directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = args[key];\n            });\n            return \"\".concat(directives['connection']['key'], \"(\").concat(stringify(filteredArgs_1), \")\");\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\".concat(stringifiedArgs, \")\");\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\".concat(key, \"(\").concat(stringify(directives[key]), \")\");\n            }\n            else {\n                completeFieldName += \"@\".concat(key);\n            }\n        });\n    }\n    return completeFieldName;\n}, {\n    setStringify: function (s) {\n        var previous = stringify;\n        stringify = s;\n        return previous;\n    },\n});\nvar stringify = function defaultStringify(value) {\n    return JSON.stringify(value, stringifyReplacer);\n};\nfunction stringifyReplacer(_key, value) {\n    if (isNonNullObject(value) && !Array.isArray(value)) {\n        value = Object.keys(value).sort().reduce(function (copy, key) {\n            copy[key] = value[key];\n            return copy;\n        }, {});\n    }\n    return value;\n}\nexport function argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\n    if (typeof result.__typename === 'string') {\n        return result.__typename;\n    }\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\n        var selection = _a[_i];\n        if (isField(selection)) {\n            if (selection.name.value === '__typename') {\n                return result[resultKeyNameFromField(selection)];\n            }\n        }\n        else {\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\n            if (typeof typename === 'string') {\n                return typename;\n            }\n        }\n    }\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\n//# sourceMappingURL=storeUtils.js.map","export function filterInPlace(array, test, context) {\n    var target = 0;\n    array.forEach(function (elem, i) {\n        if (test.call(this, elem, i, array)) {\n            array[target++] = elem;\n        }\n    }, context);\n    array.length = target;\n    return array;\n}\n//# sourceMappingURL=filterInPlace.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from \"../globals/index.js\";\nimport { visit, } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\nimport { filterInPlace } from \"../common/filterInPlace.js\";\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\nimport { createFragmentMap, } from \"./fragments.js\";\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragments) {\n    return op.selectionSet.selections.every(function (selection) {\n        return selection.kind === 'FragmentSpread' &&\n            isEmpty(fragments[selection.name.value], fragments);\n    });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    return function directiveMatcher(directive) {\n        return directives.some(function (dir) {\n            return (dir.name && dir.name === directive.name.value) ||\n                (dir.test && dir.test(directive));\n        });\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    var variablesInUse = Object.create(null);\n    var variablesToRemove = [];\n    var fragmentSpreadsInUse = Object.create(null);\n    var fragmentSpreadsToRemove = [];\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n        Variable: {\n            enter: function (node, _key, parent) {\n                if (parent.kind !== 'VariableDefinition') {\n                    variablesInUse[node.name.value] = true;\n                }\n            },\n        },\n        Field: {\n            enter: function (node) {\n                if (directives && node.directives) {\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\n                    if (shouldRemoveField &&\n                        node.directives &&\n                        node.directives.some(getDirectiveMatcher(directives))) {\n                        if (node.arguments) {\n                            node.arguments.forEach(function (arg) {\n                                if (arg.value.kind === 'Variable') {\n                                    variablesToRemove.push({\n                                        name: arg.value.name.value,\n                                    });\n                                }\n                            });\n                        }\n                        if (node.selectionSet) {\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                                fragmentSpreadsToRemove.push({\n                                    name: frag.name.value,\n                                });\n                            });\n                        }\n                        return null;\n                    }\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node) {\n                fragmentSpreadsInUse[node.name.value] = true;\n            },\n        },\n        Directive: {\n            enter: function (node) {\n                if (getDirectiveMatcher(directives)(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n    if (modifiedDoc &&\n        filterInPlace(variablesToRemove, function (v) { return !!v.name && !variablesInUse[v.name]; }).length) {\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n    }\n    if (modifiedDoc &&\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !!fs.name && !fragmentSpreadsInUse[fs.name]; })\n            .length) {\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n    }\n    return modifiedDoc;\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === 'OperationDefinition') {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === 'Variable' &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n    var allFragments = [];\n    selectionSet.selections.forEach(function (selection) {\n        if ((isField(selection) || isInlineFragment(selection)) &&\n            selection.selectionSet) {\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\n        }\n        else if (selection.kind === 'FragmentSpread') {\n            allFragments.push(selection);\n        }\n    });\n    return allFragments;\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    if (modifiedDoc) {\n        modifiedDoc = visit(modifiedDoc, {\n            FragmentDefinition: {\n                enter: function (node) {\n                    if (node.selectionSet) {\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n                            return isField(selection) && selection.name.value === '__typename';\n                        });\n                        if (isTypenameOnly) {\n                            return null;\n                        }\n                    }\n                },\n            },\n        });\n    }\n    return modifiedDoc;\n}\n//# sourceMappingURL=transform.js.map","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { isNode, QueryDocumentKeys } from './ast.mjs';\nimport { Kind } from './kinds.mjs';\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport const BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n * ```ts\n * const editedAST = visit(ast, {\n *   enter(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: skip visiting this node\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   },\n *   leave(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: no action\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   }\n * });\n * ```\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to three permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind(node) {\n *     // enter the \"Kind\" node\n *   }\n * })\n * ```\n *\n * 2) Named visitors that trigger upon entering and leaving a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind: {\n *     enter(node) {\n *       // enter the \"Kind\" node\n *     }\n *     leave(node) {\n *       // leave the \"Kind\" node\n *     }\n *   }\n * })\n * ```\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n * ```ts\n * visit(ast, {\n *   enter(node) {\n *     // enter any node\n *   },\n *   leave(node) {\n *     // leave any node\n *   }\n * })\n * ```\n */\n\nexport function visit(root, visitor, visitorKeys = QueryDocumentKeys) {\n  const enterLeaveMap = new Map();\n\n  for (const kind of Object.values(Kind)) {\n    enterLeaveMap.set(kind, getEnterLeaveForKind(visitor, kind));\n  }\n  /* eslint-disable no-undef-init */\n\n  let stack = undefined;\n  let inArray = Array.isArray(root);\n  let keys = [root];\n  let index = -1;\n  let edits = [];\n  let node = root;\n  let key = undefined;\n  let parent = undefined;\n  const path = [];\n  const ancestors = [];\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    const isLeaving = index === keys.length;\n    const isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n          let editOffset = 0;\n\n          for (const [editKey, editValue] of edits) {\n            const arrayKey = editKey - editOffset;\n\n            if (editValue === null) {\n              node.splice(arrayKey, 1);\n              editOffset++;\n            } else {\n              node[arrayKey] = editValue;\n            }\n          }\n        } else {\n          node = Object.defineProperties(\n            {},\n            Object.getOwnPropertyDescriptors(node),\n          );\n\n          for (const [editKey, editValue] of edits) {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else if (parent) {\n      key = inArray ? index : keys[index];\n      node = parent[key];\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      path.push(key);\n    }\n\n    let result;\n\n    if (!Array.isArray(node)) {\n      var _enterLeaveMap$get, _enterLeaveMap$get2;\n\n      isNode(node) || devAssert(false, `Invalid AST Node: ${inspect(node)}.`);\n      const visitFn = isLeaving\n        ? (_enterLeaveMap$get = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get === void 0\n          ? void 0\n          : _enterLeaveMap$get.leave\n        : (_enterLeaveMap$get2 = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get2 === void 0\n        ? void 0\n        : _enterLeaveMap$get2.enter;\n      result =\n        visitFn === null || visitFn === void 0\n          ? void 0\n          : visitFn.call(visitor, node, key, parent, path, ancestors);\n\n      if (result === BREAK) {\n        break;\n      }\n\n      if (result === false) {\n        if (!isLeaving) {\n          path.pop();\n          continue;\n        }\n      } else if (result !== undefined) {\n        edits.push([key, result]);\n\n        if (!isLeaving) {\n          if (isNode(result)) {\n            node = result;\n          } else {\n            path.pop();\n            continue;\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _node$kind;\n\n      stack = {\n        inArray,\n        index,\n        keys,\n        edits,\n        prev: stack,\n      };\n      inArray = Array.isArray(node);\n      keys = inArray\n        ? node\n        : (_node$kind = visitorKeys[node.kind]) !== null &&\n          _node$kind !== void 0\n        ? _node$kind\n        : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    // New root\n    return edits[edits.length - 1][1];\n  }\n\n  return root;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  const skipping = new Array(visitors.length).fill(null);\n  const mergedVisitor = Object.create(null);\n\n  for (const kind of Object.values(Kind)) {\n    let hasVisitor = false;\n    const enterList = new Array(visitors.length).fill(undefined);\n    const leaveList = new Array(visitors.length).fill(undefined);\n\n    for (let i = 0; i < visitors.length; ++i) {\n      const { enter, leave } = getEnterLeaveForKind(visitors[i], kind);\n      hasVisitor || (hasVisitor = enter != null || leave != null);\n      enterList[i] = enter;\n      leaveList[i] = leave;\n    }\n\n    if (!hasVisitor) {\n      continue;\n    }\n\n    const mergedEnterLeave = {\n      enter(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _enterList$i;\n\n            const result =\n              (_enterList$i = enterList[i]) === null || _enterList$i === void 0\n                ? void 0\n                : _enterList$i.apply(visitors[i], args);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      },\n\n      leave(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _leaveList$i;\n\n            const result =\n              (_leaveList$i = leaveList[i]) === null || _leaveList$i === void 0\n                ? void 0\n                : _leaveList$i.apply(visitors[i], args);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          } else if (skipping[i] === node) {\n            skipping[i] = null;\n          }\n        }\n      },\n    };\n    mergedVisitor[kind] = mergedEnterLeave;\n  }\n\n  return mergedVisitor;\n}\n/**\n * Given a visitor instance and a node kind, return EnterLeaveVisitor for that kind.\n */\n\nexport function getEnterLeaveForKind(visitor, kind) {\n  const kindVisitor = visitor[kind];\n\n  if (typeof kindVisitor === 'object') {\n    // { Kind: { enter() {}, leave() {} } }\n    return kindVisitor;\n  } else if (typeof kindVisitor === 'function') {\n    // { Kind() {} }\n    return {\n      enter: kindVisitor,\n      leave: undefined,\n    };\n  } // { enter() {}, leave() {} }\n\n  return {\n    enter: visitor.enter,\n    leave: visitor.leave,\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n *\n * @deprecated Please use `getEnterLeaveForKind` instead. Will be removed in v17\n */\n\n/* c8 ignore next 8 */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  const { enter, leave } = getEnterLeaveForKind(visitor, kind);\n  return isLeaving ? leave : enter;\n}\n"],"names":["css_reset_default","styles","PortalManagerContextProvider","usePortalManager","strict","name","PortalManager","props","children","zIndex","value","displayName","PortalContextProvider","usePortalContext","PORTAL_CLASSNAME","Container","className","style","position","top","left","right","DefaultPortal","appendToParentPortal","tempNode","setTempNode","useState","portal","useRef","forceUpdate","useEffect","parentPortal","manager","doc","ownerDocument","host","body","current","createElement","appendChild","portalNode","contains","removeChild","_children","createPortal","ref","el","ContainerPortal","containerRef","containerEl","document","useMemo","node","Portal","rest","defaultProps","selector","classList","add","remove","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","childNodes","setAttribute","getElementsByTagName","noop","mockEnv","window","navigator","userAgent","CustomEvent","this","getComputedStyle","getPropertyValue","matchMedia","matches","addListener","removeListener","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","id","clearTimeout","setInterval","clearInterval","defaultEnv","EnvironmentContext","createContext","EnvironmentProvider","environment","environmentProp","setNode","mounted","setMounted","context","doc2","win2","defaultView","Provider","startTransition","ChakraProvider","colorModeManager","portalZIndex","resetCSS","theme","cssVarsRoot","options","config","anatomy","map","called","toPart","part","includes","filter","Boolean","join","toString","parts","values","Error","assert","extend","parts2","selectors","Object","fromEntries","entries","key","classnames","keys","__type","accordionAnatomy","alertAnatomy","avatarAnatomy","breadcrumbAnatomy","checkboxAnatomy","drawerAnatomy","editableAnatomy","formAnatomy","formErrorAnatomy","inputAnatomy","listAnatomy","menuAnatomy","modalAnatomy","numberInputAnatomy","popoverAnatomy","progressAnatomy","radioAnatomy","selectAnatomy","sliderAnatomy","statAnatomy","switchAnatomy","tableAnatomy","tabsAnatomy","tagAnatomy","bound01","n","max","indexOf","parseFloat","isOnePointZero","isPercent","isPercentage","Math","min","parseInt","String","abs","clamp01","val","boundAlpha","a","isNaN","convertToPercentage","concat","Number","c","length","rgbToHsl","r","g","b","h","s","l","d","hue2rgb","p","q","t","rgbToHsv","v","rgbToHex","allow3Char","hex","round","startsWith","charAt","convertDecimalToHex","convertHexToDecimal","parseIntFromHex","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","goldenrod","gold","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavenderblush","lavender","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","inputToRGB","color","rgb","ok","format","trim","toLowerCase","named","match","matchers","exec","rgba","hsl","hsla","hsv","hsva","hex8","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","substr","i","floor","f","mod","hsvToRgb","hslToRgb","prototype","hasOwnProperty","call","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","TinyColor","opts","_a","numberInputToObject","originalInput","roundA","gradientType","isValid","isDark","getBrightness","isLight","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","pow","getAlpha","setAlpha","alpha","toHsv","toHsvString","toHsl","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","x","toPercentageRgbString","rnd","toName","_i","_b","formatSet","formattedString","hasAlpha","toNumber","clone","lighten","amount","brighten","darken","tint","mix","shade","desaturate","saturate","greyscale","spin","hue","rgb1","rgb2","analogous","results","slices","ret","push","complement","monochromatic","res","modification","splitcomplement","onBackground","background","fg","bg","triad","polyad","tetrad","result","increment","equals","random","undefined","count","totalColors","colors","seed","randomWithin","colorInput","num","namedColor","bounds","find","defineColor","hueRange","parsed","getHueRange","pickHue","luminosity","saturationRange","getColorInfo","sMin","sMax","pickSaturation","H","S","bMin","lowerBounds","s1","v1","s2","v2","m","getMinimumBrightness","bMax","pickBrightness","bounds_1","range","bound","brightnessRange","getColor","fallback","tone","transparentize","opacity","raw","generateStripe","size","backgroundImage","backgroundSize","randomColor","string","str","list","index","charCodeAt","randomColorFromList","hash","j","randomColorFromString","mode","light","dark","colorMode","orient","orientation","vertical","horizontal","toRef","operand","reference","toExpr","operator","operands","replace","subtract","multiply","divide","negate","slice","calc","assign","valueStr","replaceValue","replaceWhiteSpace","isInteger","isDecimal","toVarRef","toVar","prefix","addPrefix","cssVar","cssVariable","variable","getFallback","baseStyle","root","container","borderTopWidth","borderColor","_last","borderBottomWidth","button","transitionProperty","transitionDuration","fontSize","_focusVisible","boxShadow","_hover","_disabled","cursor","px","py","panel","pt","pb","icon","accordion_default","getBg","theme2","colorScheme","variants","subtle","spinner","paddingStart","borderStartWidth","borderStartColor","borderTopColor","solid","alert_default","title","fontWeight","lineHeight","marginEnd","description","flexShrink","w","variant","spacing","sizes_default","full","xs","sm","md","lg","xl","baseStyleBadge","transform","borderRadius","border","baseStyleExcessLabel","baseStyleContainer2","isBgDark","verticalAlign","getSize","size2","themeSize","width","height","excessLabel","label","sizes2","avatar_default","badge","sizes","badge_default","textTransform","outline","darkColor","baseStyle5","link","transitionTimingFunction","textDecoration","breadcrumb_default","variantGhost","_active","darkHoverBg","darkActiveBg","accessibleColorMap","hoverBg","activeBg","button_default","ghost","bg2","padding","unstyled","display","minW","baseStyleControl","_checked","_indeterminate","_invalid","baseStyleContainer3","baseStyleLabel","userSelect","baseStyleIcon2","checkbox_default","control","$size","close_button_default","variants4","defaultProps7","code_default","fontFamily","container_default","mx","maxW","divider_default","borderStyle","dashed","getSize2","dialog","baseStyleOverlay","baseStyleDialogContainer","justifyContent","baseStyleDialog","isFullHeight","maxH","baseStyleHeader","baseStyleCloseButton","insetEnd","baseStyleBody","flex","overflow","baseStyleFooter","sizes6","drawer_default","overlay","dialogContainer","header","closeButton","footer","baseStyle13","preview","input","_placeholder","textarea","editable_default","baseStyleRequiredIndicator","marginStart","baseStyleHelperText","mt","form_default","requiredIndicator","helperText","baseStyleText","baseStyleIcon3","form_error_default","text","form_label_default","mb","heading_default","sizes8","field","addon","getDefaults","focusBorderColor","fc","errorBorderColor","ec","variants6","_readOnly","filled","flushed","borderBottom","input_default","minWidth","appearance","kbd_default","borderWidth","whiteSpace","link_default","baseStyle21","item","list_default","baseStyleList","baseStyleItem","_focus","_expanded","baseStyleGroupTitle","my","baseStyleCommand","baseStyleDivider","baseStyleButton2","menu_default","groupTitle","command","divider","baseStyleOverlay2","baseStyleDialogContainer2","isCentered","scrollBehavior","alignItems","baseStyleDialog2","baseStyleHeader2","baseStyleCloseButton2","baseStyleBody2","baseStyleFooter2","getSize3","minH","sizes9","modal_default","typography_default","letterSpacings","tighter","tight","normal","wide","wider","widest","lineHeights","none","shorter","short","base","tall","taller","fontWeights","hairline","thin","medium","semibold","bold","extrabold","fonts","heading","mono","fontSizes","variants7","defaultProps13","$stepperWidth","$inputPadding","inputPaddingValue","baseStyleRoot","baseStyleField","baseStyleStepperGroup","baseStyleStepper","borderStart","getSize4","_a2","sizeStyle","radius","_fontSize","paddingInlineEnd","stepper","_first","borderTopEndRadius","borderBottomEndRadius","sizes10","number_input_default","stepperGroup","pin_input_default","textAlign","$popperBg","$arrowBg","$arrowShadowColor","baseStylePopper","baseStyleContent","shadowColor","baseStyleHeader3","baseStyleBody3","baseStyleFooter3","baseStyleCloseButton3","popover_default","popper","content","arrow","filledStyle","isIndeterminate","hasStripe","stripeStyle","bgColor","gradient","bgImage","baseStyleLabel2","baseStyleTrack","baseStyleFilledTrack","progress_default","track","filledTrack","baseStyleControl2","_before","pos","radio_default","baseStyleField2","paddingBottom","baseStyleIcon5","iconSpacing","sizes14","select_default","$startColor","$endColor","skeleton_default","defaultStartColor","defaultEndColor","startColor","endColor","start","end","skip_link_default","insetStart","thumbOrientation","baseStyleContainer4","pointerEvents","baseStyleTrack2","baseStyleThumb","baseStyleFilledTrack2","sizes15","thumb","slider_default","$size2","spinner_default","baseStyle34","helpText","marginBottom","number","stat_default","$width","$height","$diff","diffValue","$translateX","baseStyleTrack3","baseStyleThumb2","sizes18","switch_default","_rtl","numericStyles","variants9","simple","th","td","caption","tfoot","tr","striped","tbody","table_default","table","fontVariantNumeric","borderCollapse","letterSpacing","baseStyleRoot2","baseStyleTab","isFitted","baseStyleTablist","align","center","flexDirection","baseStyleTabpanel","variants10","line","borderProp","tablist","tab","_selected","enclosed","borderTopRadius","borderBottomColor","_notLast","tabs_default","tabpanel","baseStyle38","variants11","tag_default","baseStyle39","paddingY","minHeight","variants12","textarea_default","$bg","$arrowBg2","components","Accordion","Alert","Avatar","Badge","Breadcrumb","Button","Checkbox","CloseButton","Code","Divider","Drawer","Editable","Form","FormError","FormLabel","Heading","Input","Kbd","Link","List","Menu","Modal","NumberInput","PinInput","Popover","Progress","Radio","Select","Skeleton","SkipLink","Slider","Spinner","Stat","Switch","Table","Tabs","Tag","Textarea","Tooltip","borders_default","shadows_default","inner","transition_default","property","common","dimensions","easing","duration","faster","fast","slow","slower","foundations","breakpoints","zIndices","hide","auto","docked","dropdown","sticky","banner","modal","popover","skipLink","toast","tooltip","radii","transparent","whiteAlpha","blackAlpha","linkedin","facebook","messenger","whatsapp","twitter","telegram","shadows","space","borders","transition","semanticTokens","_light","_dark","direction","global","wordWrap","useSystemColorMode","initialColorMode","cssVarPrefix","src_default","WarningIcon","viewBox","fill","AlertProvider","useAlertContext","errorMessage","AlertStylesProvider","useAlertStyles","STATUSES","info","warning","success","error","loading","status","addRole","getStatusColorScheme","alertStyles","role","cx","__css","AlertDescription","descriptionStyles","AlertIcon","BaseIcon","getStatusIcon","css","AlertTitle","useIsMounted","isMounted","PresenceChild","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","newChildrenMap","childId","e_1","set","_c","next","done","e_1_1","return","register","delete","forEach","_","PresenceContext","Map","getChildKey","child","AnimatePresence","exitBeforeEnter","_d","forcedRenderCount","setForcedRenderCount","forceRender","useCallback","useForceUpdate","forceRenderLayoutGroup","useContext","LayoutGroupContext","filteredChildren","filtered","Children","isValidElement","onlyElements","childrenToRender","exiting","Set","presentChildren","allChildren","isInitialRender","updateChildLookup","clear","presentKeys","targetKeys","numPresent","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","console","warn","cloneElement","findToast","toasts","getToastPosition","flat","getToastListStyle","margin","bottom","toastStore","initialState2","state","listeners","setState","setStateFn","getState","subscribe","listener","removeToast","prevState","notify","message","counter","onCloseComplete","onRequestRemove","requestClose","containerStyle","createToast","prevToasts","update","nextState","createRenderToast","closeAll","positions","prev","reduce","acc","close","isActive","createStore","Toast","isClosable","onClose","ids","paddingEnd","maxWidth","onClick","render","toastComponent","ToastComponent2","toastMotionVariants","dir","factor","animate","y","scale","ease","exit","ToastComponent","memo","motionVariants","toastSpacing","delay","setDelay","containerStyles","toastStyle","getToastStyle","motion","layout","onHoverStart","onHoverEnd","ToastProvider","useSyncExternalStore","component","Component","portalProps","toastList","toastOptions","restProps","module","exports","mustBeMetaMask","silent","timeout","_validateInputs","handled","Promise","resolve","handleEthereum","ethereum","isMetaMask","once","configReducer","action","noUndefined","ConfigProvider","configWithDefaults","bufferGasLimitPercentage","gasLimitBufferPercentage","notifications","reducedConfig","dispatch","useReducer","updateConfig","BlockNumberContext","blockNumberReducer","chainId","blockNumber","useDebounce","debouncedValue","setDebouncedValue","handler","subscribeToNewBlock","provider","on","getBlockNumber","then","err","off","WindowContext","useWindow","BlockNumberProvider","library","useEthers","debouncedState","BlockNumbersContext","hook","notifyDevtools","notification","type","init","send","callsReducer","calls","address","updatedCalls","lastUpdatedBlockNumber","finalState","data","chainStateReducer","newState","oldState","__USEDAPP_DEVTOOLS_HOOK__","buffLength","buf","bufPaddedLength","ceil","encodeUint","uint","padStart","decodeUint","wordLength","fail","ethersAbi","MultiCall2","abi","trueEncoded","repeat","falseEncoded","getSighash","encodeCalls","dynamicOffset","padEnd","encodeTryAggregate","MultiCall","ABI","multicall1Factory","fastEncoding","fastEncodingMulticall","multicall","async","requests","contract","aggregate","blockTag","decodeResult","response","to","calldata","getNumber","offset","arraySize","returnDataOffset","returnDataLength","returnData","decodeAggregate","stateForAddress","multicall2Factory","fastEncodingMulticall2","multicall2","tryAggregate","successEncoded","decodeTryAggregate","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","stripCall","isStatic","MultiChainStateProvider","multicallAddresses","multicallVersion","fastMulticallEncoding","useConfig","networks","blockNumbers","reportError","dispatchCalls","dispatchState","updateNetworks","debouncedCalls","debouncedNetworks","first","second","useDebouncePair","uniqueCalls","uniqueCallsJSON","JSON","stringify","useChainId","multicallForChain","multicallAddress","callsOnThisChain","multicallExecutor","Date","now","catch","performMulticall","account","useDevtoolsReporting","_chainId","network","_network","chains","composeChainState","provided","notificationReducer","chainState","notificationId","nanoid","crypto","getRandomValues","Uint8Array","byte","toUpperCase","NotificationsProvider","submittedAt","addNotification","removeNotification","useBlockNumber","getItem","localStorage","parse","useLocalStorage","setValue","toStore","setItem","removeItem","DEFAULT_STORED_TRANSACTIONS","TransactionsContext","transactions","addTransaction","transactionReducer","payload","transaction","TransactionProvider","storage","setStorage","transactionPath","transactionName","checkTransaction","tx","receipt","lastCheckedBlockNumber","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","chainTransactions","newTransactions","newTransaction","updateTransactions","LocalMulticallState","LocalMulticallProvider","setMulticallAddress","getCurrent","localMulticallState","setLocalMulticallState","Unknown","multicallBlockNumber","setMulticallBlockNumber","isLocalChain","Deployed","Deploying","checkDeployed","getCode","signer","getSigner","contractAddress","contractAbi","factory","bytecode","deploy","deployTransaction","wait","deployContract","deployMulticall","NonLocal","awaitingMulticallBlock","logger","Logger","ethDefaultProvider","func","providers","providerList","InfuraProvider","infura","EtherscanProvider","etherscan","AlchemyProvider","alchemy","PocketProvider","pocket","skip","CloudflareProvider","cloudflare","AnkrProvider","ankr","FallbackProvider","quorum","renetwork","etcDefaultProvider","url","JsonRpcProvider","homestead","ensAddress","_defaultProvider","ropsten","classicMordor","unspecified","mainnet","morden","testnet","rinkeby","kovan","goerli","kintsugi","classic","classicMorden","classicTestnet","classicKotti","xdai","matic","maticmum","optimism","arbitrum","bnb","bnbt","getNetwork","standard","throwArgumentError","defaultProvider","Formatter","constructor","formats","getDefaultFormats","bind","bigNumber","accessList","allowNull","blockHash","transactionIndex","confirmations","from","gasPrice","maxPriorityFeePerGas","maxFeePerGas","gasLimit","nonce","uint256","creates","transactionRequest","receiptLog","transactionHash","topics","arrayOf","logIndex","gasUsed","logsBloom","logs","cumulativeGasUsed","effectiveGasPrice","block","parentHash","timestamp","difficulty","miner","extraData","baseFeePerGas","blockWithTransactions","shallowCopy","transactionResponse","fromBlock","toBlock","filterLog","removed","boolean","allowFalsish","accessListify","substring","isHexString","getAddress","callAddress","hexDataSlice","getContractAddress","hexValue","hexDataLength","hexZeroPad","_block","author","_difficulty","check","gas","isZero","networkId","byzantium","Array","isArray","static","object","checkKey","checkValue","nullValue","array","isCommunityResourcable","isCommunityResource","throttleMessage","showThrottleMessage","log","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","rejected","apply","checkTopic","topic","serializeTopics","pop","unique","sorted","sort","getEventTag","eventName","getTime","stall","PollableEvents","Event","tag","defineReadOnly","_lastBlockNumber","_inflight","event","split","comps","pollable","coinInfos","symbol","p2pkh","p2sh","ilk","bytes32ify","base58Encode","Base58","sha2","matcherIpfs","_parseString","_parseBytes","getIpfsLink","numPad","arrayify","padded","bytesPad","encodeBytes","datas","byteCount","hexConcat","Resolver","resolvedAddress","formatter","supportsWildcard","_supportsEip2544","eq","code","_fetch","parameters","ccipReadEnabled","namehash","parseBytes","throwError","_fetchBytes","_getAddress","coinType","hexBytes","coinInfo","operation","bytes","version","words","unshift","getAvatar","linkage","avatar","getText","scheme","owner","_resolvedAddress","addr","tokenId","tokenOwner","balance","metadataUrl","metadata","fetchJson","imageUrl","image","getContentHash","ipfs","ipns","swarm","skynet","urlSafe","base64","keyBytes","hexlify","defaultFormatter","nextPollId","BaseProvider","super","_events","_emitted","disableCcipRead","getFormatter","anyNetwork","detectNetwork","_networkPromise","_ready","knownNetwork","getStatic","emit","_maxInternalBlockNumber","_maxFilterBlockRange","_pollingInterval","_fastQueryDate","ready","poll","ccipReadFetch","urls","sender","errorMessages","href","json","errorPassThrough","statusCode","_getInternalBlockNumber","maxAge","_internalBlockNumber","internalBlockNumber","respTime","reqTime","checkInternalBlockNumber","resolveProperties","perform","networkError","_setFastBlockNumber","pollId","runners","pollingInterval","makeError","previousBlockNumber","eventBlockNumber","runner","getLogs","all","resetEventsBlock","polling","currentNetwork","_fastBlockNumber","_fastBlockNumberPromise","detectedNetwork","_poller","_bootstrapPoll","_getFastBlockNumber","waitForTransaction","_waitForTransaction","replaceable","cancelFuncs","alreadyDone","minedHandler","lastBlockNumber","startBlock","scannedBlock","replaceHandler","getTransactionCount","mined","getTransaction","getBlockWithTransactions","ti","reason","cancelled","replacement","_wrapTransaction","timer","unref","getGasPrice","method","getBalance","addressOrName","params","_getBlockTag","getStorageAt","expectedHash","returnedHash","confirms","sendTransaction","signedTransaction","hexTx","_getTransactionRequest","_getFilter","_call","attempt","redirects","txSender","signature","urlsOffset","urlsLength","urlsData","u","callbackSelector","ccipResult","resolved","estimateGas","resolveName","_getBlock","blockHashOrBlockTag","includeTransactions","blockWithTxs","oncePoll","getBlock","getEtherPrice","getResolver","currentName","_getResolver","resolver","addrData","lookupAddress","resolverAddr","nameOrAddress","resolverAddress","_startEvent","_stopEvent","_addEventListener","args","stopped","eventTag","listenerCount","removeAllListeners","found","errorGas","spelunk","requireData","checkError","responseText","getResult","getLowerCase","_constructorGuard","JsonRpcSigner","constructorGuard","addressOrIndex","connect","connectUnchecked","UncheckedJsonRpcSigner","_address","_index","accounts","sendUncheckedTransaction","fromAddress","estimate","hexlifyTransaction","signTransaction","signMessage","_legacySignMessage","_signTypedData","domain","types","populated","unlock","password","allowedTransactionKeys","networkOrReady","freeze","_nextId","_cache","_eventLoopCache","_uncachedDetectNetwork","serverError","getUncheckedSigner","listAccounts","request","jsonrpc","deepCopy","cache","connection","prepareRequest","feeData","getFeeData","_startPending","_pendingFilter","self","pendingFilter","filterId","hashes","seq","allowExtra","allowed","checkProperties","WS","WebSocket","NextId","WebSocketProvider","_wsReady","websocket","onopen","_requests","onmessage","messageEvent","sub","_subs","subscription","processFunc","fauxPoll","_websocket","_detectNetwork","rid","_subscribe","param","subIdPromise","_subIds","subId","emitReceipt","destroy","readyState","onerror","StaticJsonRpcProvider","_super","create","UrlJsonRpcProvider","apiKey","checkAbstract","defaultApiKey","AlchemyWebSocketProvider","arguments","allowGzip","throttleCallback","getHost","projectSecret","user","getTransactionPostData","maxFeePerGs","storageKeys","throttleRetry","getJsonResult","checkLogTag","getBaseUrl","getUrl","query","accum","baseUrl","getPostUrl","getPostData","apikey","fetch","post","procFunc","throttleSlotInterval","payloadStr","headers","txhash","postData","topic0","blocks","ethusd","getHistory","endBlock","startblock","endblock","timeStamp","checkNetworks","median","maxDelta","middle","serialize","nextRid","cancel","promise","getPromise","ForwardErrors","ForwardProperties","exposeDebugConfig","weight","defineProperty","getProcessFunc","normalize","configs","_highestBlockNumber","tally","normalizedTally","waitForSync","getRunner","currentBlockNumber","providerConfigs","configOrProvider","stallTimeout","priority","total","shuffle","t0","inflightWeight","staller","backend","waiting","race","errors","errorCode","IpcProvider","defaultProjectId","InfuraWebSocketProvider","projectId","apiKeyObj","assertArgument","argument","JsonRpcBatchProvider","_pendingBatch","inflightRequest","_pendingBatchAggregator","batch","inflight","NodesmithProvider","defaultApplicationIds","applicationId","loadBalancer","applicationSecretKey","buildWeb3LegacyFetcher","sendFunc","fetcher","Web3Provider","path","jsonRpcFetchFunc","subprovider","buildEip1193Fetcher","sendAsync","getDefaultProvider","networkStatesReducer","actions","nonStaticCalls","isWebSocketProvider","getProviderFromConfig","urlOrProviderOrProviderFunction","isProvider","getProvidersFromConfig","readOnlyUrls","ReadonlyNetworksProvider","providerOverrides","pollingIntervals","setProviders","networkStates","dispatchNetworkState","getPollingInterval","updateNetworkState","defaultNetworkState","networkReducer","GET_METAMASK_LINK","NetworkProvider","providerOverride","autoConnect","noMetamaskDeactivate","onUnsubscribe","setOnUnsubscribe","shouldConnectMetamask","setShouldConnectMetamask","isLoading","setLoading","activateBrowserWallet","injectedProvider","open","getInjectedProvider","activate","newNetwork","deactivate","onDisconnect","_state","wrappedProvider","tryToGetAccount","clearSubscriptions","onUpdate","onChainChanged","onConnectListener","onDisconnectListener","onChainChangedListener","onAccountsChangedListener","subscribeToProviderEvents","BlockNumbersProvider","onUnmount","fn","WindowProvider","isActiveWindow","setActiveWindow","visibilityChangeListener","visibilityState","DAppProvider","DAppProviderWithConfig","defaultAddresses","getMulticallAddresses","multicall2Address","getMulticall2Addresses","multicallAddressesMerged","currentContext","MISSING_VALUE","idCounter","globalKey","Slot","hasValue","context_1","parent","slots","getValue","withValue","__proto__","saved","noContext","enumerable","writable","configurable","fnToStr","Function","previousComparisons","equal","aTag","previouslyCompared","aKeys","definedKeys","bKeys","keyCount","k","aIterator","isMap","aKey","aValue","len","byteLength","aCode","suffix","fromIndex","endsWith","nativeCodeSuffix","obj","isDefinedKey","bSet","defaultMakeData","Trie","weakness","makeData","lookup","lookupArray","getChildTrie","isObjRef","weak","WeakMap","strong","__spreadArrays","il","jl","Log","debug","lines","level","tailLogs","_this","write","buffer","Cache","extract","restore","__generator","sent","trys","ops","verb","Symbol","iterator","op","TypeError","Storage","read","purge","Persistor","maxSize","persistenceMapper","paused","persist","error_1","error_2","error_3","evict","modify","Trigger","persistor","fire","debounce","defaultDebounce","trigger","uninstall","onCacheWrite","onAppBackground","pause","resume","CachePersistor","print","__extends","extendStatics","setPrototypeOf","__","SynchronousPersistor","SynchronousCachePersistor","SynchronousStorage","restoreSync","readSync","LocalForageWrapper","AsyncStorageWrapper","IonicStorageWrapper","LocalStorageWrapper","MMKVStorageWrapper","MMKVWrapper","getString","SessionStorageWrapper","ALPHABET","ALPHABET_MAP","z","polymodStep","pre","prefixChk","chk","__decode","LIMIT","lowered","uppered","lastIndexOf","wordChars","convert","inBits","outBits","pad","bits","maxV","decodeUnsafe","decode","encode","toWordsUnsafe","toWords","fromWordsUnsafe","fromWords","o","_dereq_","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","observer","nextTick","element","createTextNode","observe","characterData","setImmediate","MessageChannel","scriptEl","onreadystatechange","parentNode","documentElement","channel","port1","port2","postMessage","queue","oldQueue","immediate","task","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","outcome","safelyResolveThenable","QueueItem","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","returnValue","getThen","thenable","onError","onSuccess","tryToUnwrap","tryCatch","out","iterable","allResolver","resolveFromAll","outValue","_typeof","_classCallCheck","instance","Constructor","getIDB","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","idb","isIndexedDBValid","isSafari","openDatabase","test","platform","hasFetch","IDBKeyRange","createBlob","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","Promise$1","executeCallback","executeTwoCallbacks","errorCallback","normalizeKey","getCallback","DETECT_BLOB_SUPPORT_STORE","supportsBlobs","dbContexts","READ_ONLY","READ_WRITE","_binStringToArrayBuffer","bin","ArrayBuffer","arr","_checkBlobSupportWithoutCaching","txn","blob","objectStore","put","onabort","preventDefault","stopPropagation","oncomplete","matchedChrome","matchedEdge","_checkBlobSupport","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","_rejectReadiness","_getConnection","upgradeNeeded","createDbContext","db","dbArgs","openreq","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","newVersion","onsuccess","onversionchange","target","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","isDowngrade","isUpgrade","incVersion","_encodeBlob","reader","FileReader","onloadend","btoa","__local_forage_encoded_blob","readAsBinaryString","_decodeBlob","encodedBlob","atob","_isEncodedBlob","_fullyReady","_initReady","_dbInfo","_tryReconnect","forages","forage","createTransaction","retries","_initStorage","initPromises","ignoreErrors","_defaultConfig","req","iterate","openCursor","iterationNumber","blobSupport","store","advanced","openKeyCursor","advance","dropInstance","currentConfig","dbPromise","dropObjectPromise","deleteObjectStore","_forage2","dropDBPromise","deleteDatabase","onblocked","asyncStorage","_driver","_support","isWebSQLValid","BASE_CHARS","BLOB_TYPE_PREFIX","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_ARRAYBUFFER","TYPE_BLOB","TYPE_INT8ARRAY","TYPE_UINT8ARRAY","TYPE_UINT8CLAMPEDARRAY","TYPE_INT16ARRAY","TYPE_INT32ARRAY","TYPE_UINT16ARRAY","TYPE_UINT32ARRAY","TYPE_FLOAT32ARRAY","TYPE_FLOAT64ARRAY","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","bufferToString","base64String","valueType","marker","fileReader","onload","readAsArrayBuffer","deserialize","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","localforageSerializer","createDbTable","executeSql","_initStorage$1","dbInfoPromise","serializer","tryExecuteSql","sqlStatement","SYNTAX_ERR","rows","getItem$1","iterate$1","_setItem","retriesLeft","originalValue","sqlError","QUOTA_ERR","setItem$1","removeItem$1","clear$1","length$1","key$1","keys$1","getAllStoreNames","storeNames","dropInstance$1","operationInfo","dropTable","operations","webSQLStorage","isLocalStorageValid","_getKeyPrefix","defaultConfig","keyPrefix","checkIfLocalStorageThrows","localStorageTestKey","_isLocalStorageUsable","_initStorage$2","clear$2","getItem$2","iterate$2","keyPrefixLength","key$2","keys$2","itemKey","length$2","removeItem$2","setItem$2","dropInstance$2","localStorageWrapper","sameValue","searchElement","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","_key","LocalForage","driverTypeKey","driverName","defineDriver","_config","_driverSet","_initDriver","_wrapLibraryMethodsWithReady","setDriver","driverObject","complianceError","driverMethods","driverMethodName","configureMissingMethods","methodNotImplementedFactory","methodName","_len","optionalDriverMethod","setDriverSupport","support","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","initDriver","currentDriverIndex","driverPromiseLoop","oldDriverSetDone","supports","libraryMethodsAndProperties","createInstance","localforage_js","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","funcTag","objectTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","require","binding","nodeIsTypedArray","isTypedArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","Buffer","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","symToStringTag","toStringTag","getNative","nativeIsBuffer","isBuffer","nativeMax","nativeNow","nativeCreate","baseCreate","proto","isObject","Hash","entry","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assignMergeValue","baseAssignValue","assignValue","objValue","assocIndexOf","getMapData","pairs","LARGE_ARRAY_SIZE","fromRight","baseFor","keysFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsNative","isMasked","isFunction","toSource","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseMerge","source","srcIndex","customizer","stack","srcValue","mergeFunc","safeGet","stacked","newValue","isCommon","isTyped","isArrayLike","copyArray","isDeep","copy","cloneBuffer","typedArray","arrayBuffer","cloneArrayBuffer","byteOffset","cloneTypedArray","Ctor","isPlainObject","isNew","copyObject","keysIn","toPlainObject","initCloneObject","baseMergeDeep","baseRest","setToString","otherArgs","overRest","identity","baseSetToString","isKeyable","lastCalled","stamp","remaining","shortOut","other","isLength","baseUnary","assigner","merge","sources","guard","isIterateeCall","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","arrayPush","arraySome","predicate","isHostObject","mapToArray","overArg","setToArray","nativeGetSymbols","nativeKeys","DataView","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","SetCache","baseGet","isKey","castPath","toKey","baseHasIn","baseIsEqual","bitmask","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","equalArrays","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIteratee","isStrictComparable","matchesStrictComparable","defaultValue","hasFunc","hasPath","hasIn","UNORDERED_COMPARE_FLAG","baseMatchesProperty","matchData","getMatchData","noCustomizer","baseIsMatch","baseMatches","basePropertyDeep","stringToPath","arrLength","seen","arrValue","othIndex","getAllKeysIn","symbolsFunc","baseGetAllKeys","getSymbolsIn","getSymbols","stubArray","isSymbol","ctorString","memoize","baseToString","quote","memoized","isArrayLikeObject","baseKeys","basePickBy","defaultDispose","dispose","Infinity","newest","oldest","getNode","older","newer","clean","parentEntrySlot","toArray","collection","maybeUnsubscribe","entryOrDep","unsubscribe","emptySetPool","condition","optionalMessage","valueGet","Entry","parents","childValues","dirtyChildren","dirty","recomputing","deps","peek","mightBeDirty","rememberParent","recompute","forgetChildren","recomputeNewValue","setDirty","maybeSubscribe","reportClean","setClean","reallyRecompute","reportDirty","eachParent","forgetChild","forget","dependOn","dep","forgetDeps","reportDirtyChild","reportCleanChild","parentCount","parentWasClean","childValue","valueIs","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","dep_1","entryMethodName","m_1","makeDefaultMakeCacheKeyFunction","keyTrie","caches","wrap","originalFunction","keyArgs","makeCacheKey","optimistic","dirtyKey","peekKey","forgetKey","getKey","hasOwn","defaultDataIdFromObject","__typename","_id","keyObject","dataIdFromObject","addTypename","resultCaching","canonizeResults","normalizeConfig","shouldCanonizeResults","getTypenameFromStoreObject","objectOrReference","__ref","TypeOrFieldNameRegExp","fieldNameFromStoreName","storeFieldName","selectionSetMatchesResult","selectionSet","variables","every","selections","storeValueIsStoreObject","makeProcessedFieldsMerger","ApolloCache","getFragmentDoc","updateResult","optimisticId","performTransaction","recordOptimisticTransaction","transformDocument","identify","gc","transformForLink","readQuery","rootId","readFragment","fragment","fragmentName","writeQuery","dataId","writeFragment","updateQuery","updateFragment","MissingFieldError","deepFreeze","workSet","__DEV__","isFrozen","shallowFreeze","getOwnPropertyNames","maybeDeepFreeze","DELETE","delModifier","INVALIDATE","EntityStore","policies","group","rootIds","refs","getFieldValue","canRead","objOrRef","toReference","objOrIdOrRef","mergeIntoStore","toObject","fieldName","storeObject","rootTypenamesById","Layer","dependOnExistence","existing","incoming","merged","storeObjectReconciler","caching","fieldsToDirty_1","__exists","hasKeyArgs","fields","changedFields_1","needToMerge_1","allDeleted_1","sharedDetails_1","isReference","readField","fieldNameOrOptions","fieldValue","getStorage","typename","getStoreFieldName","limit","evicted","extraRootIds","getRootIdSet","__META","newData","rest_1","retain","release","snapshot","findChildRefIds","idsToRemove","root_1","found_1","workSet_1","keyMaker","CacheGroup","resetCaching","canUse","makeDepKey","maybeDependOnExistenceOfEntity","entityId","supportsResultCaching","Root","stump","Stump","storageTrie","addLayer","layerId","replay","removeLayer","ownStoreObject","parentStoreObject","fromParent","existingObject","incomingObject","existingValue","incomingValue","execSelectionSetKeyArgs","StoreReader","knownResults","compact","canon","executeSelectionSet","peekArgs","admit","enclosingRef","execSelectionSetImpl","resultCacheMaxSize","varString","executeSubSelectedArray","execSubSelectedArrayImpl","resetCanon","diffQueryAgainstStore","returnPartialData","missing","rootRef","execResult","fragmentMap","firstMissing","complete","isFresh","latest","isKnown","empty","objectsToMerge","missingMerger","handleMissing","resultName","rootIdsByTypename","selection","pass","fragmentMatches","finalResult","mergeDeep","frozen","childResult","assertSelectionSetForIdValue","tree","specifierInfoCache","lookupSpecifierInfo","spec","cacheKey","keyFieldsFnFromSpecifier","specifier","keyFieldsFn","collectSpecifierPaths","schemaKeyPath","extracted","extractKeyPath","extractKey","keyArgsFnFromSpecifier","keyArgsFn","collected","keyPath","firstKey","firstChar","variableName","varKeyPath","directives","directiveName_1","directiveArgs","extractor","merger","getSpecifierPaths","toMerge","paths","paths_1","currentPath_1","reducer","argsFromFieldSpecifier","nullKeyFieldsFn","simpleKeyArgsFn","mergeTrueFn","mergeObjects","mergeFalseFn","Policies","typePolicies","toBeAdded","supertypeMap","fuzzySubtypes","usingPossibleTypes","setRootTypename","possibleTypes","addPossibleTypes","addTypePolicies","partialContext","ROOT_QUERY","normalizeReadFieldOptions","policy","getTypePolicy","keyFn","specifierOrId","queryType","mutationType","subscriptionType","updateTypePolicy","keyFields","setMerge","getFieldPolicy","which","old","supertype","getSupertypeSet","subtype","policy_1","supertypes","inbox","createIfMissing","fieldPolicies","supertypeSet","typeCondition","typenameSupertypeSet","workQueue_1","maybeEnqueue_1","needToCheckFuzzySubtypes","checkingFuzzySubtypes","regExp","fuzzyString","fieldSpec","specifierOrString","readOptions","makeFieldFunctionOptions","getReadFunction","getMergeFunction","parentTypename","childTypename","runMergeFunction","makeMergeObjectsFunction","overwrite","readFieldArgs","argc","undefId","makeUniqueId","stringifyForDisplay","eType","iType","getContextFlavor","clientOnly","deferred","flavored","flavors","StoreWriter","writeToStore","operationDefinition","written","incomingById","processSelectionSet","mergeTree","fieldNodeSet","entityRef","applied","applyMerges","fieldsWithSelectionSets_1","hasSelectionSet_1","childTree","hasMergeFunction_1","existingRef","incomingObj","getChild","parentType","typeDotName","warnings","childTypenames","warnAboutDataLoss","result_1","flattenFields","resultFieldKey","getChildMergeTree","processFieldValue","maybeRecycleChildMergeTree","dataRef","sets","previous_1","mergeMergeTrees","mergeTreeIsEmpty","cloneDeep","fieldMap","limitingTrie","flatten","inheritedContext","visitedNode","visited","if","getStorageArgs","i_1","getValue_1","eVal","iVal","aVal","emptyMergeTreePool","needToMergeMaps","remainingRightKeys_1","leftTree","InMemoryCache","watches","typenameDocumentCache","makeVar","txCount","rootStore","optimisticData","resetResultCache","resetResultIdentities","previousReader","storeReader","storeWriter","maybeBroadcastWatch","broadcastWatch","broadcast","broadcastWatches","diff","watch","reset","discardWatches","removeOptimistic","idToRemove","newOptimisticData","onWatchUpdated","layer","alreadyDirty","lastDiff","fromOptimisticTransaction","stringifyCanon","stringifyCache","ObjectCanon","known","WeakSet","pool","passes","keysByJSON","original","proto_1","array_1","sortedKeys","firstValueIndex_1","obj_1","canonicalStringify","resetCanonicalStringify","canonical","cacheSlot","cacheInfoMap","getCacheInfo","vars","forgetCache","rv","recallCache","attachCache","oldListeners","attach","onNextChange","_createForOfIteratorHelperLoose","allowArrayLike","it","minLen","_arrayLikeToArray","_unsupportedIterableToArray","arr2","_defineProperties","descriptor","_createClass","protoProps","staticProps","hasSymbols","hasSymbol","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","ctor","Observable","isObservable","hostReportError","enqueue","cleanupSubscription","cleanup","_cleanup","closeSubscription","_observer","_queue","notifySubscription","onNotify","flushSubscription","Subscription","subscriber","subscriptionObserver","SubscriptionObserver","_subscription","_proto2","_subscriber","_proto3","_this2","_this3","_this4","C","hasSeed","_this5","startNext","flatMap","_this6","subscriptions","outer","completeIfDone","closed","_step","_iterator","of","_len2","items","_key2","passthrough","forward","toLink","ApolloLink","isTerminating","LinkError","links","leftLink","rightLink","execute","starting","createOperation","transformedOperation","extensions","operationName","transformOperation","OPERATION_FIELDS","validateOperation","firstLink","nextLink","setOnError","serializeFetchParameter","serialized","parseError","throwServerError","escapedRegExp","escapedReplacer","escapeSequences","ast","printDocASTReducer","Name","leave","Variable","Document","definitions","OperationDefinition","varDefs","variableDefinitions","VariableDefinition","SelectionSet","Field","alias","argsLine","indent","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","isBlockString","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","operationTypes","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","interfaces","FieldDefinition","hasMultilineItems","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","repeatable","locations","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","maybeArray","separator","_maybeArray$filter$jo","maybeString","_maybeArray$some","some","fallbackHttpConfig","http","includeQuery","includeExtensions","accept","defaultPrinter","printer","selectHttpOptionsAndBodyInternal","headersToLowerCase","credentials","normalized_1","fromError","errorValue","backupFetch","createHttpLink","linkOptions","uri","preferredFetch","useGETForQueries","includeUnusedVariables","requestOptions","checkFetcher","linkConfig","fetchOptions","chosenURI","fallbackURI","getContext","selectURI","clientAwarenessHeaders","clientAwareness","name_1","controller","contextHeaders","contextConfig","unusedNames_1","kind","signal","AbortController","createSignalIfSupported","_controller","queryParams","addQueryParam","encodeURIComponent","serializedVariables","serializedExtensions","preFragment","fragmentStart","queryParamsPrefix","newURI","rewriteURIForGET","setContext","bodyText","abort","HttpLink","asyncMap","mapFn","catchFn","activeCallbackCount","completed","promiseQueue","makeCallback","examiner","delegate","both","caught","graphQLResultHasError","iterateObserversSafely","observers","observersWithMethod","obs","fixObservableSubclass","subclass","species","isPromiseLike","Concast","addObserver","removeObserver","addCount","shift","deliverLastMessage","nextOrError","quietly","NetworkStatus","ApolloError","graphQLErrors","clientErrors","extraInfo","generateErrorMessage","isNetworkRequestInFlight","networkStatus","ObservableQuery","queryManager","queryInfo","subObserver","defaultSubscriptionObserverErrorCallback","last","reobserve","tearDownQuery","isTornDown","defaultOptions","watchQuery","fetchPolicy","defaultFetchPolicy","_e","_f","initialFetchPolicy","queryId","generateQueryId","opDef","queryName","removeQuery","getCurrentResult","saveAsLastResult","lastResult","getLastResult","hasForcedResolvers","getDiff","partial","partialRefetch","logMissingFieldErrors","updateLastResult","isDifferentFromLastResult","newResult","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","queryDef","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","originalNetworkStatus","notifyOnNetworkStatusChange","updatedQuerySet","fetchQuery","fetchMoreResult","previous","finally","reobserveCacheFirst","subscribeToMore","startGraphQLSubscription","subscriptionData","setOptions","newOptions","setVariables","broadcastQueries","startPolling","updatePolling","stopPolling","applyNextFetchPolicy","nextFetchPolicy","newNetworkStatus","setObservableQuery","fetchQueryObservable","ssrMode","pollingInfo","interval","maybeFetch","assumeImmutableResults","useDisposableConcast","oldVariables","oldFetchPolicy","mergedOptions","concast","reportResult","lastError","errorResult","hasObservers","stopQuery","obsQuery","LocalState","client","resolvers","fragmentMatcher","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","resolveDocument","localResult","getFragmentMatcher","clientQuery","serverQuery","prepareContext","getCacheKey","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","enter","rootValue","mainDefinition","fragments","definitionOperation","defaultOperationType","execContext","resolveSelectionSet","resultsToMerge","resolveField","fieldResult","fragmentResult","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","directive","resolveSubSelectedArray","destructiveMethodCounts","wrapDestructiveCacheMethod","cancelNotifyTimeout","QueryInfo","lastRequestId","observableQuery","getDiffOptions","updateWatch","oq","updateLastDiff","setDiff","oldDiff","notifyTimeout","oqListener","shouldNotify","stop","watchOptions","watcher","lastWatch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","errorPolicy","diffOptions","markReady","markError","writeWithErrors","QueryManager","queryDeduplication","onBroadcast","localState","queries","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","mutationStore","_info","stopQueryNoBroadcast","cancelPendingFetches","mutate","mutation","optimisticResponse","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","onQueryUpdated","_g","keepRootFields","mutationId","mutationStoreValue","_h","generateMutationId","getVariables","hasClientExports","markMutationOptimistic","getObservableFromLink","storeResult","markMutationResult","cacheWrites","skipCache","updateQueries_1","updater","currentQueryResult","nextQueryResult","mutationResult","queryVariables","results_1","updateCache","asQuery","include","getQueryStore","transformed","forLink","cacheEntry_1","defaultVars","def","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","clearStore","getObservableQueries","queryNamesAndDocs","legacyQueryOptions","desc","getQuery","included","nameOrDoc","reFetchObservableQueries","includeStandby","observableQueryPromises","makeObservable","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","forceFetch","byVariables_1","varJson_1","getResultsFromLink","requestId","hasErrors","aqr","defaults","normalized","fromVariables","concastSources","fetchQueryByPolicy","cleanupCancelFn","includedQueriesById","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","fromData","resultsFromLink","newContext","mergeOptions","hasSuggestedDevtools","ApolloClient","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","__APOLLO_CLIENT__","typeDefs","clientAwarenessName","clientAwarenessVersion","disableNetworkFetches","resetStore","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","ua","devToolsHookCb","mutations","dataWithOptimisticResults","__actionHookForDevTools","cb","__requestRaw","onResetStore","onClearStore","serializedState","setLocalStateFragmentMatcher","setLink","newLink","ApolloProvider","ApolloContext","Consumer","isNonEmptyArray","cloneDeepHelper","copy_1","copy_2","objects","prefixCounts","mergeDeepArray","DeepMerger","defaultReconciler","reconciler","pastCopies","sourceKey","targetValue","shallowCopyForMerge","isNonNullObject","shouldInclude","isInclusionDirective","directiveArguments","directiveName","ifArgument","ifValue","getInclusionDirectives","evaledValue","hasDirectives","getDirectiveNames","getFragmentQueryDocument","actualFragmentName","definition","createFragmentMap","symTable","getFragmentFromSelection","checkDocument","getOperationDefinition","getOperationName","getFragmentDefinitions","getQueryDefinition","getFragmentDefinition","fragmentDef","getMainDefinition","queryDoc","fragmentDefinition","getDefaultValues","defaultValues","defs","makeReference","isDocumentNode","valueToObjectRepresentation","argObj","isIntValue","isFloatValue","isBooleanValue","isStringValue","isObjectValue","nestedArgObj_1","isVariable","variableValue","isListValue","listValue","nestedArgArrayObj","isEnumValue","isNullValue","storeKeyNameFromField","directivesObj","getStoreKeyName","KNOWN_DIRECTIVES","filterKeys","filteredArgs_1","completeFieldName","stringifiedArgs","setStringify","stringifyReplacer","argumentsObjectFromField","argObj_1","resultKeyNameFromField","getTypenameFromResult","isField","isInlineFragment","filterInPlace","elem","TYPENAME_FIELD","isEmpty","nullIfDocIsEmpty","getDirectiveMatcher","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","getAllFragmentSpreadsFromSelectionSet","frag","argMatcher","aConfig","getArgumentMatcher","varDef","argConfig","argMatchCount_1","removeArgumentsFromDocument","fs","removeFragmentSpreadFromDocument","addTypenameToDocument","added","connectionRemoveConfig","willRemove","removeConnectionDirectiveFromDocument","allFragments","buildQueryFromSelectionSet","removeClientSetsFromDocument","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_defineProperty","_objectSpread","ownKeys","sym","getOwnPropertyDescriptor","BREAK","visit","visitor","visitorKeys","enterLeaveMap","getEnterLeaveForKind","inArray","edits","ancestors","isLeaving","isEdited","editOffset","editKey","editValue","arrayKey","defineProperties","getOwnPropertyDescriptors","_enterLeaveMap$get","_enterLeaveMap$get2","visitFn","_node$kind","kindVisitor"],"sourceRoot":""}